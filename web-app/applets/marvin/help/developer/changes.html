<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta NAME="author" CONTENT="Peter Csizmadia">
<link REL ="stylesheet" TYPE="text/css" HREF="../marvinmanuals.css" TITLE="Style">
<title>Changes</title>
</head>
<body>

<h1 align=center>History of changes: New features and improvements, bug fixes</h1>
<h3><a NAME="V5206" class="anchor">October 19th, 2009: Marvin 5.2.6</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>Applet</strong>
	<ul>
		<li>The default value of the <a href="sketchman.html#parameters.legacy_lifecycle">legacy_lifecycle</a> parameter in marvin.js is false if the current browser is OS X Safari (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=5277">forum topic</a>).</li>
		<li>The applet starting splashscreen is disabled in marvin.js by default if the current browser is OS X Safari 
		(<a href="http://www.chemaxon.com/forum/ftopic5301.html">forum topic</a>).</li>
	</ul>
	</li>
	<li><strong>Import/Export</strong>
	<ul>
		<li>Text boxes imported from MRV are automatically resized if the autoSize 
		attribute is true and repositioned if alignment differs from top left.</li>
	</ul>
	</li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>Copying Kekule structures as Marvin objects to MS Office documents 
			after changing the aromatization method in the 
			Structure > Aromatization > Aromatization Method menu resulted in pasting 
			aromatized structures (<a href="http://www.chemaxon.com/forum/ftopic5362.html">forum 
			topic</a>).</li>
            <li>Recent file list bug when file name contained comma.</li>
            <li>Copy was aromatizing molecule if aromatize option had been
            changed ever in any Marvin application
            (<a href="http://www.chemaxon.com/forum/ftopic5362.html">forum topic</a>.</li>
        </ul>
    </li>
	<li><strong>MarvinView</strong>
	<ul>
		<li>There was an unexpected end of file exception when using standard input 
		and changing table size.</li>
                <li>MarvinView forgot the settings that had been loaded from mrf file after repaint the table.</li>
                <li>Regardless to the save/load gui properties setting, MarvinView did not save the gui properties mrv files.</li>
	</ul>
	</li>
        <li><strong>Install</strong>
        <ul>
            <li>Marvin/JChem batch files did not accept <em>" (x86)"</em> in the path of the Marvin/JChem directory
            (<a href="http://www.chemaxon.com/forum/viewpost22411.html#22411">forum topic</a>).</li>
        </ul>
        </li>
	<li><strong>Import/Export</strong>
	<ul>
		<li>There was an error in importing Mrv files including Sgroups embedded 
		into MultipleSgroups.</li>
	</ul>
	</li>
        <li><strong>2D Cleaning</strong>
        <ul>
            <li>2D cleaning of a superatom Sgroup including the same structure more than once hided structures.</li>
        </ul>
        </li>
	<li><strong>Template Handling</strong>
	<ul>
		<li>There were problems with the charges on template molecules
		(<a href="http://www.chemaxon.com/forum/ftopic5329.html">forum topic</a>).</li>
	</ul>
	</li>
	<li><strong>Licenses</strong>
	<ul>
		<li>Structure to Name" licenses did not work.</li>
	</ul>
	</li>
	<li><strong>API:</strong>
	<ul>
		<li>The MolPrinter.setDispopts method did not recalculate molecule bounds.</li>
		<li>The MolPrinter.maxScale method neglected r-group definition.</li>
		<li>MViewPane.getPrefferedSize() threw NullPointerException in certain JTable cell renderer by displaying JTable window.</li>
	</ul>
	</li>
</ul>

<h3><a NAME="V5205" class="anchor">September 14th, 2009: Marvin 5.2.5</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>
			<li>From the <em>Edit/Preferences/OLE Server</em> menu you 
			can control the displaying of confirmation dialog of the 
			MarvinSketch instance of OLE Server.</em>
		</ul>
	</li>
    <li><strong>Applet</strong>
        <ul>
            <li>Faster applet and webstart loading: Pack200 compresson of jar files in Marvin Applets and Webstart packages. Applets/webstart examples
            uses these compressed jars with Java 1.6.0_10 and above version.</li>
        </ul>
    </li>
	<li><strong>Import/Export</strong>:
		<ul>
			<li>Structures can be saved in InChiKey format from the GUI. 
			InChiKey can also be selected in the Edit > Source window.</li>
			<li>Support rel- relative stereo names in name import.</li>
			<li>Support of nucleosides and nucleotides in name import.</li>
			<li>Better support for traditional names in name import (over 15% more 
			names supported from NCI database).</li>
			<li>Better support of stereo descriptors in name import: cis-, trans- is supported.</li>
		</ul>
	</li>
    <li><strong>Documentation</strong>
        <ul>
            <li>New public example demonstrating the usage of text boxes with formatted text.</li>
        </ul>
    </li>
  <li><strong>API</strong>
	<ul>
			<li>New getter and setter methods in MolPrinter API for trancparency, 
			ballRadius, stickThickness, wireThickness, lonePairsAutoCalculated, 
			carbonVisibility, boundingRectangle.</li>
			<li>Name to structure extraction from text and html documents API has 
			been added to the name-to-structure infrastructure (see the api documentation 
			of chemaxon.naming.DocumentExtractor.</li>
			<li>Custom name conversion plugin API has been added to the name-to-structure 
			infrastructure (see the api documentation of chemaxon.naming.NameConverters). 
			This allows for instance the integration of a large in-house structure 
			dictionary (including names) stored in a local or remote database into 
			name-to-structure and document-to-structure conversions.</li>
			<li>Deprecated asynchronous molecule setting methods in MViewPane API: 
			setM(int, String), setM(int, String, String) and setM(int, File, String).</li>
                        <li>New method to retrieve transformation matrix in viewer: MViewPane.getRotationMatrix(int).</li>
	</ul>
    </li>
   <li><strong>.NET integration</strong>
       <ul>
           <li>MarvinBeans for .NET snapshot version is available
           (<a href="http://www.chemaxon.com/marvin/download-dev-dotnet.html">download</a>, 
		   <a href="http://www.chemaxon.com/dotNET/">documentation</a>).</li>
       </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinView</strong>
        <ul>
            <li>MView table cell resizing is not working 
			(<a href="http://www.chemaxon.com/forum/viewpost24029.html">forum topic</a>).</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
			<li>Aliphatic property was not added to aliphatic C with doublebond and 
			any bond during SMARTS 
			(<a href="http://www.chemaxon.com/forum/ftopic5123.html">forum topic</a>).</li>
            <li>MarvinView and MarvinSketch sometimes crashed when bad InChI was 
			imported.</li>
        </ul>        
    </li>
    <li><strong>Chemical Structure Painting</strong>
        <ul>
	        <li>The Wireframe with Knobs display option did not work.</li>
	     </ul>
    </li>
	<li><strong>Clean 2D</strong>
		<ul>
		<li>Explicit H atoms having parity were improperly added with the Clean option.</li>
		<li>2D cleaning of a bridged ring having another ring as neighbor was wrong.</li>
		</ul>
	</li>
    <li><strong>Licenses</strong>
        <ul>
            <li>Resonance plugin displayed a warning without a license (although it 
			is a free plugin).</li>
            <li>There was a minor bug in license key verification.</li>
        </ul>
    </li>
</ul>

<h3><a NAME="V5204" class="anchor">August 11th, 2009: Marvin 5.2.4</a></h3>
<h4>New features and improvements</h4>
<ul>
   <li><strong>MarvinSketch</strong>
       <ul>
           <li>New icon is added to the "Add Attachment Point" action
           (<a href="http://www.chemaxon.com/forum/ftopic5018.html">forum topic</a>).</li>
           <li>New keyboard shortcuts: 5 - Single Up, 6 - Single Down, 7 - Wiggly 
		   bond.</li>
       </ul>
   </li>
   <li><strong>Molecule representation</strong>
       <ul>
           <li>Add function that returns improved information of parity.</li>
       </ul>
   </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>Custom menus were not loaded after restarting MarvinSketch.</li>
        </ul>
    </li>
    <li><strong>MarvinView</strong>
        <ul>
            <li>Print All did nothing if multiple pages were sent to the printer 
			from MarvinView.</li>
        </ul>
    </li>
    <li><strong>Licenses</strong>
        <ul>
            <li>Fixed the displayed state of licenses to be installed. (Replaced 
			"Invalid" with "To be installed".)</li>
        </ul>
    </li>
    <li><strong>Applet</strong>
        <ul>
            <li>Complete the missing isLeopardSafari() method in marvin.js 
			(marvin/sketch/index.jsp did not load in Mac Safari)
            (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=23804#23804">forum 
			topic</a>).</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
            <li>Partial charges numeric format in mol2 is fixed
            (<a href="http://www.chemaxon.com/forum/viewpost21849.html#21849">forum 
			topic</a>).</li>
        </ul>        
    </li>
    <li><strong>Molecule representation</strong>
        <ul>
            <li>Nitrogen with double bond and explicit H gets stereo value
            (<a href="http://www.chemaxon.com/forum/ftopic5106.html">forum topic</a>).</li>
            <li>Bug was in setDim method in RgMolecule.</li>
        </ul>
    </li>
    <li><strong>Chemical Structure Painting</strong>
        <ul>
	        <li>Bracket overwrote lone pairs, image generation clipped off lone 
			pairs/charge symol (<a href="http://www.chemaxon.com/forum/ftopic5077.html">
			forum topic</a>).</li>
	     </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>Canonical tautomer calculation threw ArrayIndexOutOfBoundsException 
			in some cases
            (<a href="http://www.chemaxon.com/forum/ftopic5063.html">forum topic</a>).
        </ul>
    </li>
</ul>

<h3><a NAME="V52032" class="anchor">July 29th, 2009: Marvin 5.2.3.2</a></h3>
<h4>New features and improvements</h4>
<ul>
    <li><strong>API</strong>
	<ul>
	<li>New functions are added that return improved information of parity:
	<em>Parity.asymmetricAtoms(MoleculeGraph)</em>, 
	<em>Parity.chiralAtoms(MoleculeGraph)</em>.</li>
	</ul>
    </li>
</ul>

<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch</strong>
	<ul>
	<li>Initialization problem in MarvinSketch if it was initialized through MarvinOLEServer.</li>
	</ul>
    </li>
    <li><strong>Calculator Plugins</strong>
	<ul>
	<li>The chiralCenterCount function in TopologyAnalyser plugin returned now zero for the number of chiral centers of 1,4-dimethylcyclohexane.</li>
	</ul>
    </li>
</ul>

<h3><a NAME="V52031" class="anchor">July 15th, 2009: Marvin 5.2.3.1</a></h3>
<p>No changes</p>

<h3><a NAME="V5203" class="anchor">July 8th, 2009: Marvin 5.2.3</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>MarvinSketch</strong>
	<ul>
		<li>A splash screen image is shown during the initialization of the MarvinSketch
		standalone version.</li>
	</ul></li>
	<li><strong>Import/Export</strong>
	<ul>
		<li>Partial charges are saved in mol2 file format based on the calculation 
		result of the charge plugin (charge license required; if it is not found then 
		the mol2 file is created without charges).
		(<a href="http://www.chemaxon.com/forum/viewpost21849.html#21849">forum topic</a>).</li>
		<li>Relative stereo descriptors (using enhanced stereo OR groups) is supported 
		in name export.</li>
                <li>Amino acid recognition in Name import has been improved: substituents are recognized, D/L configuration is supported.</li>
                <li>Importing non standard names is more flexible: more freedom at numbering, bracers and dashes.</li>
		<li>Cis/trans releated information is supported in name import.</li>
	</ul></li>
	<li><strong>Clean 2D</strong>
	<ul>
		<li>The arrangement of wedge bonds using the 'Clean wedge bonds' option has
		been improved.
		(<a href="http://www.chemaxon.com/forum/ftopic4899.html">forum topic</a>).</li>
	</ul></li>
	<li><strong>Applet</strong>
	<ul>
		<li>The loading of MSketch Applet is sped up: the total size of the files 
		downloaded during the first initialization has been reduced by 14% compared 
		to the previous version.</li>
                <li>The value of the "legacy_lifecycle" parameter is true in default in Marvin applets if you use marvin.js (see <a href="sketchman.html#parameters.legacy_lifecycle">applet parameters</a>).</li>
		<li>New methods have been introduced in marvin.js, which return with the generated 
		applet source instead of writing it into the html source: 
		<em>msketch_end_to_string()</em>, <em>mview_end_to_string()</em>
		and <em>mspace_end_to_string()</em>.</li>
                <li>A new applet parameter has been introduced ("appletid") to 
                identify applet in 
		the propertychange event notification sent to JavaScript.</li>
		<li>The marvin.js uses ID attribute instead of NAME to refer to the applet.</li>
	</ul></li>
	<li><strong>Chemical Terms</strong>
	<ul>
		<li>New Chemical Terms functions have been introduced:
		<ul>
			<li>importMol()</li>
			<li>isMarkush() 
			(<a href="http://www.chemaxon.com/forum/viewtopic.php?p=22969#22969">forum topic</a>)</li>
			<li>whereIsValenceError()</li>
			<li>hasAromatizationError()</li>
		</ul>
		</li>
	</ul></li>
	<li><strong>Calculator plugins</strong>
	<ul>
		<li>A new method has been implemented in the Structural Frameworks plugin 
		of the Geometry plugin: checkMolecule().</li>
		<li>The major tautomer generation has been sped up
		(<a href="http://www.chemaxon.com/forum/ftopic4738.html">forum topic</a>).</li>
		<li>Stereoisomer plugin can generate stereoisomers with given chirality as constraint
        (<a href="http://www.chemaxon.com/forum/ftopic3675.html">forum topic</a>).</li>
	</ul></li>
</ul>

<h4>Bugfixes</h4>
<ul>
	<li><strong>MarvinSketch</strong>
	<ul>
		<li>The 'Recent file list' contained two separate (and incorrect) items if 
		the filename contained a comma character (divided at the comma).</li>
                <li>OLE failed with some repaint events when the canvas was in the background of other java components.</li>
	</ul></li>
	<li><strong>Applet</strong>
	<ul>
		<li>The JVM version in the EMBED and the OBJECT tag in the marvin.js generated 
		code was not up-to-date. In addition to the update the NAME attribute was changed to ID 
		(<a href="http://www.chemaxon.com/forum/viewtopic.php?p=22976#22976">forum topic</a>).</li>
		<li>The "viewCarbonVisibility" applet parameter did not work
		(<a href="http://www.chemaxon.com/forum/ftopic4673.html">forum topic</a>).</li>
	</ul></li>
	<li><strong>Import/Export</strong>
	<ul>
		<li>Some R/S and E/Z stereo descriptors were missing in generated names.</li>
		<li>Failing on name generation of very complex structures was not handled 
		too gracefully.</li>
		<li>cxsmarts:h failed
		(<a href="http://www.chemaxon.com/forum/ftopic4996.html">forum topic</a>).</li>
		<li>MOLFiles with incorrect spaces at the end of the new type of Atom list
		definition lines can now be imported without error.</li>
                <li>CDX import failed at some reaction mapping.</li>
	</ul></li>
	<li><strong>Molecule representation</strong>
	<ul>
		<li>There was a NullPointerException in aromatization
		(<a href="http://www.chemaxon.com/forum/ftopic5009.html">forum topic</a>).</li>
		<li>Copy/paste and import/export of a molecule in mrv format having an S-Group with 
		only one atom did not work
		(<a href="http://www.chemaxon.com/forum/viewpost20739.html#20739">forum topic</a>).</li>
		<li>The getAromaticAndAliphaticRings method threw NullPointerException
		(<a href="http://www.chemaxon.com/forum/ftopic5009.html">forum topic</a>).</li>
	</ul></li>
	<li><strong>Calculator plugins</strong>
	<ul>
		<li>The exceptions of the Structural Frameworks plugin were sometimes improper (now it throws 
		PluginException on error).</li>
		<li>Projected surface area prediction produced inconsistent values
		(<a href="http://www.chemaxon.com/forum/viewpost17016.html#17016">forum topic</a>).</li>
	</ul></li>
	<li><strong>Template handling</strong>
	<ul>
		<li>Homology templates were missing in applets.</li>
	</ul></li>
	<li><strong>Installation</strong>
	<ul>
		<li>Marvin/JChem batch files could not handle quotes in the parameter list
		(<a href="http://www.chemaxon.com/forum/viewtopic.php?p=22695">forum topic</a>).
	</ul></li>
	<li><strong>Licenses</strong>
	<ul>
		<li>The use of the setLicense or setLicenseFile API resulted in unusable 
		client licenses unless they had the "Server Mode Allowed" field
		(<a href="http://www.chemaxon.com/forum/viewtopic.php?p=22700#22700">forum topic</a>).</li>
	</ul></li>
</ul>

<h3><a NAME="V5202" class="anchor">May 27th, 2009: Marvin 5.2.2</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>MarvinSketch</strong>:
		<ul>
			<li>The <em>Clear Atom List</em> button is added to the
			<em>Periodic System</em> dialog window
			(<a href="http://www.chemaxon.com/forum/ftopic4571.htmlhttp://www.chemaxon.com/forum/ftopic4571.html">forum topic</a>).</li>
			<li>Icon for Reaxys Generics is added.</li>
		</ul>
	</li>
	<li><strong>MolConverter</strong>:
		<ul>
			<li>Option <em>-m</em> produces multiple output files from multi-molecule input
			(<a href="https://corp.chemaxon.com/flyspray/index.php?do=details&task_id=7940">forum topic</a>).
		</ul>
	</li>
	<li><strong>Applet</strong>:
		<ul>
			<li>New applet parameters for setting license files
			(forum topics: <a href="http://www.chemaxon.com/forum/ftopic3715.html">#3715</a>,
			 <a href="http://www.chemaxon.com/forum/ftopic4796.html">#4796</a>).</li>
		</ul>
	</li>
	<li><strong>Import/Export</strong>:
		<ul>
			<li>InChi 1.02 version has been integrated.</li>
			<li>InChiKey can be exported. New export option: <em>inchi:key</em></li>
		</ul>
	</li>
	<li><strong>Calculator Plugins</strong>:
		<ul>
			<li>Added average microspecies charge calculations to cxcalc
			(<em>averagemicrospeciescharge</em>) and Chemical Terms 
			(<em>averageMicrospeciesCharge()</em>)
			(<a href="http://www.chemaxon.com/forum/viewpost18838.html#18838">forum topic</a>).
		</ul>
	</li>
	<li><strong>Documentation</strong>:
		<ul>
			<li><em>chemaxon.marvin.MolPrinter</em> and 
			<em>chemaxon.formats.MolConverter</em> API are improved.</li>
		</ul>
	</li>
	<li><strong>API</strong>:
		<ul>
			<li>Named constants for applet and bean parameters are available in the API:
			<a href="http://www.chemaxon.com/marvin/help/developer/beans/api/chemaxon/marvin/common/ParameterConstants.html">chemaxon.marvin.common.ParameterConstants</a>.</li>
			<li>New MolRenderer API available:
			<a href="http://www.chemaxon.com/marvin/help/developer/beans/api/chemaxon/marvin/beans/MolRenderer.html">chemaxon.marvin.beans.MolRenderer</a>.</li>
			<li>Deprecated methods in <em>chemaxon.formats.MolImporter</em>: parameterless constructor, <em>setOptions(String)</em>, <em>setFileName(String)</em>.</li>
		</ul>
	</li>
</ul>
<h4>Bugfixes</h4>
<ul>
	<li><strong>MarvinSketch</strong>:
		<ul>
			<li>Undo sets viewport to lower-right corner/Undo-Redo scaling.</li>
			<li>Number of missing from menu label AND1 and AND2 in 
			<em>Atom &gt; Stereo &gt; Enhanced</em> menu.</li>
		</ul>
	</li>
	<li><strong>MarvinView</strong>:
		<ul>
			<li>Selected cell becomes unselected after changing table options.</li>
		</ul>
	</li>
	<li><strong>Import/Export</strong>:
		<ul>
			<li>Pseudoatom export bug in MDL Molfile export.</li>
			<li>Chiral center had wrong connectivity at atom.
			(<a href="http://www.chemaxon.com/forum/ftopic4795.html">forum topic</a>).</li>
			<li><em>chemaxon.util.MolHandler</em> threw ClassCastException by SMILES.</li>
			<li>Unique SMILES export bugs.</li>
			<li>ClassCastException threw by endless loop for invalid SMILES import.
			(<a href="http://www.chemaxon.com/forum/ftopic4782.html">forum topic</a>)</li>
			<li>Reaction arrow was not visible by creating JPEG reaction images.</li>
			<li>MRV import failed for polymer in abbreviated S-group.</li>
			<li>IUPAC name import bug by certain structures.</li>
		</ul>
	</li>
	<li><strong>Molecule representation</strong>:
		<ul>
			<li>The <em>chemaxon.marvin.MolPrinter.setMol</em> method ignored atom sets.</li>
		</ul>
	</li>
	<li><strong>Chemical structure and graphical object painting</strong>:
		<ul>
			<li><em>NullPointerException</em> in a <em>MolPrinter</em> example
			(<a href="http://www.chemaxon.com/forum/viewpost21913.html#21913">forum topic</a>).</li>
			<li>The <em>Get Sketch Image</em> button on Marvin Beans example 
			(<em>examples/beans/sketch-images/SketchImages</em>) generated misplaced drawing.</li>
		</ul>
	</li>
	<li><strong>Calculator Plugins</strong>:
		<ul>
			<li>3D flexible alignment throws <em>NullPointerException</em> if molecules
			are too dissimilar to align.</li>
			<li>Timelimit setting added to 3D flexible alignment API.</li>
		</ul>
	</li>
	<li><strong>Licenses</strong>:
		<ul>
			<li>Name to Structure was not running freely from Marvin.</li>
		</ul>
	</li>
</ul>

<h3><a NAME="V5201" class="anchor">April 14th, 2009: Marvin 5.2.1</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>
			<li>Copy actions run in background thread.</li>
			<li>Speed up OLE copy: MarvinOLEServer running in the background permanently.</li>
		</ul>
	</li>
	<li><strong>Applet</strong>
		<ul>
			<li>Customizable applet splash screen which is displayed while the applet is loading (<a href="../../examples/applets/sketch/splashscreen.html">live example</a>).</li>
		</ul>
	</li>
	<li><strong>Import/Export</strong>
		<ul>
			<li>Allows aromatic boron in cxsmiles.</li>
			<li>cxsmarts format stores attachment point data.</li>
			<li>Support for atom values in cxsmiles.</li>
			<li>Keep wedge arrangement in cxsmiles
			(<a href="http://www.chemaxon.com/forum/viewtopic.php?p=19796">forum topic</a>).</li>
		</ul>
	</li>
	<li><strong>Calculator Plugins</strong>
		<ul>
			<li>Structural frameworks plugin is moved to Other plugin group, 3D Alignment plugin is moved to Conformation plugin group.</li>
			<li>Added stereoDoubleBondCount calculation to TopologyAnalyserPlugin.</li>
		</ul>
	</li>
	<li><strong>Licenses</strong>
		<ul>
			<li>The Alignment plugin can be used with Conformation Plugin license.</li>
		</ul>
	</li>
	<li><strong>API</strong>
		<ul>
			<li>CGraph.cloneCopy() copies all relevant cached calculated data.</li>
		</ul>
	</li>
</ul>

<h4>Bugfixes</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>
			<li>The first alteration of the structure couldn't be undone in MarvinSketch opened through MarvinView.</li>
			<li>The .H+/.H- buttons could not be used in some cases.</li>
			<li>Do not show carbon atoms when charge is on bracket.</li>
			<li>Bold font is used for superscripts in case of charge for better visibility.</li>
			<li>Missing bond problem after OLE copy: reimplementing bond-crossing drawing.</li>
			<li>Missing bond crossing visualization when crossing a bond with a bond vertically.</li>
			<li>The Insert &gt; Groups dialog contained some empty elements.</li>
		</ul>
	</li>
	<li><strong>MarvinView</strong>
		<ul>
			<li>MarvinView hid the right side of text boxes.</li>
			<li>MarvinView did not display SD file property when first entries are missing the value.</li>
			<li>MarvinView freezing when molecule subset start index set to invalid value.</li>
		</ul>
	<li><strong>MarvinSpace</strong>
		<ul>
			<li>MSpace debug printout is removed.</li>
		</ul>
	</li>
	<li><strong>Import/Export</strong>
		<ul>
			<li>Rdf conversion lost the reaction number 
			(<a href="http://www.chemaxon.com/forum/viewpost20505.html#20505">forum topic</a>).</li>
			<li>Fixed fusion bridge wrong lettering in name export
			(<a href="http://www.chemaxon.com/forum/viewpost21668.html">forum topic</a>).</li>
		</ul>
	</li>
	<li><strong>Molecule Representation</strong>
		<ul>
			<li>Ungrouping of multilevel S-groups with Molecule.DEFAULT_UNGROUP caused NPE.</li>
			<li>Empty DataSgroup-s are removed if an S-group gets empty (API, GUI).</li>
			<li>Merge Brackets popup menu item was not available in some cases.</li>
			<li>Rings were not cleaned perfectly.</li>
		</ul>
	</li>
	<li><strong>Calculator Plugins</strong>
		<ul>
			<li>MarkushEnumerationPlugin.getRandomStructure() did not return random structures, always the first enumerated was returned.</li>
		</ul>
	</li>
	<li><strong>Licenses</strong>
		<ul>
			<li>Markush license exception was incorrectly thrown by JChemSearch.</li>
		</ul>
	</li>
	<li><strong>API</strong>
		<ul>
			<li>MolImporter.getRecordCount returned 2* the expected number.</li>
			<li>First (record number) column displays the value returned by MDocSource.getDocLabel.</li>
		</ul>
	</li>
</ul>

<h3><a NAME="V5200" class="anchor">March 10th, 2009: Marvin 5.2</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>Compatibility</strong>
		<ul>
			<li>Minimum <strong>Java</strong> requirement of Marvin is <strong>1.5</strong>.</li>
		</ul>
	</li>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>Truly transparent structure painting method: higher quality drawings at crossing bonds and atom labels.</li>
            <li>Vector graphics (EMF) copy place transparent picture to the clipboard.</li>
            <li>New color schema options on the Periodic System dialog.</li>
            <li>Charge can be assigned to the S-group and displayed on the molecule bracket.</li>
            <li>Drawing attachment points outside S-groups.</li>
            <li>Homology group drawing.</li>
        </ul>
    </li>
    <li><strong>MarvinView</strong>
        <ul>
		<li>Copy/Paste transfers molecule properties.</li>
		<li>"Go To" option in Table menu.</li>
		<li>New values of edited data fields and molecules are stored 
		permanently in memory even in case of large (cached) viewer tables.</li>
        </ul>
    </li>

    <li><strong>Import/Export</strong>
        <ul>
            <li>Extended support for the generation of fused names (from 75% to 80%) in IUPAC name export.</li>
            <li>CAS naming and simple fused systems supported in name import.</li>
            <li>Transparent background in image export (EMF, SVG, PNG).</li>
        </ul>
    </li>
    <li><strong>Molecule representation</strong>
        <ul>
            <li>New option for adding an explicit hydrogen atom to chiral centers having no terminal atoms when 2D cleaning is performed.</li>
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>New plugin: Flexible 3D alignment of multiple molecule structures to each other.</li>
            <li>New plugin: structural framework calculation including Bemis-Murcko.</li>
            <li><strong>Markush enumeration</strong>:
                <ul>
                    <li>Enumeration of homology groups.</li>
                    <li>Enumeration of X pseudo atoms [F,Cl,Br,I].</li>
                </ul>
            </li>
            <li>pKa calculator is trainable.</li>
            <li>Total charge calculation in cxcalc ("totalcharge") (<a href="http://www.chemaxon.com/forum/ftopic3449.html">forum topic</a>).</li>
            <li>"Take major tautomeric form" option in MajorMicrospeciesPlugin.</li>
            <li>23 new ring related functions in TopologyAnalyser.</li>
            <li>Resonance Plugin was moved to "Other" plugin group, and it can be used without license key (free)
            (<a href="http://www.chemaxon.com/forum/ftopic4371.html">forum topic</a>).</li>
        </ul>
    </li>
    <li><strong>Chemical Terms</strong>
        <ul>
            <li>Flexible plugin parameter setting in Evaluator: "name1:value1 name2:value2 ...". (Example: <code>markushEnumerations('random:true id:true', '1,2', 5)</code>.)</li>
            <li>hasRadical(), radicalCount(), and hasIsotope() functions in Chemical Terms.</li>
            <li>fragments() function in Chemical Terms
            (<a href=": http://www.chemaxon.com/forum/viewpost6827.html#6827">forum topic</a>).</li>
            <li>CT Editor is available in Marvin API.</li>
        </ul>
    </li>
    <li><strong>API</strong>
        <ul>
            <li>Transfer button: optional button to send the molecule to the specified target after closing MarvinSketch window.</li>
            <li>Specify own background color separately for each cell in MarvinView via (applet) parameter.</li>
            <li>New metal types can be specified in Periodic system.</li>
            <li>Structure checker core classes and functions are implemented.</li>
			<li>MViewPane enhanced table support.</li>
			<li>PluginFactory creates new plugin and display instances 
			for each getPlugin() and getDisplay() call in case of multimol display; added MOLECULES result domain type and 
			canRepeat() in CalculatorPlugin</li>
        </ul>
    </li>
</ul>

<h4>Bugfixes</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>	
			<li>Disabled tooltips in menus.</li>
                        <li>The copied and generated structure with Data S-group is much bigger than needed (<a href="http://www.chemaxon.com/forum/viewpost16590.html#16590">forum topic</a>).</li>
		</ul>
	</li>
	<li><strong>MarvinView</strong>
		<ul>
			<li>Print All displayed only the first row on each page.</li>
			<li>Multi-line SDF properties seem to be truncated in the cells until somone clicks on them (then a scrollbar appears).</li>
			<li>Page Up/Page Down not working in spreadsheet view.</li>
			<li>NullPointerException in empty mview when the "Show Fields" option was selected.</li>
		</ul>
	</li>
    <li><strong>Import/export</strong>
        <ul>
            <li>Cis Trans info defined by aromatic bonds in SMART / SMILES import.
            (<a href="http://www.chemaxon.com/forum/viewpost19346.html#19346">forum topic</a></li>
			<li>SMILES export of SuperAtom S-group in SuperAtom S-group did not work (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=2899&amp;start=0">forum topic</a>).</li>
        </ul>
    </li>
    <li><strong>Molecule representation</strong>
        <ul>
            <li>Clean 2D improvement (<a href="http://www.chemaxon.com/forum/viewpost17434.html#17434">forum topic</a>).</li>			
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>Double bond stereoisomers of molecules containing wiggly type double bonds are generated correctly 
            (<a href="http://www.chemaxon.com/forum/ftopic4060.html">forum topic</a>).</li>
			<li>Ungrouping grouped molecules before calculating functions in ElementalAnalyser.</li>
			<li>cxcalc in concurrent mode always used ReusableInputProducer and hence plugin objects are always re-set in the working units.</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5107" class="anchor">March 26th, 2009: Marvin 5.1.7</a></h3>
<h4>New features and improvements</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>Customizable behavior of the "Close" option of Sketcher window.</li>
            <li>The isotope list can be modified by the user (<a href="../sketch/isotopelist.html">editing the isotope list</a>).</li>
        </ul>
    </li>
    <li><strong>Applet</strong>
        <ul>
            <li>A custom image can be used with the java splash screen displayed while the applet is loading (<a href="../../examples/applets/sketch/splashscreen.html">live example</a>).</li>
        </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>Import/Export</strong>
        <ul>
            <li>The "Double Cis or Trans" bond ("Double Either" bond) was 
			improperly imported from / exported to extended MOL (V3000) format.</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5106" class="anchor">March 23rd, 2009: Marvin 5.1.6</a></h3>
<h4>New features and improvements</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>New template group: the generic groups that are used in searches in Beilstein.</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
            <li>MOL and extended MOL import and export of Belstein Generics.</li>
        </ul>
    </li>
    <li><strong>Applet</strong>
        <ul>
            <li>A java splash screen ("Applet is loading...") is displayed while the applet is loading.</li>
            <li>Load on-demand modules in background thread.</li>
            <li>Display wait icon when loading on-demand modules.</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5105" class="anchor">February 14th, 2009: Marvin 5.1.5</a></h3>
<h4>New features and improvements</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>
			<li>Explicit valence setting of atoms is available from menu
			(<a href="http://www.chemaxon.com/forum/ftopic1412.html">forum topic</a>).
		</ul>
	</li>
	<li><strong>MarvinView</strong>
		<ul>
			<li>Large file viewing improved and lots of bugs fixed with both table types.</li>
		</ul>
	</li>
    <li><strong>Applet</strong>
        <ul>
            <li>New MarvinView applet parameter: <code>cell<em>i</em>_<em>j</em></code> and the possibility to escape characters.</li>
        </ul>
    </li>
	<li><strong>Import/Export</strong>
		<ul>
			<li>Text format import from cdx.</li>
		</ul>
	</li>
	<li><strong>Installer</strong>
            <ul>
		<li>Marvin Beans installer for Linux with Java.</li>
            </ul>
	</li>
	<li><strong>API</strong>
		<ul>
			<li>Save/load MSketchPane toolbar and menu configuration : reset active configuration fix.</li>
			<li>New method in MolAtom (getLonePairCount()) that returns the same value as MoleculeGraph().getLonePairCount(int i) is implemented.
			(<a href="http://www.chemaxon.com/forum/viewtopic.php?t=4095">forum topic)</a>.</li>
		</ul>
	</li>
</ul>
<h4>Bugfixes</h4>
<ul>
	<li><strong>MarvinSketch</strong>
		<ul>
			<li>Keyboard shortcuts did not work properly
			 (<a href="http://www.chemaxon.com/forum/ftopic4496.html">forum topic</a>).</li>
		</ul>
	</li>
	<li><strong>MarvinView</strong>
		<ul>
			<li>Print All accessed only cached molecules from the table.</li>
			<li>Save As did not save all molecules.</li>
		</ul>
	</li>
    <li><strong>Applet</strong>
        <ul>
            <li>Width of HTML label components fixed in MarvinView applet.</li>
			<li>Marvin applets did not accepted inline CML/MRV files that were given in applet parameter.</li>
        </ul>
    </li>
	<li><strong>Calculator Plugins</strong>
		<ul>
			<li>Stereo isomer plugin: Enhanced stereo information was cleared before generating the stereoisomers.</li>
		</ul>
	</li>
</ul>

<h3><a NAME="v5104" class="anchor">December 19th, 2008: Marvin 5.1.4</a></h3>
<h4>New features and improvements</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li><em>Arrows</em> group is restructured in the toolbar and in the menubar (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=19194">forum topic</a>).</li>
            <li>The Insert &gt; Groups menu is replaced by a more convenient dialog.</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
            <li>Unique SMILES should implicitize plain Hydrogens
            (<a href=" http://www.chemaxon.com/forum/viewtopic.php?p=19569#19569">forum topic</a>).</li>
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>Unique Markush code can be generated for each enumerated structure.</li>
            <li>logP and logD calculations are significantly faster.</li>
        </ul>
    </li>
    <li><strong>API</strong>
        <ul>
            <li>New methods in <em>chemaxon.beans.MViewPane</em>: <em>isViewWindowOpened(int)</em>, <em>isSketchWindowOpened(int)</em> and <em>closeSketcher(int)</em>.</li>
            <li><em>PDBReader</em> and related classes were moved from <em>chemaxon.modules</em> to <em>chemaxon.marvin.io.formats.pdb</em>.</li>
            <li><em>MacroMolecule</em> and related classes were moved from <em>chemaxon.modules</em> to <em>chemaxon.struc</em>.</li>
        </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
            <li>The layout of the <em>Copy As...</em> dialog is polished.</li>
            <li><em>Periodic System</em> button remained pressed on the toolbar even after the dialog was closed.</li>
            <li>The Atom &gt; Stereo &gt; Enhanced, Atom &gt; Charge, Atom &gt; Map, Atom &gt; R-group menus are replaced by more convenient dialogs.
            (<a href="http://www.chemaxon.com/forum/ftopic3947.html">forum topic</a>)</li>
            <li>Ctrl+Del in MarvinSketch did not delete properties.</li>
        </ul>
    </li>
    <li><strong>Licenses</strong>
        <ul>
            <li>The command <em>license -l</em> produced bad output, not listing properly installed licenses.</li>
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>When using Calculator Plugins, the result window of a previous calculation sometimes reappeared (<a href="http://www.chemaxon.com/forum/ftopic3929.html">forum topic</a>).</li>
            <li>Huckel Analysis Plugin threw exception if the input molecule contained explicit hydrogens.</li>
        </ul>
    </li>
    <li>
</ul>

<h3><a NAME="v51032" class="anchor">November 13th, 2008: Marvin 5.1.3_2</a></h3>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinView</strong>
        <ul>
            <li>Thread conflict while scrolling in huge SDfiles.
            (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=19259">forum topic</a>)</li>
            <li>ArithmeticException in progress monitor.</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
            <li>The implicit hydrogen setting option did not work in image generation.</li>
            <li>Molfile import bug: pseudoatom names in atom block were not trimmed. (<a href="http://www.chemaxon.com/forum/ftopic4294.html">forum topic</a>)</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5103" class="anchor">November 7th, 2008: Marvin 5.1.3</a></h3>
<h4>New Features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch</strong>
        <ul>
        <li>Slight improvement in multimolecule file opening, the index of the stucture in the preview is automatically offered.</li>
        </ul>
    </li>
    <li><strong>MarvinView</strong>
        <ul>
        <li>New helper API (<a href="beans/api/chemaxon/marvin/beans/MViewParams.html">chemaxon.marvin.beans.MViewParams</a>) that 
        generates the value to the <a href="http://www.chemaxon.com/marvin/help/developer/viewman.html#advanced">molecule table parameters</a> of MarvinView.</li>
        <li>Support MDLCT format in OLE Object.</li>
        </ul>
    </li>
    <li><strong>Licenses</strong>
        <ul>
        <li>Important change in the licensing of calculator plugins: all plugins work in evaluation mode without a license.</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
	    <li>Encoding detection when the default system encoding is not
		suitable for the input file. It tries to recognize
		UTF-8, UTF-16, EUC-JP and Shift_JIS. If all fails, then it also
		tries ISO-8859-1 and windows-1252.
		The guessed encoding can be printed using
		<a href="../applications/molconvert.html#query-encoding">molconvert query-encoding</a>.</li>
	    <li>Energy is stored in the second line of
		<a href="../formats/xyz-doc.html">XYZ</a> files.</li>
	    <li>MDL formats
		<ul>
		    <li>Import of SDfiles without structure fields.</li>
		    <li>Energy is imported from the header line, the "Energy"
			SDF property is removed.</li>
		    <li>Format recognition optimized: other recognizers
			are not called any more if the first 12 lines match
			at least one MDL format.</li>
		</ul>
	    </li>
	    <li>API
		<ul>
		<li><a href="beans/api/chemaxon/marvin/io/PositionedInputStream.html#skipLine()">PositionedInputStream.skipLine()</a>
		    method is created to speed up pre-reading of huge
		    multi-molecule files. It should be called in
		    MRecordReader.skipRecord() implementations instead of
		    readLine() if the line contents are unimportant.</li>
		</ul>
		</li>
	</ul>
    </li>
    <li><strong>Clean 2D</strong>
        <ul>
        <li>Clean 2D considers electron flow arrows (<a href="http://www.chemaxon.com/forum/viewpost18921.html#18921">forum topic</a>).</li> 
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>Huckel orbital coefficient calculation in HuckelAnalysisPlugin (<a href="http://www.chemaxon.com/forum/ftopic3538.html">forum topic</a>)</li>
            <li>Markush enumeration ID can be generated for enumerated molecules.</li>
            <li>logP calculation methods were introduced; available methods: "VG", "KLOP", "PHYS", "user defined", "weighted".</li>
            <li>logP calculation is trainable, the "user defined" logP calculation method can be trained with experimental logP values provided by the user.</li>
            <li><em>cxcalc</em> can be used for training the plugin calculations (currently only logP is trainable).</li>
        </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch GUI</strong>
        <ul>
        <li>Correction in geometric transformation when placing SMARTS with the help of the Periodic System dialog window.</li>
        <li>Help menu opened very slow on Mac (<a href="http://www.chemaxon.com/forum/viewpost17520.html#17520">forum topic</a>).</li>
        <li>MarvinSketch web start application did not launch with Java 1.5.0_16.</li>
        </ul>
    </li>
    <li><strong>Import/Export</strong>
        <ul>
	<li>UTF-16 encoding is recognized and imported correctly if the file
	    starts with a byte order mark (BOM).</li>
        <li>Reaction arrow did not display (from rxn file) with exporting to image
        (<a href="http://www.chemaxon.com/forum/ftopic4102.html">forum topic</a>).</li>
	</ul>
    </li>
    <li><strong>Clean 2D</strong>
        <ul>
        <li>Minor partial clean fix in case of rings.</li>
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
        <li>HuckelAnalysisPlugin: numbers in arrays returned by cxcalc are separated by semicolons (<a href="http://www.chemaxon.com/forum/ftopic3538.html">forum topic</a>).</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5102" class="anchor">October 1st, 2008: Marvin 5.1.2</a></h3>
<h4>New Features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch/View</strong>
        <ul>
            <li>New option/parameter to display the label of carbon atoms in structures.</li>
        </ul>
    </li>
    <li><strong>Moleculear representation</strong>
        <ul>
            <li>Get smallest set of smallest ring bond indexes 
            (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=4123&start=0">forum topic</a>).</li>
            
        </ul>
    </li>
    <li><strong>API</strong>
        <ul>
            <li><em>chemaxon.marvin.io.MDocSource</em> and <em>chemaxon.marvin.io.MFieldAccessor</em> are added to public API.</li>
            <li>New abstract method in <em>chemaxon.marvin.io.MDocStorage.Listener</em>: <em>storageSizeFinalized(MDocStorage)</em>.</li>
        </ul>
    </li>
    <li><strong>Documentation</strong>
        <ul>
            <li><em>chemaxon.util.iterator.IteratorFactory</em> is added to apidoc and to the documentation.</li>
            <li>Improved MarvinSketch applet examples for molecular property calculations.</li>
        </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>Import/Export</strong>
        <ul>
            <li>SMILES import removed parity from rigi N stereo (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=18077#18077">forum topic</a>).</li>
            <li>Cxsmiles export generated unimportable output.</li>
        </ul>
    </li>
    <li><strong>Molecule Representations</strong>
        <ul>
            <li>Adding a bond to terciary N did not add + charge automatically and displayed valence error.</li>
            <li>Reaction arrow head missed after import steps in mview and molconvert.</li> 
            <li>Adding and then removing explicit hydrogens created stereo bonds.</li>
        </ul>
    </li>
    <li><strong>Clean 3D</strong>
        <ul>
            <li>Bug caused parity error for certain strained structures fixed
            (forum topics:<a  href="http://www.chemaxon.com/forum/ftopic4092.html">#4092</a>,
            <a href="http://www.chemaxon.com/forum/ftopic4089.html">#4089</a>,
            <a href="http://www.chemaxon.com/forum/ftopic3594.html">#3594</a>).
        </ul>
    </li>
    <li><strong>Calculator Plugins</strong>
        <ul>
            <li>If only scaffold coloring was set in Markush Enumeration plugin, link node bonds in scaffold were not correct.</li>
        </ul>
    </li>
</ul>

<h3><a NAME="v5101" class="anchor">September 1st, 2008: Marvin 5.1.1</a></h3>
<h4>New Features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch</strong>
    <ul>
        <li>New, explicit way of defining lone pair and radical electrons on atoms
        (<a href="http://www.chemaxon.com/marvin/examples/applets/sketch/studentexam/index.html">live example</a>).</li>
        <li>The following menus were (temporarily) removed from the Template Library: File &gt; Close, Options menu (the functions are out of order).</li>
        <li>The Structure &gt; Clean 3D &gt; Select Conformer menu option is renamed to Display Stored Conformers.</li>
    </ul></li>
    <li><strong>Applet</strong>
    <ul>
        <li>New applet parameter (<a href="sketchman.html#parameters.templateToolbarCustomizable">templateToolbarCustomizable</a>) to remove the on-the-fly customizability of the <a href="http://www.chemaxon.com/marvin/help/sketch/gui/toolbars.html#templates">Advanced Template Toolbar</a>.</li>
    </ul></li>
    <li><strong>Import/Export</strong>
    <ul>
        <li>The lone pair and radical electrons can be exported to cxsmiles format.</li>
        <li>Also recognize names that are part of the traditional dictionary
(now that name recognition should only be tried when most others have failed, it is not as problematic to load the dictionary during recognition).</li>
    </ul></li>
    <li><strong>Chemical Terms</strong>
    <ul>
        <li>Evaluator config files defined by the user are read from .chemaxon/MARVIN_MAJOR_VERSION (UNIX / Linux) or chemaxon/MARVIN_MAJOR_VERSION (Windows) directory.</li>
    </ul>
    </li>
    <li><strong>API:</strong>
    <ul>
        <li>Renderer (chemaxon.marvin.beans.MViewRenderer) and editor (chemaxon.marvin.beans.MViewEditor) components for JTables are part of the public API.</li>
    </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch</strong>
    <ul>
        <li>Explicit hydrogen was added automatically to newly placed atom after adding explicit hydrogen from the Structure menu.</li>
        <li>Explicit lone pairs disappeared when editing the molecule with the sprout function (mouse drag).</li>
        <li>Source window sometimes failed to open from plugin result dialog.</li>
        <li>Extra selection of the radical atom was invoked.</li>
    </ul></li>
    <li><strong>Import/Export</strong>
    <ul>
        <li>Add missing structures to nameimport dictionary, fix suffix and stereo handling on esters.</li>
        <li>Molfile recognition failed if first line includes only spaces.</li>
    </ul></li>
    <li><strong>Clean 2D</strong>
    <ul>
        <li>Some certain structures cleaned ugly
        (<a href="http://www.chemaxon.com/forum/viewpost17416.html">forum topic</a>, <a href="http://www.chemaxon.com/forum/ftopic4082.html">forum topic</a>).</li>
    </ul>
    </li>
    <li><strong>Template Handling</strong>
    <ul>
        <li>The nitro abbreviation template has been changed from neutral to the ionic form.</li>
    </ul></li>
    <li><strong>Calculator Plugins</strong>
    <ul>
        <li>Changed default SDF tag names of cxcalc calulations acceptorsitecount (ACCEPTOR_SITE_COUNT), acceptorcount (ACCEPTOR_COUNT), donorsitecount (DONOR_SITE_COUNT) and donorcount (DONOR_COUNT) 
        (<a href="http://www.chemaxon.com/forum/ftopic4018.html">forum topic</a>).</li>
        <li>Calculation result list often disappeared when the result display window was resized.</li>
        <li>Parameter files of several plugins included invalid xml syntax.</li>
    </ul></li>
    <li><strong>API</strong>
    <ul>
        <li>New methods to close streams in MolExporter: flush(), close(int).</li>
        <li>F6 and F7 did not work if MViewPane was a JTable cell.</li>
    </ul></li>
</ul>

<h3><a NAME="v5100" class="anchor">August 7th, 2008: Marvin 5.1.0</a></h3>
<h4>New features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch:</strong>
        <ul>
	        <li>Converting IUPAC Names to structure:
			    <ul>
				<li>from .name files</li>
		        <li>through the Edit &gt; Enter IUPAC Name option</li>
                <li>when pasting IUPAC names to the canvas of MarvinSketch</li>
                </ul></li>
            <li>OLE 2 support: improved support of pasting MarvinSketch objects into MS office documents, and ability to edit the inserted object inside the Office document. More memory efficient, stable on Vista. JNI-based communication, multi-document server.</li>
	    <li>Accelerated initialization of MarvinSketch and MarvinView at startup, both as standalone version, and as implemented component in other applications.</li>
            <li>Flip Group option: Flip a selected group in the molecule around the bond connecting this group to the rest of the structure.</li>
            <li>Recent file list length is configurable in the Save/Load tab of Edit > Preferences</li>
            <li>The save and load of GUI properties can be set only with one checkbox at the preferences Save/Load tab in the future.</li>
            <li>The magnification (zoom factor) of a molecule is now saved in MRV format if it is enabled on the Save/Load tab of Edit > Preferences.</li>
        </ul>           
    </li>
    <li><strong>MarvinView:</strong>
        <ul>
	        <li>(Batch) conversion of IUPAC Names to structure when opening .name files.</li>
            <li>Printing is redesigned. New options: Print to PDF and Print Preview.</li>
        </ul>
    </li>
    <li><strong>Applet:</strong>
        <ul>
            <li>New applet parameter to listen for mouse events:
            <a href="http://www.chemaxon.com/marvin/examples/applets/view/listeners.html">example</a>
            (<a href="http://www.chemaxon.com/forum/viewpost17523.html#17523">forum topic</a>).</li>
            <li>Calculator Plugins are accessible from JavaScript via Chemical Terms.</li>
        </ul></li>
    <li><strong>Import/Export:</strong>
	<ul>
        <li>IUPAC name import (converting IUPAC names to structures):
		    <ul>
		    <li>opening .name files</li>
            <li>batch conversion of names (in .name files) by molconvert</li>
		    <li>direct conversion of names to structures through the Edit > Enter IUPAC Name option</li>
		    <li>on-the-fly conversion of IUPAC Names to structure when pasting IUPAC Names to the canvas of MarvinSketch</li>
            </ul>
		<li>IUPAC name export: improved support for amino-acids and peptides.</li>
        <li>Compressed base64 encoded (cx)SMILES/(cx)SMARTS output.</li>
		<li>UTF-8 character encoding support for applet parameters
	        (<a href="http://www.chemaxon.com/forum/ftopic2738.html">forum topic</a>).</li>
        <li>Unique SMILES export has been changed because of 
            <a href="#double_bond_looses_cis_trans">the modification in aromatization</a>.</li>
	</ul>
	</li>
    <li><strong>Molecule Representation:</strong>
        <ul>
        <li>Allow N with valence 5 in aromatic rings 
        (<a href="http://www.chemaxon.com/forum/viewpost15162.html#15162">forum topic</a>).</li>
        <li>Aromatization to accept all atom types in aromatic rings.</li> 
        </ul></li>
    <li><strong>Clean 3D:</strong>
        <ul>
            <li>Major Clean 3D core modifications: the fragment-fragment fuse code is rewritten. The new version places greater
           effort to avoid situations where excessive coordinate generation time is elapsed. The performance of multiple
           conformer generation is also improved.</li><!-- FS#4951 -->
            <li>New Dreiding force field implementation introduced.</li>
            <li>Hyperfine parameters tuned: excessive runtime when invoked with looser optimization limit fixed.</li>
        </ul></li>
    <li><strong>Calculator Plugins:</strong>
        <ul>
        <li>Tautomerization Plugin
            <ul>
            <li>Generic tautomer generation.</li>
            <li>New tautomerization options: protect double bond stereo, protect all tetrahedral stereo centers, 
                protect labeled tetrahedral stereo centers only.</li>
            </ul>
        </li>
        <li>Topology Analyser Plugin (forum topics: <a href="http://www.chemaxon.com/forum/viewtopic.php?t=3234">1</a>, 
        <a href="http://www.chemaxon.com/forum/viewtopic.php?p=9997#9997">2</a>)
            <ul>
            <li>New calculations: fragment count, ring system count, largest ring system size, smallest ring system size, 
                aromatic ring count, aliphatic ring count, size dependent ring counting functions (ring count of given size,
                aromatic ring count of given size, aliphatic ringcount of given size, ring system count of given size). 
                See also the <a href="../applications/cxcalc-calculations.html">list of cxcalc calculations</a> and the 
                <a href="../chemicalterms/EvaluatorTables.html">Chemical Terms Reference Tables</a>.</li>
            </ul>
        </li>
        <li>Geometry Plugin
            <ul>
            <li>Molecule projection calculations in GeometryPlugin: minimal projection area, maximal projection area, 
                minimal projection radius, maximal projection radius. See also the 
                <a href="../applications/cxcalc-calculations.html">list of cxcalc calculations</a> and the 
                <a href="../chemicalterms/EvaluatorTables.html">Chemical Terms Reference Tables</a>.</li>
            </ul>
        </li>
        <li>Markush Enumeration Plugin
            <ul>
            <li>Structure coloring and scaffold aligning options in Markush enumeration.</li>
            <li>Position variation bonds in Markush enumeration.</li>
            <li>New Markush enumeration options: orienting scaffold uniformly and coloring enumerated structures.</li>
            <li>Speeding up random enumeration.</li>
            </ul>
         </li>
        <li>Huckel Analysis Plugin (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3645&amp;start=0">forum topic</a>)
            <ul>
            <li>Eigenvalue and eigenvector calculations (cxcalc: "huckeleigenvalue" and "huckeleigenvector").</li>
            <li>Some cxcalc calculations have been renamed: "energy" to "localizationenergy", "pichargedensity" to "electrondensity",
                "totalchargedensity" to "chargedensity".</li>
            <li>Removed aromatic restriction from Huckel E/Nu order calculations
                (<a href="http://www.chemaxon.com/forum/ftopic3538.html">forum topic</a>).
            </ul>
       </li>
	   <li>logP plugin
            <ul>
	       <li> The calculation algorithm has been improved using approximately 13,000 experimental logP values 
		        collected from the <a href="http://www.syrres.com/esc/physprop.htm">PhysProp database</a>. Nevertheless, the original unique algorithm 
				that makes possible to accurately predict novel compounds still provides the basis of the calculation.        
           </li>
           </ul>
       </li>
        </ul>
    </li>
	<li><strong>Chemical Terms:</strong>
        <ul>
		<li>Chemical Terms is available from Marvin in command line (<a href="../chemicalterms/EvaluatorTables.html">Evaluator command line application</a>) 
		and API (until now it was available only in JChem).</li>
		<li>It can also be used in JavaScripts (in applets). Examples for usage:
            <ul>
                 <li><a href="../../examples/applets/sketch/chemicalterms2.html">MarvinSketch Example - Calculating molecular properties on the fly</a></li>
                 <li><a href="../../examples/applets/view/chemicalterms.html">MarvinView Example - Molecular property calculations with Chemical Terms</a></li>
         </ul></ul>
             <p>
            <ul>
                <li>New functions: abs(), fragmentCount(), ringSystemCount(), smallestRingSystemSize(), 
                largestRingSystemSize(), ringCountOfSize(), ringSystemCountOfSize(), aliphaticRingCountOfSize(), aromaticRingCountOfSize(),
                minimalProjectionArea(), maximalProjectionArea(), minimalProjectionRadius(), maximalProjectionRadius(),
                genericTautomer(), mostStableTautomer(), markushEnumerationsDisplay(), randomMarkushEnumerationsDisplay().</li>
                <li>New (optional) parameters are available for enumerations() and randomEnumerations() functions.
                <li>Functions available only in JChem: match(), matchCount(), disjointMatchCount(), dissimilarity().</li>
                <li>AND, OR, NOT boolean operators in Chemical Terms (alternatives for &amp;&amp;, ||, ! operators).</li>
                <li>Option to set output format in Evaluator command line application if result is molecule.</li>
                <li>Evaluator command line application can list available Chemical Terms functions.</li>
            </ul>
        </li>
    <li><strong>API:</strong>
        <ul>
        <li>Both aromatization methods aromatize query atoms if they have double and single bonds in the ring.</li>
        <li>Atoms belonging to the following atom groups can be recognized by the name of the group: alkali, alkaline earth, other metal, transition metal, lanthanides, actinides, metalloids, halogens.</li>
        <li><strong>Calculator Plugins:</strong>
            <ul>
            <li>New calculations in <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html">TopologyAnalyser</a> and 
            <a href="beans/api/chemaxon/marvin/calculations/TopologyAnalyserPlugin.html">TopologyAnalyserPlugin</a> (see the list of calculations above).</li> 
            <li>New calculations in <a href="beans/api/chemaxon/marvin/calculations/GeometryPlugin.html">GeometryPlugin</a> 
            (see the list of calculations above).</li>            
            <li>New calculations and options in <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html">TautomerizationPlugin</a> 
            (see the list of calculations and options above).</li>
            <li>New calculations and options in <a href="beans/api/chemaxon/marvin/calculations/MarkushEnumerationPlugin.html">MarkushEnumerationPlugin</a> 
            (see the list of calculations and options above).</li>
            <li>New and renamed calculations in <a href="beans/api/chemaxon/marvin/calculations/HuckelAnalysisPlugin.html">HuckelAnalysisPlugin</a> 
            (see the list of calculations above).</li> 
            </ul></li>
	<li>Molecule file format recognizers are called in the priority order
	    defined by the <code>recogn</code> argument of the
	    <a href="beans/api/chemaxon/formats/MFileFormat.html#MFileFormat(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, long)">MFileFormat constructor</a>.
	    Deprecated Recognizer.getPriority(), use
	    MFileFormat.<a href="beans/api/chemaxon/formats/MFileFormat.html#getPriority(java.lang.String)">getPriority(subformat)</a> instead.
	    </li>
	<li><a href="beans/api/chemaxon/util/iterator/MoleculeIterator.html">MoleculeIteratior</a>
	    interface moved to chemaxon.util.iterator.</li>
        </ul>
    </li>
    <li><strong>Documentation:</strong>
    <ul>
        <li>Updated developer's guide and examples.</li>
    </ul></li>
</ul>

<h4>Bugfixes</h4>
<ul>        
    <li><strong>MarvinSketch:</strong>
    <ul>
        <li>Atom &gt; Stereo &gt; R/S menu was missing.</li>
        <li>MarvinSketch always dropped confirmation dialog when exiting in OLE mode (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3589">forum topic</a>).</li>
        <li>In MarvinSketch, scale factor was loading in an improper time.</li>
        <li>Zooming after atom font changing shouldn't delete the set atom font.</li>
        <li>Atom font changes from Format dialog disappeared when scrolling.</li>
        <li>Automatic mapping of long chain substituents was incorrect (<a href="http://www.chemaxon.com/forum/viewpost15275.html#15275">forum topic)</a>.</li>
    </ul>
    </li>
    <li><strong>MarvinView:</strong>
    <ul>
        <li>UTF-16 character encoding was incorrect in cell headers of MarvinView.</li>
    </ul>
    </li>
    <li><strong>Applet:</strong>
    <ul>
        <li>Marvin applets did nothing by OLE copy (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3589">forum topic</a>).</li>
    </ul>
    </li>
    <li><strong>Molecule representation:</strong>
    <ul>
        <li>Wedge bonds were displayed incorrectly after adding explicit H atoms to chiral centers  (<a href="http://www.chemaxon.com/forum/viewpost14621.html">forum topic</a>).</li>
        <li>Implicitization of explicit hydrogens was sometimes incorrect.</li>
        <li>Clean2d placed wedge on symmetric atoms.</li>
        <li>Planar ligands in 3D returned 0 instead of EITHER in parity.</li>
        <li>There was a minor bug in the valence check algorithm (<a href="http://www.chemaxon.com/forum/viewpost15162.html">forum topic</a>).</li>
        <li>MRV export of the molecule in reaction editor threw NullPointerException.</li>
        <li>A valence error was given to pyridine oxide drawn with aromatic bonds
            (<a href="http://www.chemaxon.com/forum/viewpost15162.html#15162">forum topic</a>).</li>
        <li>The head of the reaction arrow disappeared after 2D or 3D clean.</li>
        <li>The reaction arrow overlapped a reactant upon hit coloring of reactions.</li>
        <li>Atom coloring didn't work after subsequent molecule loads.</li>
        <li>ArrayIndexOutOfBoundsException was thrown when drag&dropping expanded S-groups from the canvas to MyTemplates.</li>
        <li>The reaction arrow was duplicated after 2D clean.</li>
        <li>Replacing atom in S-group with Asp caused ArrayIndexOutOfBoundsException.</li>
        <li><a class="text" name="double_bond_looses_cis_trans">In SMILES format</a>, double
        bond lost cis/trans info after aromatization.</li>
        <li>M, MH, X, XH are not aromatic query atom.</li>
    </ul>
    </li>
    <li><strong>Import/export:</strong>
    <ul>
        <li>Double bond stereo information was sometimes lost during SMILES import (if a double bond was between two stereo double bonds).</li>
    </ul>
    </li>
    <li><strong>Clean 3D:</strong>
        <ul>
            <li>There were errors in gradient calculation. The fix also improves the optimization performance for some deformed initial structures.</li>
            <li>Possibly corrupted stereochemical requirements caused a bug when invoked directly from the sketcher.</li>
            <li>Using chirality when invoked from the sketcher sometimes failed. (<a href="http://www.chemaxon.com/forum/viewpost15492.html#15492 ">forum topic</a>)</li>
            <li>Hyperfine produced unpredictable results. Now MD parameters are modified (lower initial temperature) and very strict optimization limit is used.
            (<a href="http://www.chemaxon.com/forum/viewpost15492.html#15492">forum topic</a>)</li>
            <li>Energies calculated by the building process and the dreidingenergy plugin were slightly different
            (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=15990#15990">forum topic</a>).</li>
            <li>Optimization limit error message fixed 
            (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3159">forum topic</a>).</li>
        </ul></li>
    <li><strong>Calculator Plugins:</strong>
    <ul>
        <li>An exception was thrown during enumeration of structures with multicenter S-group.</li>
        <li>Random Markush enumeration generated larger link node enumerates than in definition</li>
        <li>Random enumeration hasn't thrown exception in case of invalid input structures (R-group in the variable part of multiposition bond).</li>
        <li>NullPointerException was thrown in some cases of random enumeration when molecule contained possible valence error. Now a more informative RuntimeException is thrown.</li>
        <li>Random Markush enumeration has returned null for non-generic structures instead of the structure itself.</li>
        <li>DotForumla functions of Elemental Analyser threw exceptions on empty molecules.</li>
    </ul>
    </li>
</ul>

<h3><a class="anchor" name="v5007">July 28th, 2008: Marvin 5.0.7</a></h3>
<h4>New features and Improvements</h4>
<ul>
    <li><strong>Applet:</strong>
    <ul>
        <li>Introducing new parameters 
        (<a href="sketchman.html#parameters.maxscale">maxscale</a>, 
        <a href="sketchman.html#parameters.detach">detach</a>) to control the maximum magnification of exported images and applet canvas
        (<a href="http://www.chemaxon.com/forum/ftopic3901.html">forum&nbsp;topic</a>).
    </ul></li>
    <li><strong>API:</strong>
    <ul>
        <li><strong>Calculator Plugins:</strong> New methods in pKaPlugin: getMacropKaValues(int, double[], int[]) and getMacropKaValues(int)
        (<a href="http://www.chemaxon.com/forum/ftopic3989.html">forum topic</a>).</li>
    </ul>
    </li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>Molecule representation:</strong>
    <ul>
        <li>ArrayIndexOutOfBoundsException when drag and dropping expanded S-groups from the canvas to MyTemplates.</li>
    </ul>
    </li>
</ul>

<h3><a class="anchor" name="v5006">June 30th, 2008: Marvin 5.0.6</a></h3>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch GUI:</strong>
    <ul>
        <li>Customization dialog was not displayed.</li>
        <li>Complete missing configuration names.</li>
    </ul></li>
    <li><strong>Licenses:</strong>
    <ul>
        <li>License management did not work via JavaScript calls (e.g. get molecule in "name" format) due to Sun's security restriction.</li>
    </ul></li>
</ul>

<h3><a class="anchor" name="v5005">June 20th, 2008: Marvin 5.0.5</a></h3>
<h4>New features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch GUI:</strong>
    <ul>
            <li>Default file location can be set in the Save/Load tab of Edit > Preferences.</li>
    </ul></li>
    <li><strong>Licenses:</strong>
    <ul>
        <li>Environment variables and Java system property is introduced for
        license install (See 
        <a href="http://www.chemaxon.com/marvin/help/licensedoc/install.html">details</a>) 
        (<a href="http://www.chemaxon.com/forum/ftopic3715.html">forum topic</a>).
    </ul></li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>MarvinSketch GUI:</strong>
    <ul>
        <li>Zooming after atom font changing deleted the settings of atom font.</li>
        <li>SMILES was transferred instead of the molecule source by Plain Text copy.</li>
        <li>Atom font changes from Format dialog disappeared by scrolling.</li>
    </ul></li>
    <li><strong>MarvinSpace:</strong>
    <ul>
        <li>MarvinSpace could not load String representation of molecules given
        by applet parameter.</li>
    </ul></li>
    <li><strong>Licenses:</strong>
    <ul>
        <li>Exception was thrown from license manager.</li>
    </ul></li>
    <li><strong>Molecule Representation:</strong>
    <ul>
        <li>Replacing atom in Sgroup with <em>Asp</em> caused 
        ArrayIndexOutOfBoundsException.</li>
        <li>Atom coloring did not work after subsequent molecule loading.</li>
    </ul></li>
    <li><strong>Calculator Plugins:</strong>
    <ul>
        <li>Exception in enumeration of structures with multicenter S-group.</li>
        <li>Tautomer generation failed if certain features were present in
        the structure (e.g. enhanced stereo).</li>
    </ul></li>
</ul>

<h3><a class="anchor" name="v5004">May 24th, 2008: Marvin 5.0.4</a></h3>
<h4>New features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch GUI:</strong>
    <ul>
        <li>In the default configuration, the <em>Explicit Hydrogens</em> 
        option has been removed from the
        <em>View/Misc</em> menu. (From now on the explicit Hydrogens are always 
		visible, but they can be added or removed using the corresponding options 
		of the <em>Structure/Add</em> and in <em>Structure/Remove</em>
        menus.)</li>
    </ul></li>
    <li><strong>API:</strong>
    <ul>
        <li>New methods to control R-groups visibility in 
            <em>chemaxon.marvin.beans.MarvinPane</em>: 
            <em>setRgroupsVisible(boolean)</em>, 
            <em>isRgroupsVisible()</em></li>
    </ul></li>
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>Molecule representation:</strong>
    <ul>
        <li>Ungrouping of embedded S-groups threw IndexOutOfBoundsException.</li>
    </ul></li>
    <li><strong>Import/Export:</strong>
    <ul>
        <li>There was a slowdown in MView when loading molecules during scrolling.</li>
    </ul></li>
    <li><strong>CalculatorPlugin:</strong>
    <ul>
        <li>Calculator Plugins threw exception for molecules with pseudo atoms.
        (<a href="http://www.chemaxon.com/forum/ftopic3766.html">forum topic</a>)</li>
        <li>Random Markush enumeration generated larger link node enumerates than in definition.</li>
    </ul></li>
</ul>

<h3><a class="anchor" name="v5003">April 21st, 2008: Marvin 5.0.3</a></h3>

<h4>New features and Improvements</h4>
<ul>
    <li><strong>MarvinSketch GUI:</strong>
        <ul>
	    <li>Shift button expands/contracts all "hold-in-hand" S-groups and abbreviation groups (not just standard templates).</li>
	    <li>New icons has been added to the collection, which are not included in the toolbars by default, but can be added using the View > Customize option. These icons (category > command) are as follows: Reset View (View > Reset View), Aromatize (Structure > Aromatize), Dearomatize (Structure > Aromatize), Add explicit hydrogens (Structure > Add explicit hydrogens), Remove explicit hydrogens (Structure > Remove explicit hydrogens), Add absolute stereo (Structure > Add absolute stereo (CHIRAL)), Remove absolute stereo (Structure > Remove absolute stereo (CHIRAL))</li>
	    <li>The Erase icon has been changed (from an upside-down pen to a rubber)</li>
        </ul></li>
    </li>
    <li><strong>CalculatorPlugin:</strong>
        <ul>
	    <li>D/T symbols are used by default for Deuterium/Tritium in the following cxcalc/Chemical Terms calculations: <em>isotopeformula</em>, <em>dotdisconnectedisotopeformula</em>, <em>isotopecomposition</em>. (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=15949#15949">forum topic</a>)</li>
        </ul></li>
    <li><strong>API:</strong>
        <ul>
	        <li>Added "public String getIsotopeComposition(boolean)" method to chemaxon.marvin.calulations.ElementalAnalyserPlugin; D symbol is used for Deuterium and T for Tritium in results returned by "public String getIsotopeComposition()". (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=15953">forum topic</a>)</li>
            <li>Enumeration plugin is renamed to MarkushEnumeration plugin. chemaxon.marvin.calculations.EnumerationPlugin class is deprecated, use chemaxon.marvin.calculations.MarkushEnumerationPlugin instead of that.</li>
            <li>Parameters are renamed in cxcalc calculations: from <em>enumerationcount</em> to <em>markushenumerationcount</em>, <em>enumerations</em> to <em>markushenumerations</em> (old names are still available).</li>

            <li>New calculation: <em>randommarkushenumerations</em></li>
        </ul></li>        
</ul>
<h4>Bugfixes</h4>
<ul>
    <li><strong>Import/Export:</strong>
        <ul>
	    <li>R-group defintions were missing on molecule picture after image export.</li>
	    <li>Cis/trans stereo info was sometimes wrongly exported into smiles.</li>

	    <li>CML and MRV import failed when the input file did not contain any molecule</li>
	    <li>MOL/SDF export caused a null pointer exception when energy field was corrupted (NaN or Infinity)</li>
            <li>The <em>chemaxon.struc.MDocument.parseMRV(String)</em> method failed with <em>NullPointerException</em> (<a href="http://www.chemaxon.com/forum/ftopic3694.html">forum topic</a>).</li>

            <li>SmilesImport fix: If ringcorrection called set CIS|TRANS flags for bonds located in two small sssr.</li>
            <li>CxSmilesImport fix: ringcorrection (CIS flag setting for small rings) moved before setting the extra chemaxon information (in cxsmiles).</li>
        </ul></li>
    <li><strong>Clean 2D:</strong>
        <ul>
	    <li>The 2D cleaning of structures containing double bonds connected to a ring was sometimes wrong.</li>
	    <li>The arrangment of template based 2D clean was missing.</li>

	    <li>The 2D cleaning of a selected (sub)structure was sometimes inappropriate (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=7191#7191">forum topic</a>).</li>
        </ul></li>
    <li><strong>Clean 3D:</strong>
        <ul>
            <li>A number of atoms disappeared from the product by 3D clean of a reaction, and the same number of explicit hydrogens appeared in the starting material.</li>
        </ul></li>

    <li><strong>MarvinSketch GUI:</strong>
        <ul>
	    <li>Zoom mode (F6) and zoom tool were unsynchronized.</li>
            <li>Drawing a bond to an R-group definition by click-drawing resulted in inconsistent molecule.</li>
            <li>Specifying outer bonds by selecting the atom before defining the Link Node did not work.</li>
            <li>Drawing link node attachment point by Rgroup definition was not correct.</li>

             <li>The location of the filechooser dialog (by <em>Open</em>, <em>Save</em> and <em>Save As</em>) was wrong in some cases.</li>
        </ul></li>

</ul>

<h3><a class="anchor" name="v50021">March 20th, 2008: Marvin 5.0.2.1</a></h3>
<ul>
    <li>MarvinView:
        <ul>
        <li>Bugfix: Reading compressed mol files from applet parameter was wrong</li>
        </ul>
    </li>
    <li>Applet:
        <ul>
            <li>Bugfix: Error by the initalization of the recent file list (<a href="http://www.chemaxon.com/forum/ftopic3671.html">forum topic</a>) </li>
        </ul>
    </li>
</ul>
<h3><a class="anchor" name="v5002">March 18th, 2008: Marvin 5.0.2</a></h3>
<ul>
    <li>MarvinSketch:
        <ul>
            <li>Position variation bond. It is available under the Structure > Add menu.</li>
            <li>Extended font support: Texts (atom labels and text box content) can be formatted using any font that is available in the operating system.</li>            
            <li>Global IME support in Textboxes (allows entering East Asian characters).</li>
            <li>Recent file list added to file menu.</li>
        </ul>           
    </li>
    <li>MarvinView:
    	<ul>
    		<li>Recent file list added to file menu.</li>
    		<li>"Print All" and "Save As" options are enabled in "File" menu, and they work properly</li>
    	</ul>
    </li>
    <li>MarvinSpace:
        <ul>
            <li>Displaying coordinate system (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=14492#14492">forum topic</a>)</li>
            <li>Reading PDB files as simple Strings</li>
        </ul>
    </li>
    <li>Import/Export
	<ul>
	<li>Molecule file header and footer can be retreived using
	    MRecordReader.<a href="beans/api/chemaxon/marvin/io/MRecordReader.html#getHeaderAsString()">getHeaderAsString()</a> and
	    <a href="beans/api/chemaxon/marvin/io/MRecordReader.html#getFooterAsString()">getFooterAsString()</a>.<br>
	    <b>Related incompatibility:</b> the MRV file header and footer are
	    not part of the record returned by 
	    MRecord.<a href="beans/api/chemaxon/marvin/io/MRecord.html#getString()">getString()</a> any more.
	    Prepend the header and append the footer to get an importable
	    molecule.</li>
	<li>Image export option to show E/Z labels.
	    (<a href="http://www.chemaxon.com/forum/viewtopic.php?p=15596#15596">forum topic</a>)</li>
	<li>East Asian character encoding support for applet parameters
	    (<a href="http://www.chemaxon.com/forum/ftopic2738.html">forum topic</a>)</li>
        <li>The default behaviour and some options of <a href="../formats/pdb-doc.html#import">PDBImport</a> have been changed. Bonds
            are recognised in hetero groups by default, bond order is assigned.
            Optional hydrogen assignment/removal and the possibility to omit
            CONECT records has been implemented. PDB import does better recognize connectivity and bond order of hetero components.</li>
	</ul>
	</li>
    <li>Bugfixes:
    <ul>
        <li>Atom > Stereo > R/S menu was missing in MarvinSketch GUI</li>
        <li>Marvin applets did nothing by OLE copy (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3589">forum topic</a>)</li>
        <li>MarvinSketch always dropped confirmation dialog when exiting in OLE mode (<a href="http://www.chemaxon.com/forum/viewtopic.php?t=3589">forum topic</a>)</li>
<!--        <li>Minor valence check error fix (<a href="http://www.chemaxon.com/forum/viewpost15162.html">forum topic</a>)</li>-->
        <li>UTF-16 character encoding fix in cell headers of MarvinView</li>
        <li>Fix on adding explicit H atoms to chiral centers  (<a href="http://www.chemaxon.com/forum/viewpost14621.html">forum topic</a>).</li>
        <li>Implicitize hydrogens bugfix.</li>
        <li>Fixed IUPAC name export failure involving spiro compounds.</li>
        <li>Superfluous hydrogen atoms were assigned during PDB import (<a href="http://www.chemaxon.com/forum/viewpost15341.html#15341">forum topic</a>).</li>
		<li><a href="beans/api/chemaxon/marvin/modules/LonePairCounter.html#getLonePairCount()">LonePairCounter.getLonePairCount()</a> failed for structures containing
            list and not-list atoms. This also affected <a href="http://www.chemaxon.com/forum/ftopic3614.html">AutoMapper</a> </li>
        <li><a href="http://www.chemaxon.com/forum/viewpost15275.html#15275">AutoMapper bug</a> (wrong mapping of long chain substituent) has been fixed.</li>
    </ul>
    </li>
</ul>

<h3><a class="anchor" name="v5001">February 18, 2008: Marvin 5.0.1</a></h3>
    <ul>
    <li>Import/Export:
        <ul>
        <li>Image export options are added for displaying <a href="../formats/images-doc.html#lp">lone pairs</a></li>
        <li>MRV import accepts comments in old MRV files (<a href="http://www.chemaxon.com/forum/viewpost14524.html#14524">forum topic</a>)
        <li>EMF and PDF exports uses the new version of Freehep API (2.1.1) (<a href="http://www.chemaxon.com/forum/viewpost14568.html#14568">forum topic</a>)</li>
        <li>Bugfix: Saving EMF and PDF in Marvin applets often gave emtpy or
        corrupt file (<a href="http://www.chemaxon.com/forum/ftopic2558.html">forum topic</a>)</li>
        </ul>
    </li>
    <li>MarvinSketch:
        <ul>
        <li>Toolbar drop-down list box is added</li>
        <li>Drag&Drop of templates works beside the template toolbar</li>
        <li>Bugfixes:
            <ul>
                <li>tmpls, ttmpls, xtmpls parameters did not work</li>
                <li>setEnabled(false) function did not disable toolbars</li>
                <li>Help button did not work in the desktop application (<a href="http://www.chemaxon.com/forum/ftopic3447.html">forum topic</a>)</li>
                <li>Insert &gt; IUPAC Name required license and kept complaining about the missing license</li>
                <li>Abbreviation groups assigned to My Templates worked only after restarting MarvinSketch</li>                
            </ul>
        </li>
        </ul>
    </li>
    <li>Desktop icons are optionally created under Linux by the Marvin Beans installer (<a href="http://www.chemaxon.com/forum/ftopic3408.html">forum topic</a>)</li>
    <li>Wedge arrangement around stereocenter having four ligands was improved
    (<a href="http://www.chemaxon.com/forum/viewpost14621.html">forum topic</a>)</li>
    <li>MarvinView: "Print All" and "Save As" option is temporary unavailable in
    grid view until its reimplementation</li>
    <li>MarvinSpace:
        <ul>
            <li>Animation can be stopped from menu</li>
            <li>Electrostatic potential uses the same coloring method as Charge Plugin in MarvinSketch</li>
        </ul>
    </li>
    <li>Calculator Plugins:
        <ul>
            <li>TautomeriztionPlugin: "Protect aromacity", "Protect charge" and "Exclude antiaromatic compounds" options were added</li>
            <li>EnumerationPlugin: the visualization of the result of Markush library size calculation was improved</li>
            <li>Dreiding energy can also be displayed in kJ/mol unit in GeometryPlugin and in ConformerPlugin (<a href="http://www.chemaxon.com/forum/ftopic3497.html">forum topic</a>)</li>
        </ul>
    </li>
    </ul>

<h3><a class="anchor" name="v5000">January 9th, 2008: Marvin 5.0</a></h3>
    <ul>
    <li><b>MarvinSketch:</b>
        <ul>
        <li><a href="../sketch/gui/customization.html">Customizable GUI</a> with a
            <a href="../sketch/sketch-gui.html">brand new design</a></li>
        <li><a href="../sketch/gui/configurations.html">Configuration choices</a> (including ISIS Draw
        and ChemDraw like menu and icon arrangements)</li>
        <li>Chain drawing, displaying the last carbon number</li>
        <li>Enhanced Query, S-group and R-group drawing features</li>
        <li>When MarvinSketch canvas is empty, the scrollbars are disabled</li>
        </ul>

    </li>
    <li><b>MarvinView:</b>
        <ul>
	<li>Spreadsheet-like view for displaying fields in SD and RDfiles</li>
        <li>Bugfix in OS X: the scrolling down button was covered by the
        resize button of the window</li>
	</ul>
    </li>
    <li><b>Import/export:</b>
	<ul>
        <li>Insertable Marvin OLE component into Office documents</li>
    	<li><a href="../calculations/iupacnaming.html">IUPAC name generator</a>,
    	with real-time name display in MarvinSketch, support for peptides and amino-acids,
    	and numerous name improvements</li>
	<li><a href="../formats/gaussian-doc.html">Gaussian Input/Output</a></li>
	<li><a HREF="../formats/cube-doc.html">Cube import</a>:
	changed default behaviour - reads in volumetric data by default
	(former import option 'V'), skips it if
	<a HREF="../formats/cube-doc.html#option_M">import option 'M'</a> is specified
	<li>UTF-16 encoding support for
	    <a href="beans/api/chemaxon/formats/MolInputStream.html">MolInputStream</a>
	    </li>
	<li>API changes:
	    <ul>
	    <li>Metadata for file formats handled by Marvin is
		represented by class
		<a href="beans/api/chemaxon/formats/MFileFormat.html">MFileFormat</a>.
		File formats can be found using
		<a href="beans/api/chemaxon/formats/MFileFormatUtil.html">MFileFormatUtil</a>.<a href="beans/api/chemaxon/formats/MFileFormatUtil.html#findFormats(java.lang.String, long, long)">findFormats</a>.
		User defined formats can be registered with
		<a href="beans/api/chemaxon/formats/MFileFormatUtil.html#registerFormat(chemaxon.formats.MFileFormat)">registerFormat</a>.
		</li>
	    <li>Metadata for import or export options is represented by
		class <a href="beans/api/chemaxon/marvin/util/OptionDescriptor.html">OptionDescriptor</a>.
		Export options for a given format can be retrieved using
		<a href="beans/api/chemaxon/marvin/io/MolExportModule.html">MolExportModule</a>.<a href="beans/api/chemaxon/marvin/io/MolExportModule.html#getOptionDescriptors(java.lang.String)">getOptionDescriptors</a>.
		</li>
	    <li>Record reading.
		<a href="beans/api/chemaxon/marvin/io/MRecordReader.html">MRecordReader</a>
		implementations can be used to parse records without
		creating Molecule objects. An MRecordReader can be created
		using
		MFileFormat.<a href="beans/api/chemaxon/formats/MFileFormat.html#createRecordReader(chemaxon.formats.MolInputStream, java.lang.String)">createRecordReader</a>
		or
		MFileFormatUtil.<a href="beans/api/chemaxon/formats/MFileFormatUtil.html#createRecordReader(java.io.InputStream, java.lang.String)">createRecordReader</a>.
		</li>
            <li>Only narrow ends of wedge bonds are considered
                in 2D representation of the molecules,
                following IUPAC recommendations. To convert your
                existing 2D molecules created with the both-end interpretation to
                the new convention, use the
                <a href="http://www.chemaxon.com/jchem/doc/user/StandardizerConfiguration.html#actionstring">ConvertWedgeInterpretation</a>
                Standardizer action. </li>
	    </ul>
	    <small>Related incompatibilities:
	    <ul>
	    <li>MolImportIface and MDocumentImportIface interfaces are
		replaced by the abstract class
		<a href="beans/api/chemaxon/marvin/io/MolImportModule.html">MolImportModule</a>.
		Record skipping related methods removed
		(isSkippingSupported, skipMol and skipToNext), use
		MRecordReader.<a href="beans/api/chemaxon/marvin/io/MRecordReader.html#skipRecord()">skipRecord</a>
		or
		<a href="beans/api/chemaxon/marvin/io/MRecordImporter.html">MRecordImporter</a>.<a href="beans/api/chemaxon/marvin/io/MRecordImporter.html#skipRecord()">skipRecord</a>
		instead.
		</li>
	    <li><a href="beans/api/chemaxon/marvin/io/MolExportModule.html">MolExportModule</a>:
		the
		<a href="beans/api/chemaxon/marvin/io/MolExportModule.html#open(java.lang.String)">open</a>
		method throws
		<a href="beans/api/chemaxon/marvin/io/MolExportException.html">MolExportException</a>,
		loadMarvinModule removed and replaced by
		MFileFormatUtil.<a href="beans/api/chemaxon/formats/MFileFormatUtil.html#createExportModule(java.lang.String)">createExportModule</a>,
		getOptionSign removed.
		Both MolExportModule and MolExportException moved to
		chemaxon.marvin.io, the old versions in
		chemaxon.marvin.util are deprecated.
		</li>
	    <li>The canonical encoding name is returned by
		MFileFormatUtil.<a href="beans/api/chemaxon/formats/MFileFormatUtil.html#getEncodingFromOptions(java.lang.String)">getEncodingFromOptions</a>
		and stored by
		MolExportModule.<a href="beans/api/chemaxon/marvin/io/MolExportModule.html#setEncoding(java.lang.String, java.lang.String)">setEncoding</a>,
		MolConverter.<a href="beans/api/chemaxon/formats/MolConverter.html#createMolConverter(java.io.InputStream, java.io.OutputStream, java.lang.String[], java.io.OutputStream[], int[])">createMolConverter</a> and
		the constructors of
		<a href="beans/api/chemaxon/formats/MolImporter.html">MolImporter</a>,
		<a href="beans/api/chemaxon/formats/MolExporter.html">MolExporter</a>
		and
		<a href="beans/api/chemaxon/formats/MolConverter.html">MolConverter</a>.
		These methods and constructors may throw
		IllegalCharsetNameException or UnsupportedCharsetException.</li>
	    <li>Import/export modules (not recommended to use directly!)
		moved from chemaxon.marvin.modules to
		chemaxon.marvin.io.formats and its subpackages.</li>
	    </ul>
	    </small>
	    </li>
	</ul>
	</li>
    <li><b>Calculator Plugins:</b>
        <ul>
        <li>Multiprocessor support in <a href="../applications/calc.html">cxcalc</a></li>
        <li>Tautomerization:
            <ul>
                <li>New tautomer generation rules were implemented</li>
                <li>Estimation of the tautomer distribution as function of pH was improved</li>
            </ul>
        </li>
        <li>pKa, logP: Accuracy of  the predictions were improved.</li>
        <li>Added <a href="beans/api/chemaxon/marvin/calculations/EnumerationPlugin.html">EnumerationPlugin</a>: enumerates Markush structures</li>
	<li>ElementalAnalyserPlugin:
            <ul>
               <li>"Dot-disconnected isotope formula" calculation added</li>
               <li>"D" and "T" symbols can be used for "Deuterium" and "Tritium" in isotope formulas</li>
            </ul></li>
        <li>pKaPlugin: "Take major tautomeric form" option added</li>
        <li>logPPlugin: "Take major tautomeric form" option added</li>
        <li>logDPlugin: "Consider tautomerization" option added</li>
        <li>New surface area calculations in MSAPlugin:
        <ul>
        	<li>Water accessible surface area (ASA)</li>
        	<li>Water accessible surface area of all atoms with positive partial charge (ASA+)</li>
        	<li>Water accessible surface area of all atoms with negative partial charge (ASA-)</li>
        	<li>Water accessible surface area of all hydrophobic atoms (ASA_H)</li>
        	<li>Water accessible surface area of all polar atoms (ASA_P)</li>
        </ul></li>
        <li>GUI: "Restore defaults" button added to options panel</li>
        <li>Integration of user-developed calculations made easier (see <a href="plugins.html">developers guide</a>)</li>
	</ul>
    </li>
    <li><b>Reaction auto-mapping:</b><ul>
        <li>New mapping style was introduced, <a href="beans/api/chemaxon/marvin/modules/AutoMapper.html#CHANGING">CHANGING</a>,
            this is the default ChemAxon-style mapping from now on (see also the
            <a href="http://www.chemaxon.com/jchem/doc/user/Reactor.html">Reactor</a> documentation).</li>
        <li>Three kind of mapping strategies have been introduced:
            <a href="beans/api/chemaxon/marvin/modules/AutoMapper.html#BEST">BEST</a> which is the slowest but exhaustive search,
            <a href="beans/api/chemaxon/marvin/modules/AutoMapper.html#STANDARD">STANDARD</a>, the default, fairly reliable
            automapping strategy, and <a href="beans/api/chemaxon/marvin/modules/AutoMapper.html#FAST">FAST</a> which is a
            crude mapping strategy.</li>
        <li>Numerous bug fixes, eg. <a HREF="http://www.chemaxon.com/forum/viewpost13414.html#13414">symmetrical ring maps are shifted.</a> </li>
    </ul></li>
    <li><b>Queries, Groups and Markush structures:</b>
            <ul>
           <li><a href="../sketch/sketch-basic.html#coordination-compounds">Coordination compounds</a>: drawing, MRV, MDL Mol, Extended SMILES IO</li>
            <li><a href="../sketch/sketch-basic.html#markush-structures">Markush structures</a>: position
                variation (Markush bond) and frequency variation drawing; MRV, MDL Mol, Extended SMILES IO; Enumerating Markush structures (sequentially/randomly)</li>
            <li><a href="../sketch/sketch-basic.html#comBrackets">Components, Unordered Mixtures and Ordered Mixtures</a>: drawing, MRV, MDL Mol IO</li>
            <li><a href="../sketch/sketch-basic.html#polymers">Polymers</a>: drawing, MRV, MDL Mol IO</li>
            <li><a href="../sketch/sketch-basic.html#repeatingunits">Repeating units with repetition ranges</a>: drawing, MRV, MDL Mol IO</li>
                <li>Improved editing of hydrogenized structures</li>
                <li>Improved branching in 3D</li>
            </ul>
    </li>

    <li><b>API:</b>
        <ul>
	<li>Graphics:
	    <ul>
	    <li><a href="beans/api/chemaxon/struc/graphics/MBracket.html">MBracket</a>
		class, supports parentheses, square brackets and chevrons.
		</li>
	    <li>New
		<a href="beans/api/chemaxon/struc/graphics/MTextBox.html">MTextBox</a>
		attributes "halign" and "valign" for aligning the text, see
		<a href="beans/api/chemaxon/struc/graphics/MTextBox.html#setHorizontalAlignment(int)">setHorizontalAlignment</a>
		and
		<a href="beans/api/chemaxon/struc/graphics/MTextBox.html#setVerticalAlignment(int)">setVerticalAlignment</a>.</li>
	    <li>Incompatible change: java.awt.Graphics2D is used as the first
		argument of
		<a href="beans/api/chemaxon/struc/MObject.html">MObject</a>.<a href="beans/api/chemaxon/struc/MObject.html#paint(java.awt.Graphics2D, chemaxon.struc.CTransform3D, int, java.awt.Color, java.awt.Color, java.awt.Color)">paint()</a>
		and its implementations.</li>
	    </ul>
	</li>
	<li>GUI:
	    <ul>
	    <li>Invoking Paste action from API:
		<a href="beans/api/chemaxon/marvin/beans/MarvinPane.html#doPaste()"
		>MarvinPane.doPaste()</a></li>
	    <li>Removed MarvinPane.addSaveImageMenu and
		MViewPane.makeSaveImageMenu because the menu of multiple image
		formats is replaced by only one "Save Image(s)" menu item. It
		can be added to a custom "File" menu using
		MarvinPane.<a HREF="beans/api/chemaxon/marvin/beans/MarvinPane.html#getCommonActions()">getCommonActions</a>().<a HREF="beans/api/chemaxon/marvin/common/swing/CommonActions.html#getSaveImageAction()">getSaveImageAction</a>().<a HREF="beans/api/chemaxon/marvin/swing/MAction.html#addTo(java.awt.Container)">addTo</a>(menu).</li>
	    </ul>
        </li>
        <li>Applet Parameters:
            <ul>
            <li>New: <a href="sketchman.html#parameters.listenpropertyevent">listenpropertyevent</a>.</li>
            <li>Deprecated: preload, background.</li>
            </ul></li>
	<li>Incompatibilities:
	    <ul>
	    <li><a href="beans/api/chemaxon/struc/MProp.html">MProp</a>.
                <a href="beans/api/chemaxon/struc/MProp.html#convertToString(java.lang.String)">convertToString(String)</a>
		became a final method calling the abstract
		<a href="beans/api/chemaxon/struc/MProp.html#convertToString(java.lang.String, int)">convertToString(String, int)</a>
		with 0 second argument.
		</li>
	    <li><a HREF="beans/api/chemaxon/struc/CGraph.html#fuse(chemaxon.struc.CGraph)">fuse(CGraph graph)</a>
		and <a HREF="beans/api/chemaxon/struc/CGraph.html#fuse0(chemaxon.struc.CGraph)">fuse0(CGraph graph)</a>
		have been made final. Subclasses should implement
		<a HREF="beans/api/chemaxon/struc/CGraph.html#fuse(chemaxon.struc.CGraph, boolean)">
		fuse(CGraph graph, boolean check)</a>
		and <a HREF="beans/api/chemaxon/struc/CGraph.html#fuse0(chemaxon.struc.CGraph, boolean)">
		fuse0(CGraph graph, boolean check)</a> instead.
		</li>
	    </ul>
	    </li>
	</ul>
    </li>
    </ul>

<h3><a class="anchor" name="V4114">December 11, 2007: Marvin 4.1.14</a></h3>
    <ul>
    <li>API:
        <ul>
        <li><a href="beans/api/chemaxon/struc/MDocument.html#simplifyMolecule()">MDocument.simplifyMolecule()</a></li>
        </ul>
    </li>
    <li>Fixed bugs:
        <ul>
        <li>Import/export:
            <ul>
            <li>There was a critical property based smiles export bug</li>
            <li>There was a NullPointerException in Parity (<a href="http://www.chemaxon.com/forum/viewpost13704.html#13704">forum topic</a>)</li>
            </ul>
        </li>
        <li>GUI:
            <ul>
            <li>Plugin options panel could not be closed using only the keyboard after running the calculation</li>
            <li>Edited molecule was not updated in viewer by closing the sketcher.</li>
            <li>Rotating a group in expanded form removed the group definition.</li>
            <li>Update isotope number in selection by D and T shortcuts.</li>
            <li>Type-over atom D did not work.</li>
            <li>In OS X, the scroll down button of sketcher scrollbar was covered by window resize button.
                (<a href="http://www.chemaxon.com/forum/viewpost1182.html#1182">forum topic</a>)</li>
            <li>Fix a small refreshing problem in MarvinSpace.</li>
            <li>Quick setting of component visibility on mouse drag in MarvinSpace.</li>
            </ul>
        </li>
        <li>Calculator Plugins:
            <ul>
            <li>Bugfix in the pKa plugin.</li>
            </ul>
        </li>
        <li>Misc:
            <ul>
            <li>Bugfix in the maximum common substructure search.</li>
            </ul>
        </li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="V4113">September 18, 2007: Marvin 4.1.13</a></h3>
    <ul>
    <li>API:
        <ul>
        <li>Background color settings for MolPrinter: <a href="beans/api/chemaxon/marvin/MolPrinter.html#setBackgroundColor(java.awt.Color)">MolPrinter.setBackgroundColor(java.awt.Color)</a>. (<a href="http://www.chemaxon.com/forum/viewpost13056.html#13056">forum topic</a>)</li>
        </ul>
    </li>
    <li>Bugfixes:
        <ul>
        <li>Change frames to dialogs to avoid focus problem of model dialogs.
        (<a href="http://www.chemaxon.com/forum/viewpost12371.html">forum topic</a>)</li>
        <li>"Any" bond was invisible in OS X.
        (<a href="http://www.chemaxon.com/forum/viewpost334.html#334">forum topic</a>)</li>
        <li>ElementalAnalyser and ElementalAnalyserPlugin: scientifically correct rounding of molecular weight (mass)</li>
        <li>CleanUtil.arrangeComponents() bug for reactions containing Sgroups.
        (<a href="http://www.chemaxon.com/forum/viewpost10796.html#10796">forum topic</a>)</li>
        <li>Bug in abbreviated group visibility.</li>
        <li>Correcting a bug of getting the most frequent natural isotope of Hydrogen. It returned 0, though the correct result is 1.</li>
        <li>Marvin Beans batch files accept 40 parameters.
        (<a href="http://www.chemaxon.com/forum/ftopic2012.html">forum topic</a>)</li>
        <li>MarvinSpace: lone pair visibility correction.</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="V4112">August 17, 2007: Marvin 4.1.12</a></h3>
    <ul>
    <li>Improvement in IUPAC name export. Very significant performance increase for large molecules,
        fixing about half the previously existing naming failures (due to timeouts) for typical datasets.
        <a href="../calculations/iupacnaming.html">New export option to setup naming timeout</a>.</li>
    <li>Bugfixes:
        <ul>
        <li>Redo bug fixed.</li>
        <li>Bugfix in Clean 2D</li>
        <li>Fix bug by flipping.</li>
        <li>MolAtoms were not selected when selectionChanged property change event invoked.</li>
        </ul></li>
    </ul>
<h3><a class="anchor" name="V4111">July 23, 2007: Marvin 4.1.11</a></h3>
    <ul>
    <li>GUI:
        <ul>
        <li>Text box improvement: its highlighting color is lighter than other highlighting
    	 colors because dark colors obscured the text for short strings.</li>
        </ul>
    </li>
    <li>API:
        <ul>
        <li>Clear undo queue: <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#clearHistory()">MSketchPane.clearHistory()</a>.</li>
        <li>New property to set default save format:
        <a href="sketchman.html#parameters.defaultSaveFormat">defaultSaveFormat</a></li>
        </ul>
    </li>
    <li>Bugfixes:
    	<ul>
    	<li>IUPAC Naming: fixed timeout errors.</li>
        <li>Fixing bug "Phosphorus loses chirality after explicit-H-removal"
    	</ul></li>
    <li>Calculator plugins:
    	<ul>
    	<li>Added dominant tautomer distribution calculation to Tautomeriztion plugin
    		<ul>
    		<li>cxcalc: <a href="../applications/cxcalc-calculations.html#dominanttautomerdistribution">dominanttautomerdistribution</a> calculation</li>
    		<li>Related changes in <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html">TautomerizationPlugin API</a></li>
    		</ul>
    	</li>
    	<li>Maximum allowed lenght of the tautomerization path can be set in Tautomeriztion plugin
    	    <ul>
    	    <li>See options of the <a href="../applications/cxcalc-calculations.html#tautomers">tautomers</a> calculation in cxcalc</li>
    		<li>New method in TautomerizationPlugin API: <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html#setMaximumTautomerizationPathLength(int)">setMaximumTautomerizationPathLength(int)</a></li>
    	    </ul>
        </li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="V4110">July 6, 2007: Marvin 4.1.10</a></h3>
    <ul>
    <li>Bugfix in displaying of pKa calculation results in command line (cxcalc).</li>
    </ul>
<h3><a class="anchor" name="V4109">June 26, 2007: Marvin 4.1.9</a></h3>
    <ul>
    <li>GUI:
        <ul>
        <li>Remove small blue corners in MarvinView (except in tables).</li>
        <li>Hide dashed line in bond forming electron flow arrows.</li>
        <li>Fixing undo and copying error in reactions.</li>
        </ul>
    </li>
    <li>API:
        <ul>
        <li>New image export option to <a href="../formats/images-doc.html#anum">display atom numbers</a>.</li>
        <li>New PropertyChangeEvent to indicate when <a href="sketchman.html#selectionChanged">selection changes</a>.</li>
        <li>New method in the <em>MolPrinter</em> class to
            <a href="beans/api/chemaxon/marvin/MolPrinter.html#setDispopts(int,%20int)">set display options</a>.</li>
        <li>In the <em>chemaxon.marvin.util.MolExportModule</em> class, the <em>optionSign2</em>
    field is replaced by <a href="beans/api/chemaxon/marvin/util/MolExportModule.html#getOptionSign()">getOptionSign()</a> method.</li>
        </ul>
    </li>
    <li>IUPAC name generation improvements, in particular for ions.</li>
    <li>Bugfixes:
        <ul>
            <li>Fixing arrow initialization problem in RxnMolecule clean.</li>
            <li>In PDB export, the <em>-c</em> option did not work properly.</li>
            <li>Empty field parsing bugfix in Smiles import.</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="V4108">May 17, 2007: Marvin 4.1.8</a></h3>
    <ul>
    <li>Import/export:
        <ul>
        <li>Image export option ("noatsym") to hide atom symbols in
        3D mode.</li>
        <li>SUBSTRUCTURE section is also generated in mol2</li>
        <li>Bugfix in MRV import: absolute stereo flag could not be set.</li>
        <li>Fix superatom S-group export bug in MRV export.</li>
        </ul></li>
    <li>GUI:
        <ul>
        <li>Fix NullPointerException by displaying MViewPane with menubar.</li>
        <li>Graphical reaction arrows.</li>
	<li>Bugfix in arrow drawing.</li>
        </ul></li>
    <li>API:
        <ul>
        <a href="beans/api/chemaxon/marvin/util/MPainterUtil.html"
        >chemaxon.marvin.util.MPainterUtil</a> is deprecated, use
        <a href="beans/api/chemaxon/marvin/MolPrinter.html"
        >chemaxon.marvin.MolPrinter</a>
        </ul></li>
    <li>Bugfixes:
        <ul>
        <li>LP chirality fix</li>
        <li>Bugfix in CleanUtil</li>
        <li>Minor bugfixes in calculation plugins</li>
        </ul></li>
    </ul>
<h3><a class="anchor" name="V4107">April 13, 2007: Marvin 4.1.7</a></h3>
    <ul>
    <li><a href="../calculations/iupacnaming.html">IUPAC name generator</a>, for
        interactive and batch naming</li>
    <li>Bugfixes:
        <ul>
        <li>In Graph invariant.</li>
        <li>Arrow mirroring bugfixes.</li>
        <li>Infinite loop fix in Parity.</li>
        <li>Converting to "base64:gzip:mrv" did not work.</li>
        <li>Exception by missing atom list definition fixed.</li>
        <li>ArrayIndexOutOfBoundsException in RxnMolecule.removeNode()</li>
        <li>Non-transformable polyline point highlighting fix</li>
        <li>InChi import/export works also in Java Web Start</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="V4106">March 14, 2007: Marvin 4.1.6</a></h3>
    <ul>
    <li>Import/Export:
        <ul>
	<li>RDfile properties can be
	   <a href="beans/api/chemaxon/struc/MPropertyContainer.html#hierarchize()">hierarchize</a>d
	   or
	   <a href="beans/api/chemaxon/struc/MPropertyContainer.html#flatten()">flatten</a>ed.</li>
        <li>Data sgroup improvements in MRV import/export.</li>
        <li>Bugfix in MRV export.</li>
        <li>Bugfixes in MolImporter.</li>
        <li>Bugfixes in Peptide import.</li>
        <li>Bad EOL (End Of Line) characters in the output of the InChi export was fixed.</li>
        </ul>
    </li>
    <li>GUI:
        <ul>
        <li>Double-clicking at selection unselects selected atoms.</li>
        <li>Bugfix in printing: Texts components covered each others on the printed view table.</li>
        <li>Removed unnecessary confirmation dialog by closing viewer detached sketch frame.</li>
        <li>Deleting problem of multiple is solved.</li>
        <li>Corrected the wrong location of plus sign in reactions.</li>
        </ul></li>
    <li>API:
    	<ul>
    	<li><a href="beans/api/chemaxon/marvin/beans/MarvinPane.html#setEnabled(boolean)">
                MarvinPane.setEnabled(boolean)</a> is implemented.</li>
        <li><a href="beans/api/chemaxon/marvin/beans/MViewPane.html#setDraggable(boolean)">
            MViewPane.setDraggable(boolean)</a> allows or denies drag operation in cells.</li>
    	<li>New property change event in MarvinView:
            <a href="viewman.html#parameters.selectedIndex">selectedIndex</a></li>
        <li><a href="beans/api/chemaxon/struc/Molecule.html#draw(java.awt.Graphics,%20java.lang.String)">Molecule.draw</a> is deprecated, use
            <a href="beans/api/chemaxon/marvin/util/MPainterUtil.html">chemaxon.marvin.util.MPainterUtil</a> instead of that.</li>
        <li>New MarvinSketch applet parameter: <a href="sketchman.html#parameters.buttonmenubar">buttonmenubar</a></li>
        <li>Text Box improvements</li>
        </ul></li>
    <li>Bugfixes:
        <ul>
        <li>Bugfixes in Clean 2D.</li>
        <li>Bugfixes in aromatization.</li>
        <li>Fix parity error during H removal.</li>
        <li>Potential deadlocks are fixed in MarvinSketch initalization.</li>
        <li>Bugfix in Parity.</li>
        <li>Bugfixes in calculator plugins (Tautomerization,pKa,Ionizer).</li>
        </ul></li>
    </ul>
<h3><a class="anchor" name="V4105">January 9, 2007: Marvin 4.1.5</a></h3>
    Bugfixes:
    <ul>
        <li>Import/Export:
            <ul>
            <li>EMF/PDF creating does not drop HeadlessException in headless
            mode.</li>
            <li>Fix EMF export bug (structure was invisible if canvas contained
            any text box).</li>
            <li>Problem with both super atom and data sgroups in mol import.</li>
            <li>ArrayIndexOutOfBoundsException in unique SMILES export.</li>
            </ul>
        </li>
        <li>Plugins:
            <ul>
            <li>In Tautomerization.</li>
            <li>In Charge.</li>
            <li>In pKa.</li>
            <li>In PolarGroups.</li>
            </ul>
        </li>
        <li>Parity error during H removal.</li>
        <li>Abbrev group problem with Me3SiO.</li>
    </ul>
<h3><a class="anchor" name="V4104">December 7, 2006: Marvin 4.1.4</a></h3>
    <ul>
    <li>GUI:
        <ul>
            <li>Fix endless loop by rings join.</li>
            <li>Exception in custom amino acid loading is fixed.</li>
        </ul>
    </li>
    <li>API:
        <ul>
            <li>MarvinView drops events by opening/closing detached
            sketcher/viewer.</li>
            <li>New methods: <a href="beans/api/chemaxon/marvin/calculations/ConformerPlugin.html#getEnergy()">ConformerPlugin.getEnergy()</a>,
                <a href="beans/api/chemaxon/marvin/calculations/ConformerPlugin.html#getEnergy(int)">ConformerPlugin.getEnergy(int)</a>.</li>
        </ul>
    </li>
    <li>Plugins:
        <ul>
            <li>Bugfix in MSA calculation.</li>
            <li>Acceptor count and donor count is displayed on the plugin result window.</li>
            <li>Bugfix in Major Microspecies calculation.</li>
            <li>Minor bugfixes in pKa calculation.</li>
            <li>Improved canonical tautomer generation.</li>
        </ul>
    <li>Fixing broken peptide snake.</li>
    <li>Bugfix in peptide import/export</li>
    <li>Fixing minor bugs in clean 3D</li>
    <li>Minor bugfix in Parity</li>
    </ul>
<h3><a class="anchor" name="v4103">November 17, 2006: Marvin 4.1.3</a></h3>
    <ul>
    <li>API:
	<ul>
	<li><a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#implicitizeHydrogens(int)">implicitizeHydrogens</a>(int)
	    is final. Subclasses should implement
	    <a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#implicitizeHydrogens(int, chemaxon.struc.MolAtom[])">
	    implicitizeHydrogens</a>(int, MolAtom[]) instead.
	    </li>
	</ul>
	</li>
	<li>Plugins:
	<ul>
		<li>New option added to conformer plugin to set the conformer diversity limit. API:
                    <a href="beans/api/chemaxon/marvin/calculations/ConformerPlugin.html#setDiversity(double)">setDiversity(double)</a>
	    <li>New option added to pKa plugin to handle the acid/base state depending on the submitted micro state. API:
            <a href="beans/api/chemaxon/marvin/calculations/pKaPlugin.html#setpKaPrefixType(int)">setpKaPrefix(int)</a>,
            <a href="beans/api/chemaxon/marvin/calculations/pKaPlugin.html#getpKaValues(int, int)">getpKaValues(int, int)</a>
	</ul>
        </li>
        <li>MarvinSpace
        <ul>
            <li>Available in MarvinView as an optional 3D structure viewer.</li>
            <li>Enhanced secondary structure visualization</li>
            <li>Charmm pdb file support for both structures and crystals</li>
            <li>Charmm Slab visualization</li>
        </ul>
        </li>
    </ul>
<h3><a class="anchor" name="v4102">October 16, 2006: Marvin 4.1.2</a></h3>
    <ul>
    <li>Import/Export:
        <ul>
        <li>InChi import can load structures without AuxInfo.</li>
        <li>PDB import:
            <ul>
            <li>multi model proteins</li>
            <li>nucleic acid backbone</li>
            <li>non-standard pdb file related changes (missing mandatory
            blocks etc.)</li>
            <li>charmm pdb ATOm record support</li>
            <li>new class for Water molecules</li>
            <li>support for DOD and TIP3 water</li>
            <li>recognition of water H (even when it's denoted by O)</li>
            <li>H-O-H bonds</li>
            </ul>
        </li>
        </ul>
    <li>GUI:
        <ul>
        <li>Improved display performance for large structures.</li>
        <li>Bugfix in 3D rotation: Front atoms did not follow mouse movement.</li>
        <li>Atom/bond coloring bug for abbreviated groups is fixed.</li>
        <li>CxSmiles conversion in Edit Source window is fixed.</li>
        <li>Marvin applications uses user's home as default directory in the File Open dialog.</li>
        </ul>
    </li>
    <li>New methods in API:
    <a href="applets/api/JMSketch.html#undo()">JMSketch.undo()</a>,
    <a href="applets/api/JMSketch.html#redo()">JMSketch.redo()</a>,
    <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#undo()">MSketchPane.undo()</a> and
    <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#redo()">MSketchPane.redo()</a></li>

    <li>MarvinSpace 1.3.2:
        <ul>
        <li>Charmm grid support</li>
        <li>Displaying bonds in water molecules</li>
        <li>Secondary structure visualization of nucleic acids</li>
        </ul>
    </li>
    <li>Others:
        <ul>
        <li>New S-group types: MIX (mixtures) and COM (components).</li>
        <li>Daylight style mapping, mapping style guessing</li>
        <li>Bugfix in Parity</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="v4101">September 8, 2006: Marvin 4.1.1</a></h3>
    <ul>
        <li><a href="http://www.chemaxon.com/marvinspace/changes.html">Changes
        in MarvinSpace 1.3.1</a></li>
        <li>Bugfixes:
        <ul>
            <li>Import/export:
            <ul>
                <li>In SMARTS import</li>
                <li>In CxSmiles import/export</li>
                <li>In 3D cleaning</li>
            </ul>
            </li>
            <li>Calculator plugins:
            <ul>
                <li>In pKa calculation</li>
                <li>In logP calculation</li>
                <li>in logD calculation</li>
            </ul>
            </li>
            <li>GUI:
                <ul>
                <li>Bugfix in pseudo atom display</li>
                <li>Out of memory error by dearomatizing huge view tables</li>
                <li>Minor bugs in loading/saving journal styles settings</li>
                </ul>
            <li>Valence check bug</li>
        </ul>
        </li>
    </ul>
<h3><a class="anchor" name="v4100">August 4, 2006: Marvin 4.1</a></h3>
    <ul>
    <li>Import/Export:
	<ul>
        <li><a href="../formats/emf-doc.html">EMF</a> export</li>
        <li>Preliminary <a href="../formats/mol2-doc.html">Mol2</a> import/export</li>
	<li><a name="v4100.image">Image export</a>: atom and bond
	    <a HREF="../formats/images-doc.html#setcolors">set colors</a>,
            <a HREF="../formats/images-doc.html#wireThickness">wire thickness</a>,
            <a HREF="../formats/images-doc.html#stickThickness">stick thickness</a>

            <a HREF="../formats/images-doc.html#ballRadius">ball radius</a>,
            <a HREF="../formats/images-doc.html#downwedge_daylight">daylight down
            wedge</a>,
            <a HREF="../formats/images-doc.html#anybond_auto">anybond style</a>
            and
            <a HREF="../formats/images-doc.html#amap">atom mapping visibility</a>
	    can be specified.</li>
	<li><a name="v4100.mprop">Molecule and document properties</a>
	    with special data types (not only strings) are exported and
	    imported in
	    <a HREF="../formats/cml-doc.html#property">MRV</a>,
	    <a HREF="../formats/mol-csmol-doc.html#mprop">SDfiles and RDfiles</a>.
	    Supported data types: boolean, int, double, int[],
	    Molecule, MDocument.</li>
	<li><a href="../applications/molconvert.html">molconvert</a>: optionally skips
	    molecule on error and continues with the next molecule (option -g)
	    (default: as before, exits on error).</li>
	</ul>
	</li>
    <li>R-groups:
	<ul>
	<li><a name="v4100.rgmax">the maximum R-group number</a>
	    is increased to 32767 (from 32),
	    the minimum is decreased to 0 (from 1). R0-R32767 are saved
	    in <a HREF="../formats/mrv-doc.html">MRV</a>
	    and <a HREF="../formats/mol-csmol-doc.html#molV3">V3 Molfiles</a>.
	    In <a HREF="../formats/mol-csmol-doc.html">V2 Molfiles</a>,
	    only R1-R999 are saved. The values of following constants are changed:
	    <a HREF="beans/api/chemaxon/struc/MolAtom.html#RGROUP_MAX">MolAtom.RGROUP_MAX</a>=32767,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#RG_ID_MASK">RgMolecule.RG_ID_MASK</a>,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#RG_ID2_OFF">RG_ID2_OFF</a>,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#RG_ID2_MASK">RG_ID2_MASK</a>,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#RG_RESTH">RG_RESTH</a>.
	    </li>
	<li><a HREF="beans/api/chemaxon/struc/RgMolecule.html#indexOf(chemaxon.struc.CNode)">RgMolecule.indexOf(CNode)</a>,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#indexOf(chemaxon.struc.CEdge)">indexOf(CEdge)</a>,
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#getNode(int)">getNode(int)</a>
	    and
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#getEdge(int)">getEdge(int)</a>
	    are applied to the graph union instead of the root structure.
	    </li>
	</ul>
	</li>
    <li>GUI:
        <ul>
	<li>Integration of MarvinSketch and MarvinSpace:</li>
	    <ul>
	    <li>3 Dimensional structure building: allows to modify ligand in the binding pocket.</li>
	    <li>Visualization of plugin results: 3D structure display, colored molecular surfaces.</li>
	    </ul>
        <li>Save options in viewer.</li>
        <li>Viewer handles huge SD files.</li>
	<li>Journal based drawing style templates</li>
	<li>Multipage molecular documents</li>
	</ul>
    </li>
    <li>Plugins:
        <ul>
	<li>Plugins are grouped</li>
	<li>Added <a HREF="beans/api/chemaxon/marvin/calculations/OrbitalElectronegativityPlugin.html">OrbitalElectronegativityPlugin</a> to Charge group</li>
	<li>Added <a HREF="beans/api/chemaxon/marvin/calculations/StereoisomerPlugin.html">StereoisomerPlugin</a> to Isomers group</li>
	<li>Added <a HREF="beans/api/chemaxon/marvin/calculations/ConformerPlugin.html">ConformerPlugin</a>
            and <a HREF="beans/api/chemaxon/marvin/calculations/MolecularDynamicsPlugin.html">MolecularDynamicsPlugin</a> to Conformation group</li>
	<li>Added <a HREF="beans/api/chemaxon/marvin/calculations/GeometryPlugin.html">GeometryPlugin</a>
            and <a HREF="beans/api/chemaxon/marvin/calculations/MSAPlugin.html">MSAPlugin</a>
            (3D molecular surface area calculation - methods: van der Waals, solvent accessible) to Geometry group</li>
	<li>Improved calculation methods in several plugins (pKa, logP, logD, etc.)</li>
	<li>Possibility to save multimolecular plugin results from GUI (e.g. conformers)</li>
	</ul>
    </li>
    <li>License handling: added graphical license handler interface
        <ul>
	<li>press the 'Manage license keys' button on the Edit / Preferences / Licenses tab,
	    in MarvinSketch or MarvinView, or else
	<li>use the <code>license</code> command line script
	</ul>
	</li>
    <li><a href="http://www.chemaxon.com/marvinspace/">MarvinSpace</a> 1.3
        <ul>
            <li>Ribbon representation of protein secondary structure</li>
            <li>Interactive editing of molecules/ligands in MarvinSketch</li>
            <li>Copy/Cut/Paste, Drag&amp;Drop functions</li>
            <li>High resolution image export in various formats (PNG, BMP, Targa, JPG), arbitrary size</li>
            <li>New coloring types: secondary structure, rainbow, b-factor (temperature factor), SETOR residue colors, color palettes</li>
            <li>Interactive change of the isovalue of Gaussian Cube surfaces</li>
            <li>Enhanced selection tools: binding pocket, residues etc.</li>
	    <li>Enhanced labels (colors, size, placement), more built in types (e.g. residue labels, secondary structure label)</li>
	    <li>Improved error handling, out of memory does not terminate</li>
            <li>Progress bar, better feedback about processes </li>
        </ul>
    </li>
    <li>API changes:
	<ul>
	<li>Added <a HREF="beans/api/chemaxon/struc/Molecule.html#cloneMoleculeWithDocument()">
	    Molecule.cloneMoleculeWithDocument()</a>: clones the molecule with its non-molecular data
	    (graphics objects: polylines, arrows; electron flows; text boxes).
	    </li>
	<li>Added <a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#arrangeComponents()">
	    Molecule.arrangeComponents()</a>: avoids overlapping components (reaction components,
	    R-group definitions) by translations.
	    </li>
	<li>Added
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html">MolImporter</a>.<a HREF="beans/api/chemaxon/formats/MolImporter.html#skipRecord()">skipRecord()</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#nextDoc()">nextDoc()</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#getRecordCount()">getRecordCount()</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#getRecordCountMax()">getRecordCountMax()</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#estimateNumRecords()">estimateNumRecords()</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#seekRecord(int,%20chemaxon.marvin.util.MProgressMonitor)">seekRecord(int)</a>,
	    <a HREF="beans/api/chemaxon/formats/MolImporter.html#isRewindable()">isRewindable()</a>.
	    </li>
	<li><a HREF="beans/api/chemaxon/struc/Sgroup.html#setGUIStateRecursively(boolean)">Sgroup.setGUIStateRecursively</a>
		returns true if the state was changed.
	    </li>
	<li><a HREF="beans/api/chemaxon/struc/CGraph.html">CGraph</a> became
	    abstract,
	    <a HREF="beans/api/chemaxon/struc/MoleculeGraph.html">MoleculeGraph</a>(parent)
	    and
	    <a HREF="beans/api/chemaxon/struc/Molecule.html">Molecule</a>(parent)
	    constructors removed to avoid confusion with copy constructors.
	    </li>
	<li>The implementation of seeking in MolImporter required the extension
	    of the molecule/document import interfaces:<br>
	    <a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html">MolImportIface</a>.<a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html#isSkippingSupported()">isSkippingSupported()</a>,
	    <a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html#skipMol()">skipMol()</a>
	    and
	    <a HREF="beans/api/chemaxon/marvin/io/MDocumentImportIface.html">MDocumentImportIface</a>.getGlobalProperties() must be implemented.</li>
	<li>The implementation of the sticky midpoints of MPolylines required
	    incompatible changes in the graphics classes:<br>
	    <a HREF="beans/api/chemaxon/struc/MPoint.html">MPoint</a>.getX(),
	    getY(), getZ(), setLocation(DPoint3) and
	    setXYZ(double, double, double) are replaced by
	    <a HREF="beans/api/chemaxon/struc/MPoint.html#getLocation(chemaxon.struc.CTransform3D)">getLocation(CTransform3D)</a>
	    and
	    <a HREF="beans/api/chemaxon/struc/MPoint.html#setLocation(chemaxon.struc.DPoint3, chemaxon.struc.CTransform3D)">setLocation(DPoint3, CTransform3D)</a>,
	    <a HREF="beans/api/chemaxon/struc/MObject.html">MObject</a>.calcCenter(DPoint3),
	    transform(CTransform3D, int) and getPointRef(int) are replaced by
	    by <a HREF="beans/api/chemaxon/struc/MObject.html#calcCenter(chemaxon.struc.DPoint3, chemaxon.struc.CTransform3D)">calcCenter(DPoint3, CTransform3D)</a>,
	    <a HREF="beans/api/chemaxon/struc/MObject.html#transform(chemaxon.struc.CTransform3D, int, chemaxon.struc.CTransform3D)">transform(CTransform3D, int, CTransform3D)</a>
	    and
	    <a HREF="beans/api/chemaxon/struc/MObject.html#getPointRef(int, chemaxon.struc.CTransform3D)">getPointRef(int, CTransform3D)</a>.
	    </li>
	</ul>
	</li>
    <li>Applet/bean parameter changes:
	<ul>
	<li>Toolbar templates are not handled together with the other
	    templates appearing in their own window. Toolbar template sets
	    can be specified using the new
	    <a href="sketchman.html#parameters.ttmpls">ttmpls</a> parameter,
	    the old <a href="sketchman.html#parameters.tmpls">tmpls</a>
	    parameter is used only for other template sets.
	    </li>
	</ul>
	</li>
    <li>Deprecation:
	<ul>
	<li>bondWidth property/applet parameter is replaced by
	    <a HREF="sketchman.html#parameters.bondSpacing">bondSpacing</a></li>
	<li><a href="beans/api/chemaxon/struc/RxnMolecule.html">RxnMolecule</a>.getStructureCount,
	    getStructure, addStructure, removeStructure methods are replaced by
	    <a href="beans/api/chemaxon/struc/RxnMolecule.html#getComponentCount()">getComponentCount</a>,
	    <a href="beans/api/chemaxon/struc/RxnMolecule.html#getComponent(int, int)">getComponent</a>,
	    <a href="beans/api/chemaxon/struc/RxnMolecule.html#addComponent(chemaxon.struc.Molecule, int)">addComponent</a>
	    and
	    <a href="beans/api/chemaxon/struc/RxnMolecule.html#addComponent(int, int)">removeComponent</a>.
	    </li>
	</ul>
	</li>
        <li>AWT applets have been removed from Marvin Applets package.</li>
        <li><a href="dotnet.html">.NET support</a> in Marvin Beans.</li>
    <li>Bugfixes:
        <ul>
        <li>Molecule.calcHybridization() assigns HS_S to hydrogen atoms.</li>
        <li>Fixed potential memory leaks in Marvin applets.</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="v4006">May 25, 2006: Marvin 4.0.6</a></h3>
    <ul>
    <li>Bugfixes:
        <ul>
        <li>In aromatization.</li>
        <li>In ionizer.</li>
        <li>In Marvin Beans installer.</li>
        <li>NullPointerException at refreshing empty cells in view table</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="v4005">March 24, 2006: Marvin 4.0.5</a></h3>
    <ul>
    <li>Import/Export:
        <ul>
        <li>Minor bugfixes in SMILES and in SMARTS import.</li>
        <li>Atom value in molfile.</li>
        <li>Bugfix in PDB import.</li>
        <li>Fix RXN incompatibility in MDLCompressor and in MolImporter.</li>
        </ul></li>
    <li>GUI:
        <ul>
        <li>Speed-up slow viewer/sketcher performance on very large structures.</li>
        <li>Shortcut for clear screen.</li>
        </ul></li>
    <li>Plugins:
        <ul>
        <li>Adding the dot-disconnected molecule formula calculation to Elemental Analysis.</li>
        </ul></li>
    <li>MarvinSpace:
        <ul>
        <li>Proper handling of H and LP on hetero groups.</li>
        <li>Bond order perception.</li>
        </ul></li>
    </ul>

<h3><a class="anchor" name="v4004">January 23, 2006: Marvin 4.0.4</a></h3>
    <ul>
    <li>Import/Export:
        <ul>
        <li>Non-ASCII characters are escaped in MRV import/export.</li>
        <li>SMILES fields can be separated with TAB separators.</li>
        <li>Slow image export bug fixed.</li>
        <li>Minor bugs fixed in CML import.</li>
        <li>Bugfixes in PDB import. Note, that PDB import is no longer
            compatible with the original implementation which is still
            applied for <code>XYZ</code> files. See <a href="../formats/pdb-doc.html#notes">
            release notes</a>.</li>
        <li>Bugfix in the SMILES import of aromatic bonds.</li>
        <li>Minor CxSmiles import/export bug.</li>
        </ul>
    </li>
    <li>API:
        <ul>
        <li>Skin parameter/menu is denied in MViewPane and in
        MSketchPane. It is available ony in Marvin applets/applications.</li>
        <li>Giving of the encoding in MolConverter was changed. Both input and output
        encoding can be specified.</li>
        </ul>
    <li>GUI Bugfixes:
        <ul>
        <li>Link node drawing problem.</li>
        <li>Copy from R-group definition did not work.</li>
        <li>Last page of the view table was not printed if there were empty
        cells.</li>
        <li>PropertyChangeEvent was not invoked when molecule was changed.</li>
        <li>Down wedge looked like Up wedge on the toolbar.</li>
        <li>Pseudo atom exception in sketcher.</li>
        <li>Missing attachment point option in popup menu.</li>
        <li>Right click raises exception for reactions with abbrev. groups.</li>
        <li>Opening molfile with embedded groups caused exception.</li>
        </ul>
    </li>
    <li>Other Bugfixes:
        <ul>
        <li>Minor bugs in Calculator Plugins.</li>
        <li>Clean 2D produced zero coordinates.</li>
        <li>Edit source bullet import bug.</li>
        <li>Potential deadlock at the closing of a MarvinSketch applet.</li>
        <li>H removal throws exception on Markush structures.</li>
        <li>Bug in Molecule.clone().</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="v4003">November 10, 2005: Marvin 4.0.3</a></h3>
    <ul>
        <li>Bugfixes:
            <ul>
                <li>Minor bugfixes in MarvinSpace</li>
                <li>In mol file export</li>
            </ul>
        </li>
    </ul>
<h3><a class="anchor" name="v4002">November 4, 2005: Marvin 4.0.2</a></h3>
    <ul>
    <li>Import/Export:
	<ul>
	<li><a href="../formats/inchi-doc.html">IUPAC InChi</a></li>
	<li><a href="../formats/mol-csmol-doc.html">MDL Molfiles, RGfiles etc.</a>:
	    Implicit H is stored as attached data when needed.</li>
	<li>Improved <a HREF="../formats/pdb-doc.html">PDB</a> import.</li>
        <li>Hydrogenize bug fixed: tetrahedral geometry of alcohol Oxygen atom is now maintained.</li>
	<li>Volumetric data import/export for <a HREF="../formats/cube-doc.html">CUBE files</a>
            (not processed by Marvin)
	</ul>
	</li>
    <li>Implemented trivalent doublet and quartet.
	(<a HREF="beans/api/chemaxon/struc/MolAtom.html#RAD3_DOUBLET">RAD3_DOUBLET</a>,
	<a HREF="beans/api/chemaxon/struc/MolAtom.html#RAD3_DOUBLET">RAD3_QUARTET</a>)
	</li>
    <li>Applets:
	<ul>
	<li>New methods:
        MSketch.getSelectedMol,
        MSketch.getMolMass,
        MSketch.getMolExactMass,
        MSketch.getMolFormula,
        MView.getMolMass,
        MView.getMolExactMass,
        MView.getMolFormula,
        <a href="applets/api/JMSketch.html#getMolMass()">JMSketch.getMolMass</a>,
        <a href="applets/api/JMSketch.html#getMolExactMass()">JMSketch.getMolExactMass</a>,
        <a href="applets/api/JMSketch.html#getMolFormula()">JMSketch.getMolFormula</a>,
        <a href="applets/api/JMView.html#getMolMass(int)">JMView.getMolMass</a>,
        <a href="applets/api/JMView.html#getMolExactMass(int)">JMView.getMolExactMass</a>,
        <a href="applets/api/JMView.html#getMolFormula(int)">JMView.getMolFormula</a>
        </li>
        <li>New sketcher parameter:
	    <a HREF="sketchman.html#parameters.undetachByX">undetachByX</a>.
	</li>
	</ul>
	</li>
    <li><a href="http://www.chemaxon.com/marvinspace/index.html">MarvinSpace</a> beta, includes public
            <a href="beans/api/chemaxon/marvin/space">API</a>:
        <ul>
            <li>Dynamic loading of JOGL libraries.</li>
            <li>Better handling of PDB files including not standard complient variants.</li>
            <li>Save graphic scene as PNG image file.</li>
            <li>Basic Gaussian Cube file support.</li>
            <li>Improved User Interface.</li>
            <li>Bugfixes.</li>
        </ul>
    </li>
    <li>Plugin:
        <ul>
            <li>New parameter in
                <a href="beans/api/chemaxon/marvin/calculations/ResonancePlugin.html#setTakeMajorContributors(boolean)">ResonancePlugin</a>:
	        take major contributors (-m, --mcontrib).</li>
            <li>New parameter in
                <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html#setTakeDominantTautomers(boolean)">TautomerizationPlugin</a>:
	        take dominant tautomers (--d, --dominants).</li>
            <li>Bugfix in
                <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html">TautomerizationPlugin</a>.</li>
        </ul>
    </li>
    <li>Sgroup names can contain almost any ascii character.</li>
    <li>Bugfixes:
        <ul>
            <li>Hydrogenize bug fixed: tetrahedral geometry of alcohol O is now
             maintained.</li>
            <li>Minor bugfixes in aromatization, in 2D cleaning and in
            molconverter.</li>
        </ul>
    </li>
    </ul>
<h3><a class="anchor" name="v4001">August 19, 2005: Marvin 4.0.1</a></h3>
    <ul>
    <li>Trivalent radicals are displayed and their
	<a HREF="../formats/mrv-doc.html">MRV</a> import is fixed.</li>
    <li>Bugfixes in cxsmiles, in 2D cleaning and in parity calculation.</li>
    </ul>
<h3><a class="anchor" name="v4000">August 8, 2005: Marvin 4.0</a></h3>
    <ul>
    <li><a href="http://www.chemaxon.com/MarvinSpace/index.html">MarvinSpace 1.0-alpha</a>
        is released as part of Marvin 4.0. <br>
        MarvinSpace is a 3D molecular structure visualization tool for
        displaying macromolecules, protein-ligand complexes as well as small
        molecules.<br>
        Release notes: At present MarvinSpace is available as standalone desktop
        application and as Java Applet.
        Java Beans and the public API will be released later.
        See also <a href="http://www.chemaxon.com/MarvinSpace/index.html#issues">Known Issues</a>.</li>
    <li>Import/export
	<ul>
	<li>Link node outer bonds imported and exported in CML, MRV and MDL.
	    </li>
	<li><a HREF="../formats/mrv-doc.html">MRV</a>:
	    atom and bond set colors are stored, animation of a chemical
	    process can be stored. Parity is stored in 0D.
	    </li>
	<li><a HREF="../formats/mrv-doc.html">CML</a>:
	    MRV tags and attributes are no longer supported but they
	    can be imported. If you have a CML document that is created by an
	    older Marvin, it is recommended to save that in MRV format!
	    </li>
	<li>RDfiles with missing &quot;M  END&quot;s are also imported.</li>
	<li><a HREF="../formats/msbmp-doc.html">MS BMP</a> image format
        (only export).</li>
        <li>SDF import: reading sdf-s containing empty structures</li>
        <li>Atom types are read in case insensitive manner in mol/sdf
        import.</li>
        <li>cxsmiles import/export: Pseudo atom types</li>
        <li>SMILES import/export: Handling of radicals and unusual valences</li>
        <li>Support for localized encoding of structure files.</li>
	</ul>
    </li>
    <li>Double bond with a wiggly bond neighbour are treated as unspecified
	E/Z configuration.</li>
    <li>Improved unique smiles canonicalization</li>
    <li>Improvements in chirality calculation</li>
    <li>Clean wedges function</li>
    <li>GUI:
    <ul>
        <li>New templates in MarvinSketch: Aromatics, Bridged Polycycles,
        Bicycles, Crown Ethers, Cycloalkanes, Fullerenes</li>
        <li>My Templates are available in the MarvinSketch applet (only in
        Swing).</li>
        <li>Wrap long data fields in MarvinView</li>
        <li>Shortcut + SHIFT click: automatically ungroup abbreviated
        groups</li>
        <li>View implied lone pairs</li>
        <li>Improved rendering quality</li>
        <li>Attach data to atoms (Data S-groups)</li>
        <li>Drawing of h&lt;n&gt;, D&lt;n&gt;, s&lt;n&gt;, s*, rb&lt;n&gt;,
        rb*, u query properties</li>
    </ul>
    </li>
    <li>Plugins
	<ul>
	<li><a href="plugins.html">Calculator plugin</a> handling is completely rewritten:
            <ul>
            <li>Dynamical loading of plugins and parameter panels based on configuration by
    	    <a href="beans/api/chemaxon/marvin/plugin/PluginFactory.html">PluginFactory</a></li>
	    <li>Separated graphical plugin result display:
	    <a href="beans/api/chemaxon/marvin/plugin/CalculatorPluginDisplay.html">
	CalculatorPluginDisplay</a></li>
	    <li>Graphical parameter panels are generated from XML:
	&lt;plugin class name&gt;Parameters.xml if exists, otherwise asked from the display class:
	<a href="beans/api/chemaxon/marvin/plugin/CalculatorPluginDisplay.html#getParameterPanel()">
	CalculatorPluginDisplay.getParameterPanel()</a></li>
	    <li>Configuration files <a href="../../xjars/calc.properties">calc.properties</a>
	(<a href="../applications/calc.html">Calculator</a>) and
	<a href="../../xjars/plugins.properties">plugins.properties</a> (MarvinSketch, MarvinView)
	together with the parameter panel configuration XMLs and custom plugin JARs are placed
	in the <a href="../../xjars">xjars</a> directory under Marvin root.</li>
	    <li>CalculatorOutput used by <a href="../applications/calc.html">Calculator</a> is renamed:
	<a href="beans/api/chemaxon/marvin/plugin/CalculatorPluginOutput.html">
	CalculatorPluginOutput</a>
	(and subclasses are found automatically by the following naming convention:
	output class name = &lt;plugin class name&gt;Output)</li>
	    <li><a href="beans/api/chemaxon/marvin/plugin/CalculatorPlugin.html">
	CalculatorPlugin</a> API is slightly changed.</li>
	    <li>A <a href="../../examples/plugin-dev/index.html">custom plugin example with test application</a>
	is added.</li>
	    </ul>
        </li>
	<li>Added MRV result molecule output to <a href="../applications/calc.html">cxcalc</a>.
	</li>
	<li>Added options JPEG / PNG image save and copy &amp; paste image to chart result display
	in MarvinSketch / MarvinView.
	</li>
	<li>Changes in specific plugin calculations:
            <ul>
	    <li>Added <a href="beans/api/chemaxon/marvin/calculations/IsoelectricPointPlugin.html">
	IsoelectricPointPlugin</a>.</li>
	    <li>Added <a href="beans/api/chemaxon/marvin/calculations/TautomerizationPlugin.html">
	TautomerizationPlugin</a> and <a href="beans/api/chemaxon/marvin/calculations/ResonancePlugin.html">
	ResonancePlugin</a>.</li>
	    <li>Added microspecies distribution calculation (msdistr) to
	<a href="../applications/calc.html">cxcalc</a>.</li>
	    <li>New topological properties in
	<a href="beans/api/chemaxon/calculations/TopologyAnalyser.html">TopologyAnalyser</a> and
	<a href="beans/api/chemaxon/marvin/calculations/TopologyAnalyserPlugin.html">
	TopologyAnalyserPlugin</a>:<br>
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#asymmetricAtomCount()">
	       asymmetricAtomCount()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#balabanIndex()">
	       balabanIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#carboRingCount()">
	       carboRingCount()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#carboaromaticRingCount()">
	       carboaromaticRingCount()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#cyclomaticNumber()">
	       cyclomaticNumber()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#distanceCount(int, int)">
	       distanceCount(int atom, int distance)</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#distanceDegree(int)">
	       distanceDegree(int atom)</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#eccentricity(int)">
	       eccentricity(int atom)</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#hararyIndex()">
	       hararyIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#hyperWienerIndex()">
	       hyperWienerIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#isAsymmetricAtom()">
	       isAsymmetricAtom()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#isConnected()">
	       isConnected()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#isConnected(int, int)">
	       isConnected(int atom1, int atom2)</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#plattIndex()">
	       plattIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#randicIndex()">
	       randicIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#shortestPath(int, int)">
	       shortestPath(int atom1, int atom2)</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#stericEffectIndex()">
	       stericEffectIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#szegedIndex()">
	       szegedIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#wienerIndex()">
	       wienerIndex()</a>,
	   <a href="beans/api/chemaxon/calculations/TopologyAnalyser.html#wienerPolarity()">
	       wienerPolarity()</a>.
	    </li>
	    </ul>
        </li>
	</ul>
    </li>
    <li>API
	<ul>
	<li><a href="beans/api/chemaxon/struc/PeriodicSystem.html">PeriodicSystem</a>:
	    new radius functions
	   <a href="beans/api/chemaxon/struc/PeriodicSystem.html#getAtomicRadius(int)">getAtomicRadius(int z)</a>,
	   <a href="beans/api/chemaxon/struc/PeriodicSystem.html#getCovalentRadius(int)">getCovalentRadius(int z)</a>,
	   <a href="beans/api/chemaxon/struc/PeriodicSystem.html#getVanDerWaalsRadius(int)">getVanDerWaalsRadius(int z)</a>.
	    </li>
        <li><a href="beans/api/chemaxon/marvin/beans/MSketchPane.html">MSketchPane</a>:
	    new methods
            <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#isCloseEnabled">isCloseEnabled()</a>,
            <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#setCloseEnabled(boolean)">setCloseEnabled(boolean)</a>,
            <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#getMrvWithSettings()">getMrvWithSettings()</a>,
            <a href="beans/api/chemaxon/marvin/beans/MSketchPane.html#setMrvWithSettings(java.lang.String)">setMrvWithSettings(String)</a>,
            <a HREF="beans/api/chemaxon/marvin/beans/MSketchPane.html#getImage(double)">getImage(scale)</a>,
            <a HREF="beans/api/chemaxon/marvin/beans/MSketchPane.html#getImage(java.awt.Dimension)">getImage(size)</a>,
            <a HREF="beans/api/chemaxon/marvin/beans/MSketchPane.html#getBoundRectSize()">getBoundRectSize()</a>.
	    </li>
        <li><a href="beans/api/chemaxon/struc/MoleculeGraph.html#getLocalParity(int)">MoleculeGraph.getLocalParity(int)</a> to calculate local
        parity of an atom</li>
	<li>Incompatible API changes:
	    <ul>
	    <li><a HREF="beans/api/chemaxon/marvin/beans/MarvinPane.html">MarvinPane</a>.<a HREF="beans/api/chemaxon/marvin/beans/MarvinPane.html#setAtomSymbolsVisible(boolean)">setAtomSymbolsVisible(boolean)</a>
		applies to 3D molecules only; atom symbols are always visible
		in 2D.</li>
	    <li><a HREF="beans/api/chemaxon/struc/MolAtom.html">MolAtom</a>.<a HREF="beans/api/chemaxon/struc/MolAtom.html#getAtomSymbol(int, int, int[], chemaxon.struc.CTransform3D)">getAtomSymbol</a>(opts,
		aflags, lcenter, transform) uses SYM_* constant flags in its
		first argument instead of magic numbers.</li>
	    </ul>
        </li>
        </ul>
    </li>
    <!-- new features -->
    </ul>
<h3><a class="anchor" name="v3509">July 27, 2005: Marvin 3.5.9</a></h3>

    <ul>
        <li>Improved aromatization</li>
        <li>Svg export gives UTF-8 encoded output.</li>
        <li>Bugfixes:
            <ul>
            <li>In CmlImport</li>
            <li>In 3D cleaning</li>

            <li>In dearomatization</li>
            </ul>
        </li>
    </ul>

<h3><a class="anchor" name="v3508">June 29, 2005: Marvin 3.5.8</a></h3>
    <ul>
    <li>Bugfixes:
    <ul>
        <li>In plugin calculations.</li>
        <li>In parity.</li>
        <li>In 3D cleaning.</li>
        <li>In displaying of implicit hydrogens</li>
    </ul>
    </li>
    </ul>

<h3><a class="anchor" name="v3507">May 28, 2005: Marvin 3.5.7</a></h3>
    <ul>
    <li>Minor bugfixes in plugin calculations.</li>
    </ul>

<h3><a class="anchor" name="v3506">May 17, 2005: Marvin 3.5.6</a></h3>
    <ul>
    <li>R/S and canonical smiles calculation speedup.</li>

    <li>3D:
    <ul>
        <li>Improved 3D cleaning efficiency.</li>
        <li>New Clean3D options. Time limit in the 3D cleaning process.</li>
    </ul></li>
    <li>Bugfixes:
        <ul>
        <li>The R/S label is not displayed on the first atom of the
        structure.</li>

        <li>Fonts are not scaled on the printed page.</li>
        <li>Bug fixes in R/S calculation.</li>
        <li>Implicit hydrogen hides upper bond.</li>
        <li>Bug fix in cxsmiles export.</li>
        </ul>
    </li>
    </ul>

<h3><a class="anchor" name="v3505">March 29, 2005: Marvin 3.5.5</a></h3>
    <ul>
    <li>Plugins: logP calculation is supplemented with metal fragments.</li>
    <li>Bugfixes:
        <ul>
        <li>RGfile import with nonstandard header.</li>
        <li>Fixing bugs according to the user's response and improvement of pKa
        calculation quality.</li>
        </ul></li>
    </ul>

<h3><a class="anchor" name="v3504">January 31, 2005: Marvin 3.5.4</a></h3>
    <ul>
    <li>Smarts import: atom expressions of type [C,c] are imported as [#6].</li>
    <li>Bugfix: 3D cleaning can cause Java 1.4.2_06 VM to crash.</li>
    </ul>

<h3><a class="anchor" name="v3503">January 24, 2005: Marvin 3.5.3</a></h3>
    <ul>
    <li>Bugfix: Import of SMILES containing atoms with &quot;unspecified atomic
    number&quot; (*) is fixed.</li>
    </ul>
<h3><a class="anchor" name="v3502">January 11, 2005: Marvin 3.5.2</a></h3>
    <ul>
    <li>Colored MarvinView labels at celular level</li>
    <li>Bugfixes:
        <ul>
            <li>Error in extended SMILES export</li>
            <li>NullPointerException at adding new structure to My Templates</li>
            <li>Error in drawing multiple groups</li>
        </ul>
    </ul>

<h3><a class="anchor" name="v3501">November 29, 2004: Marvin 3.5.1</a></h3>
    <ul>
    <li>Extended SMILES export: <a href="../formats/cxsmiles-doc.html#option_d">d</a>
        option to write C/T info for ring double bonds.</li>
    <li>API:
        <ul>
        <li>New methods: <a href="applets/api/JMView.html#isEmpty(int)">JMView.isEmpty()</a>,
        MView.isEmpty,
        <a href="applets/api/JMSketch.html#isEmpty()">JMSketch.isEmpty()</a>,
        <a href="applets/api/JMSketch.html#getAtomCount()">JMSketch.getAtomCount()</a>,
        <a href="applets/api/JMSketch.html#isAtomSelected(int)">JMSketch.isAtomSelected</a>,
        <a href="applets/api/JMSketch.html#isEmpty()">MSketch.isEmpty()</a>,
        MSketch.getAtomCount,
        <a href="applets/api/JMSketch.html#isAtomSelected(int)">MSketch.isAtomSelected()</a>.
        </ul>
    </li>
    </ul>

<h3><a class="anchor" name="v3500">November 5, 2004: Marvin 3.5</a></h3>
    <ul>
    <li>Plugins:
        <ul>
	<li><a href="beans/api/chemaxon/marvin/calculations/TopologyAnalyserPlugin.html">
	    TopologyAnalyserPlugin</a> is available: calculates molecule properties from topology like number of various ring types, rotatable bonds.</li>
	<li>Calculation of molecular polarizability is available in
	    <a href="beans/api/chemaxon/marvin/calculations/PolarizabilityPlugin.html">PolarizabilityPlugin</a>.</li>
	<li>Improved pKa and logP predictions.<a href="../../chemaxon/marvin/help/Validations.html#Top">Test Results</a></li>
	<li>Added calculation of aromatic system and aromatic ring total charges in
	    <a href="beans/api/chemaxon/marvin/calculations/ChargePlugin.html">ChargePlugin</a>.</li>
	</ul>
	</li>
    <li><a class="text" name="v3500io">Import/export:</a>
	<ul>
	<li>Link nodes are imported and exported in
	    <a HREF="../formats/mol-csmol-doc.html">MDL molfiles</a> and
	    <a HREF="../formats/mrv-doc.html">MRV</a>/<a HREF="../formats/cml-doc.html">CML</a>.
	    See also the <a HREF="#v3500linknodeAPI">related API changes</a>.
	    </li>
	<li>MDL Molfiles:
	    <ul>
	    <li><a HREF="../formats/mol-csmol-doc.html#ioption_Usg">Usg</a> import
		option to ungroup all S-groups.</li>
	    <li>Atom coordinates are not rescaled in 2D V2 molfiles if the
		<a HREF="../formats/mol-csmol-doc.html#ioption_b">b import</a>/<a HREF="../formats/mol-csmol-doc.html#option_b">export</a>
		option is used with 0 argument.</li>
	    <li><a HREF="molcompress-doc.html#java">MdlCompressor</a> can
		compress Rxnfiles.</li>
	    </ul>
	    </li>
	<li>SMARTS import:
	    <a HREF="../formats/smiles-doc.html#ioption_d"><b>d</b> option for Daylight-conform meaning of "H"</a>.
	    Importing ambiguous SMARTS gets a warning message when not using
	    this option.</li>
	<li><a HREF="../formats/mrv-doc.html">MRV</a> (Marvin Document) and
	    <a HREF="../formats/cml-doc.html">CML</a>:
	    <ul>
	    <li><a class="text" NAME="v3500rxnarrow"><i>reaction arrow type</i></a> is stored
		(default, resonance, retrosynthetic or equilibrium),
		see also the <a HREF="#v3500api.rxnarrow">API changes</a>.</li>
	    <li>valence is imported and exported</li>
	    </ul>
	    </li>
	<li>Image export:
	    <ul>
	    <li><a HREF="../formats/images-doc.html#chiral">Options
		for displaying chiral structures.</a></li>
	    <li>Automatic generation of atom coordinates for 0D molecules.</li>
	    </ul>
	</li>
	</ul>
	</li>
    <li>API:
	<ul>
	<li>New methods and functions:
	    <ul>
	    <li><a NAME="v3500linknodeAPI"><a href="beans/api/chemaxon/struc/MolAtom.html">MolAtom</a></a>
		methods related to link nodes:
		<a href="beans/api/chemaxon/struc/MolAtom.html#getMaxRepetitions()">getMaxRepetitions()</a>,
		<a href="beans/api/chemaxon/struc/MolAtom.html#setMaxRepetitions(int)">setMaxRepetitions(int)</a>,
		<a href="beans/api/chemaxon/struc/MolAtom.html#getMinRepetitions()">getMinRepetitions()</a>,
		<a href="beans/api/chemaxon/struc/MolAtom.html#setMinRepetitions(int)">setMinRepetitions(int)</a>,
		<a href="beans/api/chemaxon/struc/MolAtom.html#isLinkNode()">isLinkNode()</a>.
		</li>
	    <li><a NAME="v3500api.rxnarrow"><a href="beans/api/chemaxon/struc/RxnMolecule.html">RxnMolecule</a></a>
		methods for accessing reaction arrow type:
		<a href="beans/api/chemaxon/struc/RxnMolecule.html#getReactionArrowType()">getReactionArrowType()</a>,
		<a href="beans/api/chemaxon/struc/RxnMolecule.html#getReactionArrowTypeName()">getReactionArrowTypeName()</a>,
		<a href="beans/api/chemaxon/struc/RxnMolecule.html#setReactionArrowType(int)">setReactionArrowType(int)</a>,
		<a href="beans/api/chemaxon/struc/RxnMolecule.html#setReactionArrowType(java.lang.String)">setReactionArrowType(String)</a>.
		</li>
	    <li>MSketch,
		<a href="applets/api/JMSketch.html">JMSketch</a>,
		MView and
		<a href="applets/api/JMView.html">JMView</a> applet methods
		<ul>
		<li>for accessing molecule properties:
		<a href="applets/api/JMSketch.html#getMolProperty(java.lang.String)">getMolProperty(String)</a>,
		<a href="applets/api/JMSketch.html#setMolProperty(java.lang.String, java.lang.String)">setMolProperty(String, String)</a>,
		<a href="applets/api/JMSketch.html#getMolPropertyCount()">getMolPropertyCount()</a>,
		<a href="applets/api/JMSketch.html#getMolPropertyKey(int)">getMolPropertyKey(int)</a>,
		<a href="applets/api/JMView.html#getMProperty(int, java.lang.String)">getMProperty(int, String)</a>,
		<a href="applets/api/JMView.html#setMProperty(int, java.lang.String, java.lang.String)">setMProperty(int, String, String)</a>,
		<a href="applets/api/JMView.html#getMPropertyCount(int)">getMPropertyCount(int)</a>,
		<a href="applets/api/JMView.html#getMPropertyKey(int, int)">getMPropertyKey(int, int)</a>,
		</li>
		<li>for accessing extra atom label and alias strings:
		<a href="applets/api/JMSketch.html#setAtomAlias(int, java.lang.String)">setAtomAlias(int, String)</a>,
		<a href="applets/api/JMSketch.html#getAtomAlias(int)">getAtomAlias(int)</a>,
		<a href="applets/api/JMSketch.html#setAtomExtraLabel(int, java.lang.String)">setAtomExtraLabel()</a>,
		<a href="applets/api/JMSketch.html#getAtomExtraLabel(int)">getAtomExtraLabel(int)</a>,
		<a href="applets/api/JMView.html#setAtomAlias(int, int, java.lang.String)">setAtomAlias(int, int, String)</a>,
		<a href="applets/api/JMView.html#getAtomAlias(int, int)">getAtomAlias(int, int)</a>,
		<a href="applets/api/JMView.html#setAtomExtraLabel(int, int, java.lang.String)">setAtomExtraLabel(int, int, String)</a>,
		<a href="applets/api/JMView.html#getAtomExtraLabel(int, int)">getAtomExtraLabel(int, int)</a>.
		</li>
		</ul>
		</li>
	    <li>Added JavaScript functions in <code>marvin.js</code> to get JVM
		and GUI ("awt" or "swing"):
		<code>marvin_get_jvm()</code> and <code>marvin_get_gui()</code>.
		</li>
	    </ul>
	    </li>
	<li>Changes:
	    <ul>
	    <li>Valence is not a query property any more, use
		<a href="beans/api/chemaxon/struc/MolAtom.html">MolAtom</a>.<a href="beans/api/chemaxon/struc/MolAtom.html#setValenceProp(int)">setValenceProp</a>(v)
		and
		<a href="beans/api/chemaxon/struc/MolAtom.html#getValenceProp()">getValenceProp</a>()
		instead of
		<a href="beans/api/chemaxon/struc/MolAtom.html#setQProp(java.lang.String, int)">setQProp</a>("v", v)
		and
		<a href="beans/api/chemaxon/struc/MolAtom.html#getQPropAsInt(java.lang.String)">getQPropAsInt</a>("v").
		</li>
	    <li>The simpView applet parameter and MSketchPane.setSimpView(int)
		are deprecated, the simpView = 2 setting is removed. Use
		<a HREF="sketchman.html#parameters.bondDraggedAlong">bondDraggedAlong</a>
		and
		<a HREF="beans/api/chemaxon/marvin/beans/MSketchPane.html">MSketchPane</a>.<a HREF="beans/api/chemaxon/marvin/beans/MSketchPane.html#setBondDraggedAlong(boolean)">setBondDraggedAlong(boolean)</a> instead.
		</li>
	    <li>Serialization:
		<a HREF="beans/api/chemaxon/struc/DPoint3.html">DPoint3</a> and
		<a HREF="beans/api/chemaxon/struc/CTransform3D.html">CTransform3D</a>
		became Externalizable.</li>
	    </ul>
	    </li>
	</ul>
	</li>
    </ul>

<h3><a class="anchor" name="v3403">August 16, 2004: Marvin 3.4.3</a></h3>
    <ul>
    <li>New applet parameter: <a href="viewman.html#molChanged0">molChanged0</a>
     to evaluate a JavaScript code when the molecule is loaded.</li>
    <li>Bugfixes: NullPointerException in shapely color mode,
    deadlock in MarvinSketch applet.</li>
    </ul>
<h3><a class="anchor" name="v3402">August 5, 2004: Marvin 3.4.2</a></h3>
    <ul>
    <li>Bugfixes: memory leak and deadlock in sketcher bean.</li>
    </ul>
<h3><a class="anchor" name="v3401">July 29, 2004: Marvin 3.4.1</a></h3>
    <ul>
    <li>Reaction <a href='beans/api/chemaxon/marvin/modules/AutoMapper.html'>AutoMapper</a> class API is available.</li>
    <li><a href="plugins.html#examples">Calculator Plugin API usage examples</a>
	in class headers.</li>
    <li>Atom symbol/label font can be changed using the
	<a HREF="viewman.html#parameters.atomFont">atomFont</a>
	applet parameter.</li>
    </ul>

<h3><a class="anchor" name="v3400">July 1, 2004: Marvin 3.4</a></h3>
    <ul>
    <li>Import/Export
	<ul>
	<li>New formats:
	    <a HREF="../formats/cxsmiles-doc.html">ChemAxon Extended SMILES
	    and SMARTS</a>,
	    <a HREF="../formats/cube-doc.html">Gaussian Cube</a>.
	    </li>
	<li>Full support of <a HREF="../formats/smiles-doc.html">SMARTS</a>.
	    Added features:
	    <ul>
	        <li>Recursive SMARTS $()</li>
	        <li>Logical expressions in atom and bond: high and low priority "and"(& and ;), "or" (,) and "not" (!).</li>
	        <li>Degree atom query property (D)</li>
	        <li>Implicit hydrogens atom query property (h)</li>
	        <li>Chiral or unspecified atoms @?, @@?</li>
	        <li>Ring bond query property (@)</li>
	        <li>Conditional directional bonds: /?,\?</li>
	    </ul></li>
	<li><a HREF="../formats/cml-doc.html">CML</a> and
	    <a HREF="../formats/mrv-doc.html">Marvin Document Format</a> fix:
	    atom aliases and query strings are imported and exported.</li>
	<li><a HREF="../formats/mol-csmol-doc.html">MDL Molfiles</a>:
	    S-group parent list (M  SPL in V2, PARENT in V3) and expansion
	    information (M  SDS EXP in V2, ESTATE in V3) are stored.</li>
	<li>Incompatible API change in the
	    <a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html">MolImportIface</a>
	    interface: molecule import modules must implement the
	    <a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html#createMol()">createMol()</a>
	    method.</li>
	<li><a HREF="beans/api/chemaxon/formats/MolConverter.html">MolConverter</a>
	    and
	    <a HREF="beans/api/chemaxon/formats/MolExporter.html">MolExporter</a>
	    fix: created text files are in the local text format (instead of
	    unix) if the useSysEOL boolean argument is <code>true</code>.
	    The molconvert program writes OS dependent end of lines always.</li>
	</ul>
	</li>
    <li>S-groups
	<ul>
	<li>Embedded S-group support (in MDL Molfiles and Marvin Document
	    Format).</li>
	<li>API changes in
	    <a HREF="beans/api/chemaxon/struc/Sgroup.html">Sgroup</a>,
	    <a HREF="beans/api/chemaxon/struc/sgroup/SuperatomSgroup.html">SuperatomSgroup</a>,
	    and
	    <a HREF="beans/api/chemaxon/struc/sgroup/MultipleSgroup.html">MultipleSgroup</a>:
	    the copy and the newInstance methods are replaced by copy
	    constructors and cloneSgroup.</li>
	</ul>
	</li>
    <li>Other
	<ul>
	<li>Line thickness can be set for wireframe mode using the
	    <a HREF="viewman.html#3d.wireThickness">wireThickness</a> applet
	    parameter and the
	    MarvinPane.<a HREF="beans/api/chemaxon/marvin/beans/MarvinPane.html#setWireThickness(double)">setWireThickness</a>
	    bean method.</li>
	<li>Line thickness for graphics line, polyline, rectangle and text box
	    objects can be set using
	    MPolyline.<a HREF="beans/api/chemaxon/struc/graphics/MPolyline.html#setThickness(double)">setThickness</a>.
	    </li>
	</ul>
	</li>
    </ul>

<h3><a class="anchor" name="v3303">March 9, 2004: Marvin 3.3.3</a></h3>
    <ul>
    <li>MDL Molfile import: S-groups are contracted by default.
	Importing in expanded form; use the
	<a HREF="../formats/mol-csmol-doc.html#ioption_Xsg">Xsg</a>
	option.</li>
    <li>Abbreviated groups: Abbreviations are given a priority over the element symbols.
    New abbreviations in the default abbeviated group list.</li>
	<li>Improved p<i>K</i><sub>a</sub>, log<i>P</i>, log<i>D</i> calculation.</li>
    <li>New methods in MolPrinter:
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#getChiralitySupport()">getChiralitySupport()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#getExplicitH()">getExplicitH()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#isAtomSymbolsVisible()">isAtomSymbolsVisible()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#isEzVisible()">isEzVisible()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#setAtomSymbolsVisible(boolean)">setAtomSymbolsVisible()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#setChiralitySupport(int)">setChiralitySupport()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#setExplicitH(boolean)">setExplicitH()</a>,
        <a href="beans/api/chemaxon/marvin/MolPrinter.html#setEzVisible(boolean)">setEzVisible()</a>.</li>
    <li>Marvin Applets: <a href="index.html#noliveconnect">Workaround for browsers without
        Java - JavaScript communication</a>.</li>
    <li>Mac friendly shortcuts for Cut, Copy and Paste.</li>
    <li>Bugfixes:</li>
        <ul>
        <li>In MolConverter</li>
        <li>In the opening of the edit source window.</li>
        </ul>
    </ul>

<h3><a class="anchor" name="v3302">February 4, 2004: Marvin 3.3.2</a></h3>
    <ul>
    <li>Bugfixes: in SMILES import.</li>
    </ul>

<h3><a class="anchor" name="v3301">January 29, 2004: Marvin 3.3.1</a></h3>
    <ul>
	    <li>Mac OS X: MarvinSketch and MarvinView applications use the
		screen menu bar.</li>
	    <li>Bugfix in the drawing of R-group attachment points.</li>
    </ul>

<h3><a class="anchor" name="v3300">January 14, 2004: Marvin 3.3</a></h3>
    <ul>
    <li>Atom and bond sets
	<ul>
	<li>Colorable <b>bond sets</b> are introduced, see the
	    <a HREF="viewman.html#parameters.bondSet">bondSet</a> and
	    <a HREF="viewman.html#parameters.bondSetColor">bondSetColor</a>
	    applet parameters, the
	    MView.setBondSetColor()
	    applet method and the <code>MarvinPane.setBondSetColor()</code> bean
	    method.</li>
	<li>Atom and bond set coloring can be used together with other color
	    schemes. Atoms and bonds in set 0 are displayed in Monochrome,
	    CPK, Shapely or Group color scheme, but other sets are displayed
	    with atom/bond set colors if the value of the
	    <a HREF="viewman.html#parameters.setColoringEnabled">setColoringEnabled</a>
	    applet parameter is <code>true</code> (default).
	    </li>
	<li>Deprecation:
	    <ul>
	    <li>Use the
		<a HREF="viewman.html#parameters.atomSet">atomSet</a>
		applet parameter instead of set,
		<a HREF="viewman.html#parameters.atomSetColor">atomSetColor</a>
		instead of setColor and the
		MView.setAtomSetColor()
		and <code>MarvinPane.setBondSetColor()</code> methods instead of
		setSetColor.</li>
	    <li>Use
		<a HREF="viewman.html#parameters.colorScheme">colorScheme</a>="mono"
		and
		<a HREF="viewman.html#parameters.setColoringEnabled">setColoringEnabled</a>=<code>true</code>
		settings instead of the deprecated
		"atomset" color scheme.
	    </ul>
	    </li>
	</ul>
	</li>
    <li>Import/export:
	<ul>
	<li><a HREF="../formats/mrv-doc.html">Marvin Document</a> file format</li>
	<li>Multiple Sgroup support for
	    <a HREF="../formats/mol-csmol-doc.html">MDL molfiles</a></li>
	<li>New <a HREF="../formats/images-doc.html">image export</a>
	    option to switch off antialiasing: <code>noantialias</code>.
	    </li>
	<li><a HREF="../formats/cml-doc.html">CML</a> improvements:
	    support of CML2 atom/bond attributes (instead of the deprecated
	    builtins), reactions, stereochemistry, residues.
	    Because of efficiency reasons, deprecated CML-1 data types are
	    not supported any more.</li>
	<li><a HREF="../formats/base64-doc.html">Base64</a> encoding/decoding.</li>
	<li>Import options for input files are specified in braces instead of
	    parentheses (&quot;file{options}&quot;) to avoid conflicts with
	    ugly SMILES strings ending with a branch specification.
	    For backward compatibility, parentheses still work after
	    filenames (but not after SMILES strings).</li>
	</ul>
	</li>
    <li>3D:
	<ul>
	<li>Analitic gradients implemented in Dreiding forcefield for optimization and Clean 3D</li>
	</ul>
	</li>
    <li>Document editing with graphics objects in sketcher
	<ul>
	<li>The <a HREF="beans/api/chemaxon/struc/MDocument.html">MDocument</a>
	    class stores the molecule and other graphics objects like
	    polylines and rectangles. The document can be saved in
	    <a HREF="../formats/mrv-doc.html">Marvin Document</a> format.</li>
	</ul>
	</li>
	<li>Calculator plugins
    <ul>
	<li>Support electrolite concentration is taken into account in log<i>P</i> and log<i>D</i> calculations.
	</li>
	</ul>
    <ul>
	<li>Concentration of K, Na and Cl ions can be adjusted in the range of 0 - 0.25 mol/l.</li>
	</ul>
    <ul>
	<li>log<i>P</i> calculation of zwitterionic compounds also have been improved with considering distance correction
	factors.
	</li>
	</ul>
	<ul>
	<li>p<i>K</i><SUB>a</SUB> calculation have been extended to carbon-bases. Now basic p<i>K</i><SUB>a</SUB> estimation of Indole derivatives available.
	Both acidic and basic p<i>K</i><SUB>a</SUB> values are displayed.
	Microspecies distribution is shown on chart.
	</li>
	</ul>
	<ul>
	<li>Accuracy of p<i>K</i><SUB>a</SUB> calculations is improved for heterocyclic compounds.
	</li>
	<li>
	Calculation of polar surface area (PSA) based on 2D topological (TPSA) information of molecules are available.
	</li>
	</ul>

	</li>

    <li>Others:
	<ul>
	<li>Recognition of more than four hundred chemical abbreviations.</li>
	<li>Help documents can be specified by applet parameters:
	    <a HREF="sketchman.html#parameters.sketchHelp">sketchHelp</a>,
	    <a HREF="sketchman.html#parameters.sketchQuickHelp">sketchQuickHelp</a>,
	    <a HREF="viewman.html#parameters.viewHelp">viewHelp</a>,
	    <a HREF="viewman.html#parameters.viewQuickHelp">viewQuickHelp</a>.
	    </li>
	<li><a href="beans/api/chemaxon/struc/Molecule.html#draw(java.awt.Graphics,%20java.lang.String)">Molecule.draw</a>
	paints the molecule to a graphics context.</li>
<!-- ez nem idevalo	<li>New menu item in <em>View/Misc</em> menu to set the visibility of atom chirality (<em>R/S</em>) labels. -->
	<li>Standard residue names returned by
	    <a href="beans/api/chemaxon/struc/MolAtom.html#residueSymbolOf(int)">MolAtom.residueSymbolOf(int)</a>
	    are not all upper case, only the first letter (&quot;Ala&quot;
	    instead of &quot;ALA&quot;).</li>
	<li>Marvin GUI: Set the visibility of the atom chirality (<em>R</em>/<em>S</em>) labels from
		<em>View/Misc</em> menu.
	<li>Double click in Windows operating systems opens chemical files with
		the MarvinView application.</li>
	<li>Deprecation: SketchMolecule (replaced by MDocument),
	    SuperAtom.updateSgroupCrossings() (replaced by
	    Sgroup.findCrossingBonds())</li>
	<li>Incompatible change: chemaxon.struc.sgroup.Contractable
	    interface removed,
	    <a href="beans/api/chemaxon/struc/sgroup/Expandable.html">Expandable</a>
	    changed. This change was required because MDL's incomplete
	    multiple group expansion had to be simulated for proper
	    molfile export.</li>
	</ul>
	</li>
    <li>Bugfixes: in MViewPanel.setParams, in Dreiding forcefield, PDB import,
    atom lists in V3 molfiles, resize of MViewPanel and MSketchPanel,
    R-logic, etc.</li>
    </ul>

<h3><a class="anchor" name="v3200">July 28, 2003: Marvin 3.2</a></h3>
    <ul>
	<li>Enhanced
	<a HREF="../sci/stereo-doc.html">stereochemical representation</a>
	 support in
	<a HREF="../formats/mol-csmol-doc.html#molV3">extended molfiles</a>.
	</li>
	<li>Improved <em>Charge</em> and <em>pKa</em> calculation.</li>
	<li>Bugfixes:
		<ul>
		<li>In SMILES <em>q</em> option.</li>
		<li>In flip.</li>
		</ul></li>
	</ul>

<h3><a class="anchor" name="v3104">June 30, 2003: Marvin 3.1.4</a></h3>
    <ul>
    <li>RDfiles containing internal and external regnos: the first molecule
	or reaction type property is supposed to be the main structure.</li>
    <li>API changes
	<ul>
	<li>Removed the broken RxnMolecule.moveReactionArrow method.</li>
	</ul>
	</li>
	<li>Calculator plugins:
		<ul>
		<li>logP: New atom types.</li>
		<li>pKa:
			<ul>
			<li>Hydrogen bound defined between aromatic carboxyl and phenolic
				hidroxyl groups in pKa plugin.</li>
			<li>Calculation of the sulphonamid acid molecules were improved.</li>
			<li>In calculation of third order amins strain is considered.</li>
			</ul>
		</ul>
    </ul>

<h3><a class="anchor" name="v3103">June 2, 2003: Marvin 3.1.3</a></h3>
    <ul>
    <li>Molecule file formats:
	<ul>
	<li><a HREF="../formats/mol-csmol-doc.html#rxnV3">Extended reaction
	    files</a>: AGENTS are imported and exported (in a
	    non-standard way, because MDL's standard format does not support
	    them).</li>
	<li><a HREF="../formats/smiles-doc.html">SMILES</a> import:
	    error checking improved.</li>
	<li><a HREF="../formats/pdb-doc.html">PDB</a> import/export:
	    bonds of standard residues are not exported and
	    not guessed from coordinates at import. Full atom names (including
	    remoteness indicator and branch designator) are imported and
	    exported.</li>
	</ul>
	</li>
    <li>2D and 3D:
	<ul>
	<li>Background color, rendering style and navigation mode are stored
	    separately for 2D and 3D. Cleaning a molecule in 3D also switches
	    automatically to the 3D parameter set in that cell. Cleaning in 2D
	    switches back to the 2D parameters.</li>
	<li><a HREF="viewman.html#parameters.clean2dOpts">clean2dOpts</a> and
	    <a HREF="viewman.html#parameters.clean3dOpts">clean3dOpts</a>
	    parameters.</li>
	</ul>
	</li>
    </ul>

<h3><a class="anchor" name="v3102">May 6, 2003: Marvin 3.1.2</a></h3>
    <ul>
    <li>MDL import/export improvements:
	<ul>
	<li><a HREF="../formats/mol-csmol-doc.html#rxnV3">Extended reaction file</a>
	    import/export (&quot;rxn:V3&quot;).</li>
	<li>Rgroups are supported in
	    <a HREF="../formats/mol-csmol-doc.html#molV3">extended molfile</a>
	    import/export.</li>
	<li>RDfiles: Molecule and reaction type properties ($MFMT and
	    $RFMT) are also imported and exported. Use the
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#getPropertyObject(java.lang.String)">Molecule.getPropertyObject</a>
	    function to get such properties.</li>
	</ul>
	</li>
    <li>S-groups: automatic contraction after import in sketcher and viewer.
	</li>
    <li>API changes:
	<ul>
	<li><a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#calcCenter()">MoleculeGraph.calcCenter</a>
	    returns the geometrical center instead of the center of mass.</li>
	</ul>
	</li>
    <li>Bugfixes: R-logic bug.</li>
    </ul>

<h3><a class="anchor" name="v3101">April 30, 2003: Marvin 3.1.1</a></h3>
    <ul>
	<li>JRE bug workaround (inappropriate lines were drawn on the Marvin panel).</li>
	</ul>

<h3><a class="anchor" name="v3100">April 29, 2003: Marvin 3.1</a></h3>
    <ul>
    <li>Applets
	<ul>
	<li>Java 1.0 compatibility is no longer maintained.
	    The minimum Java VM version required to run the applets is 1.1
	    <small>(Netscape 4.06, MSIE 4 or later version)</small>.
	    </li>
	<li>The Swing version of the unsigned applets are no longer
	    available. Use the signed applets instead. To unsign signed
	    jar files, see the <a href="applets/appletfaq.html#unsign_jar">FAQ</a>.</li>
	<li>The deprecated installer for Marvin Applets is no longer maintained.
	    The set of downloadable Marvin Applets packages has been reduced.
	    </li>
	</ul>
	</li>
    <li>Plugins:
	<ul>
	    <li>New plugin: Atom polarizability</li>
	    <li>Chart display in log<i>D</i> plugin</li>
	</ul></li>
    <li>Molecule import/export improvements:
	<ul>
	<li><a HREF="../formats/smiles-doc.html">SMILES:</a>
	    <ul>
	    <li><a HREF="../formats/smiles-doc.html#ioption_f">Data fields
		can be imported from multi-column files.</a></li>
	    <li>Better error checking at import: exception is thrown if a ring
		is formed from two neighboring atoms.</li>
	    </ul>
	    </li>
	<li><a NAME="v3100pdb" HREF="../formats/pdb-doc.html">PDB:</a>
	    residues are imported as Sgroups,
	    Sgroups are exported as residues.</li>
	<li><a HREF="../formats/mol-csmol-doc.html">Molfiles:</a>
	    <ul>
	    <li>Sgroups are also imported as (PDB) residues. As a consequence,
		the PDB-specific coloring styles, &quot;shapely&quot;
		and &quot;group&quot;, are also applicable to molfiles
		containing Sgroups.</li>
	    <li><a HREF="../formats/mol-csmol-doc.html#molV3">Extended (V3) molfile
		export.</a></li>
	    <li>Changes in V2 format:
		<ul>
		<li>3D molecule coordinates are stored in
		    Angstrom units. The unit can be specified as an
		    <a HREF="../formats/mol-csmol-doc.html#ioptions">import
		    option</a>.
		    </li>
		<li>Illegal atom map values (from molfiles generated by the
		    IDBS ChemXtra data cartridge) are not considered to be
		    error at import.</li>
		</ul>
		</li>
	    </ul>
	    </li>
	</ul>
	</li>
    <li>API changes
	<ul>
	<li>New RgMolecule method:
	    <a HREF="beans/api/chemaxon/struc/RgMolecule.html#addRgroupsTo(chemaxon.struc.Molecule)">RgMolecule.addRgroupsTo</a>.
	    </li>
	<li>New flag
	    <a HREF="beans/api/chemaxon/struc/RxnMolecule.html#RGROUPED">RxnMolecule.RGROUPED</a>
	    for the
	    <a HREF="beans/api/chemaxon/struc/RxnMolecule.html#getStructure(int, int)">getStructure(flags, f)</a>
	    method.</li>
	<li>New methods related to explicit Hydrogen removal:
	    MoleculeGraph.<a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#calcDehydrogenizedGrinv(int[])">calcDehydrogenizedGrinv</a>,
	    <a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#implicitizeHydrogens(int)">implicitizeHydrogens</a>,
	    MolAtom.<a HREF="beans/api/chemaxon/struc/MolAtom.html#isImplicitizableH(int)">isImplicitizableH</a>.
	    </li>
	<li>The protected removeNode(..., boolean changeNodes) and
	    removeEdge(..., boolean changeNodes) methods in CGraph,
	    MoleculeGraph, Molecule, etc. are replaced by
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#removeNode(int, int)">removeNode(int i, int cleanupFlags)</a>,
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#removeNode(chemaxon.struc.CNode, int)">removeNode(CNode node, int cleanupFlags)</a>,
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#removeEdge(int, int)">removeEdge(int i, int cleanupFlags)</a>,
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#removeEdge(chemaxon.struc.CEdge, int)">removeEdge(CEdge edge, int cleanupFlags)</a>.
	    </li>
	<li>Removed the malfunctioning RxnMolecule(parent) and
	    RgMolecule(parent) constructors.</li>
	</ul>
	</li>
    </ul>

<h3><a class="anchor" name="v3002">March 21, 2003: Marvin 3.0.2</a></h3>
    <ul>
    <li><a class="text" NAME="v3002bugfixes">Bugfixes:</a>
	contracted S-groups are automatically expanded before exporting in
	molecule file formats (PDB, SMILES, XYZ, ...)
	</li>
    </ul>

<h3><a class="anchor" name="v3001">March 17, 2003: Marvin 3.0.1</a></h3>
    <ul>
    <li><a NAME="v3001rgrxn" HREF="../formats/mol-csmol-doc.html">RGfile</a>
	import/export:
	root structure can be a reaction.<br>
	<small>Note that mixing RGfiles and Rxnfiles is not possible in
	a standard way so these files can only be imported by Marvin.</small>
	</li>
    <li><a NAME="v3001pdb" HREF="../formats/pdb-doc.html">PDB</a> import:
	HETATM records are recognized.</li>
    <li><a class="text" NAME="v3001bugfixes">Bugfixes:</a>
	Invisible atom symbols at image export in
	<a href="beans/api/chemaxon/struc/Molecule.html#toObject(java.lang.String)">
	Molecule.toObject(String)</a>, Sgroup export in MDL formats,
	Sgroup-related NullPointerException in viewer.
	</li>
    </ul>

<h3><a class="anchor" name="v3000">February 10, 2003: Marvin 3.0</a></h3>
    <ul>
    <li>3D cleaning.</li>
    <li>New applet paremeters and bean properties
	<ul>
	<li><a href="viewman.html#parameters.detachable">detachable</a>
	    paremeter in the viewer.</li>
	<li><a href="sketchman.html#parameters.atomSymbolsVisible">
	    atomSymbolsVisible</a> parameter instead of <code>labels</code>
	    which became deprecated.</li>
	</ul>
	</li>
    <li>API improvements and simplifications:
	<ul>
	<li>chemaxon.struc:
	    <ul>
	    <li><a NAME="v3000unsync"
		   HREF="beans/api/chemaxon/struc/CGraph.html">CGraph</a> and
		<a HREF="beans/api/chemaxon/struc/Molecule.html">Molecule</a>
		are not thread safe any more but their methods became 20-30%
		faster.</li>
	    <li>Created the
		<a HREF="beans/api/chemaxon/struc/SelectionMolecule.html">SelectionMolecule</a>
		class for molecule selections, removed the CGraph.selection field.
		</li>
	    <li>Created the
		<a HREF="beans/api/chemaxon/struc/MoleculeGraph.html">MoleculeGraph</a>
		class as the direct ancestor of SelectionMolecule and Molecule.
		</li>
	    <li><a class="text" NAME="v3000rg_and_rxn">RgMolecule and RxnMolecule</a>
		changes:
		<ul>
		<li>Nodes and edges are only stored in subgraphs (root structure,
		    R-groups, product/reactant/agent structures).</li>
		<li>The graph union is returned by the
		    <a HREF="beans/api/chemaxon/struc/MoleculeGraph.html#getGraphUnion()">MoleculeGraph.getGraphUnion()</a>
		    method.
		    </li>
		<li>Methods like getNodeCount(), getEdgeCount(), getNode(i),
		    getEdge(i) call the root structure's corresponding
		    method in RgMolecule or the graph union's method in
		    RxnMolecule.</li>
		</ul>
		</li>
	    <li>CGraph.findFrags() and CGraph.findFrags(boolean) are replaced by
		CGraph.<a HREF="beans/api/chemaxon/struc/CGraph.html#findFrags(java.lang.Class)">findFrags(Class)</a>
		and
		Molecule.<a HREF="beans/api/chemaxon/struc/Molecule.html#findFrags()">findFrags()</a>
		</li>
	    <li>CGraph.cloneNodes() and cloneEdges() renamed to
		<a HREF="beans/api/chemaxon/struc/CGraph.html#getNodeVector()">getNodeVector</a>,
		<a HREF="beans/api/chemaxon/struc/CGraph.html#getEdgeVector()">getEdgeVector</a>.
		</li>
	    <li>CGraph.reallyContains(CEdge) and countRealEdges() removed.</li>
	    <li><a HREF="beans/api/chemaxon/struc/CGraph.html#getSSSR()">CGraph.getSSSR()</a>
		returns an int[][] array instead of CEdge[][]</li>
	    <li>The MolAtom.flags, MolAtom.countFlags and MolBond.flags fields
		became private.</li>
	    </ul>
	    </li>
	<li>Molecule import/export:
	    <ul>
	    <li><a HREF="beans/api/chemaxon/marvin/io/MolExportModule.html">MolExportModule</a>.<a HREF="beans/api/chemaxon/marvin/io/MolExportModule.html#convert(chemaxon.struc.Molecule)">convert(Molecule)</a>
		and
		<a HREF="beans/api/chemaxon/marvin/io/MolExportModule.html#close()">close()</a>
		throw
		<a HREF="beans/api/chemaxon/marvin/io/MolExportException.html">MolExportException</a>
		instead of IOException.</li>
	    <li><a HREF="beans/api/chemaxon/formats/MolImporter.html">MolImporter</a>.<a HREF="beans/api/chemaxon/formats/MolImporter.html#read()">read()</a>
		and <a HREF="beans/api/chemaxon/formats/MolImporter.html#importMol(byte[])">importMol(byte[])</a>
		returns RgMolecule object only if R-groups are present.</li>
	    </ul>
	    </li>
	<li>Initialization file saving:
	    <ul>
	    <li>MarvinSketch and MarvinView has a common initialization file
		in the $HOME/.chemaxon subdirectory.</li>
	    <li>MarvinPane.saveIni(), loadIni(), getIniFile() and setIniFile()
		are removed and replaced by
		<a HREF="beans/api/chemaxon/marvin/common/UserSettings.html">UserSettings</a>.<a HREF="beans/api/chemaxon/marvin/common/UserSettings.html#save(java.lang.String)">save(String)</a>,
		<a HREF="beans/api/chemaxon/marvin/common/UserSettings.html">UserSettings</a>.<a HREF="beans/api/chemaxon/marvin/common/UserSettings.html#tryToLoad()">tryToLoad()</a>,
		and
		<a HREF="beans/api/chemaxon/util/DotfileUtil.html">DotfileUtil</a>.<a HREF="beans/api/chemaxon/util/DotfileUtil.html#setDotDirName(java.lang.String)">setDotDirName(String)</a>.
		</li>
	    </ul>
	    </li>
	<li>Other bean related changes
	    <ul>
	    <li>Buttons and checkboxes in molecule <a href="viewman.html#advanced.cell">cells</a> can fire
		<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/awt/event/ActionEvent.html">ActionEvent</a>s and
		<a href="http://java.sun.com/j2se/1.4.1/docs/api/java/awt/event/ItemEvent.html">ItemEvent</a>s as
		<a href="http://java.sun.com/j2se/1.4.1/docs/api/javax/swing/AbstractButton.html">AbstractButton</a>
		objects.
	    <li><a href="beans/api/chemaxon/marvin/beans/MViewPane.html#getCanvasComponent(int)">MViewPane.getCanvasComponent</a> is deprecated. Use
		<a href="beans/api/chemaxon/marvin/beans/MViewPane.html#getVisibleCellComponent(int)">MViewPane.getVisibleCellComponent</a>.
		</li>
	    </ul>
	    </li>
	</ul>
	</li>
    <li>Template button title is specified using the <em>abbreviation</em>
	SDF property instead of <em>title</em>.</li>
    <li>Bugfix: in Rxnfile import</li>
    </ul>

<h3><a class="anchor" name="v2105">September 13, 2002: Marvin 2.10.5</a></h3>
    <ul>
	<li><a href="sketchman.html#parameters.atomMappingVisible">atomMappingVisible</a>
	is a new applet/bean parameter and property.</li>
	<li>Bugfixes:
	    <em>Copy</em> and <em>Copy as smiles</em> bugs under Mac.
	    Hotkey bug in swing version of Marvin applets at Java 1.4.</li>
    </ul>

<h3><a class="anchor" name="v2104">August 12, 2002: Marvin 2.10.4</a></h3>
    <ul>
	<li><a href="sketchman.html#skin">skin</a> applet/bean parameter and new menu option (only in SWING).</li>
	<li>Improved SD file import (DTn fields).</li>
        <li>Bugfix:
	    NoSuchMethodError at drawing R-group definition in AWT mode (if Java version is earlier
		than 1.2).</li>
    </ul>

<h3><a class="anchor" name="v2103">August 2, 2002: Marvin 2.10.3</a></h3>
    <ul>
	<li><a href="sketchman.html#parameters.grinvVisible">grinv</a> is a
	new applet/bean parameter and property.
	<li>Bugfix: in SDfile import.</li>
    </ul>

<h3><a class="anchor" name="v2102">July 26, 2002: Marvin 2.10.2</a></h3>
    <ul>
	<li>Bugfixes:
	    <ul>
		<li>Improved printing layout of MView tables.</li>
		<li>Improvements in Copy / Paste of reactions.</li>
		<li>Fixed calculation of molecule bounds.</li>
	    </ul></li>
    </ul>

<h3><a class="anchor" name="v2101">July 19, 2002: Marvin 2.10.1</a></h3>
    <ul>
	<li>Molweight calculation.</li>
	<li>Handling agents of reactions.</li>
	<li>Bugfix:
	    <code>MolConvert.convert()</code> cleans imported SMILES.
	    </li>
    </ul>

<h3><a class="anchor" name="v2913">July 5, 2002: Marvin 2.10 (2.9.13)</a></h3>
    <ul>
	<li><a href="applets/signing.html">Signed</a> Marvin applets</li>
	    <ul>
		<li>Open, save, cut and paste can be used with signed
		    applets. <a href="index.html#examples">Examples</a>
		    can be launched by selecting "<em>Signed applets</em>".
		    </li>
	    </ul>
	<li>Marvin applications with
	    <a href="../../examples/webstart/example-jws-intro.html">Java Web Start</a>
	    <ul>
		<li><a href="index.html#javawebstart">Examples</a> for using
		    the MarvinSketch and the MarvinView applications via
		    Internet.
		    </li>
	    </ul>
    <li>New applet/bean parameters</li>
	<ul>
	<li>
	<a HREF="sketchman.html#parameters.valenceErrorVisible">valenceErrorVisible</a>
	applet/bean parameter and property in MarvinSketch. Its value can be also modified from
	menu: <strong>View</strong>/<strong>Misc</strong>/<strong>Valence&nbsp;Errors</strong>.</li>
	<li>
	<a HREF="sketchman.html#parameters.reactionErrorVisible">reactionErrorVisible</a>
	applet/bean parameter and propert in MarvinSketch. It can also be
	set from menu: <strong>View</strong>/<strong>Misc</strong>/<strong>Reaction&nbsp;Errors</strong>.</li>
	</ul>
    </ul>

<h3><a class="anchor" name="v2912">April 23, 2002: Marvin 2.9.12</a></h3>
    <ul>
    <li>Import/Export
	<ul>
	<li><a HREF="../formats/cml-doc.html">CML</a> import and better export.</li>
	<li>Atom map support for <a HREF="../formats/mol-csmol-doc.html">Rxnfiles</a>
	    and reaction <a HREF="../formats/smiles-doc.html">SMILES</a>.
	    </li>
	<li>Atom label font size and double bond width can be set for image
	    export using the <a HREF="../formats/images-doc.html#atsiz">atsiz</a> and
	    <a HREF="../formats/images-doc.html#bondw">bondw</a> options.</li>
	<li>If an error occurs while reading a multi-molecule file (an SDfile
	    for example), the remaining parts of the current molecule can be
	    skipped and the file pointer can be positioned to the next one.
	    <ul>
	    <li><a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html">MolImportIface</a>
		interface changed, the
		<a HREF="beans/api/chemaxon/marvin/io/MolImportIface.html#skipToNext()">skipToNext()</a>
		method introduced
		</li>
	    <li>MolImporter.skipToNext()</li>
	    </ul>
	    </li>
	</ul>
	</li>
    <li>Stereochemistry
	<ul>
	<li><a HREF="sketchman.html#parameters.chiralitySupport">chiralitySupport</a>
	    applet/bean parameter</li>
	<li><a HREF="sketchman.html#parameters.ezVisible">ezVisible</a>
	    applet/bean parameter</li>
	</ul>
	</li>
    <li>Other new applet/bean parameters and properties
	<ul>
	<li><a HREF="sketchman.html#propchanges">popupMenusEnabled</a>
	    bean property</li>
	<li><a HREF="sketchman.html#parameters.atomNumbersVisible">atomNumbersVisible</a>
	    applet/bean parameter</li>
	</ul>
	</li>
    <li>Other API changes
	<ul>
	<li>The <code>MolAtom.SELECTED</code> and <code>VALENCE_ERROR</code> constants are not public any
	    more, they are replaced by the
	    <a HREF="beans/api/chemaxon/struc/MolAtom.html#isSelected()">isSelected</a>,
	    <a HREF="beans/api/chemaxon/struc/MolAtom.html#setSelected(boolean)">setSelected</a>,
	    <a HREF="beans/api/chemaxon/struc/MolAtom.html#hasValenceError()">hasValenceError</a>
	    and
	    <a HREF="beans/api/chemaxon/struc/MolAtom.html#setValenceError(boolean)">setValenceError</a>
	    methods.
	    </li>
	<li>deprecated methods removed: <code>MolAtom.getAbbrev()</code> and <code>abbrevOf()</code>
	    replaced by <code>getSymbol()</code> and <code>symbolOf()</code></li>
	<li><code>CNode.copy(CNode)</code>, <code>MolAtom.copy(CNode)</code> does not copy the edges,
	    <code>CNode.clone()</code> became abstract, <code>MolAtom.clone()</code> does not clone the
	    edges.</li>
	</ul>
	</li>
    <li>Fixed: memory leak and printing problems with Java Plugin, atom lists
	in molfile, bugs during reaction drawing, MarvinView stdin
	reading, etc.</li>
    </ul>
<h3><a class="anchor" name="v2911">February 18, 2002: Marvin 2.9.11</a></h3>
    <ul>
    <li>SMARTS improvements: &quot;a&quot; (aromatic) and &quot;A&quot;
	(aliphatic) atom primitives recognized even outside of brackets,
	&quot;:&quot; (aromatic bond) symbol recognized at file format
	recognition.
    <li>New <a HREF="sketchman.html#parameters.importConv">importConv</a>
	option (c) to automatically clean up the molecule.</li>
    <li>Image export improvements
	<ul>
	<li><a HREF="../formats/images-doc.html#scale">scale</a> option</li>
	<li><a HREF="beans/api/chemaxon/struc/Molecule.html#getImageSize(java.lang.String)">getImageSize</a>
	    method</li>
	</ul>
	</li>
    <li><a HREF="sketchman.html#parameters.bondSpacing">bondWidth</a> applet
	parameter and setBondWidth bean method.</li>
    <li>API changes
	<ul>
	<li>Molecule.toFormat, toBinFormat, toObject, MolExportModule.open and
	    MolExportModule.parseOption throw IllegalArgumentException instead
	    of IOException if bad format string was specified</li>
	<li>&quot;mag&quot; property renamed to &quot;scale&quot;,
	    setMag, getMag, maxMag methods became deprecated (MSketchPane,
	    MSketch, JMSketch, MolPrinter) and replaced by setScale, getScale,
	    maxScale</li>
	</ul>
	</li>
    <li>Fixed: delayed printing, image export option parsing, cml:A, etc.</li>
    </ul>
<h3><a class="anchor" name="v2910">January 29, 2002: Marvin 2.9.10</a></h3>
    <ul>
    <li>Occassional NullPointerException in MolInputStream.canBeJTF() fixed.</li>
    </ul>
<h3>January 28, 2002: Marvin 2.9.9</h3>
    <ul>
    <li>Extra templates can be specified using the
	<a HREF="sketchman.html#parameters.xtmpls">xtmpls</a> parameter.</li>
    <li>New <a HREF="sketchman.html#parameters.importConv">importConv</a>
	option (H) to add/remove explicit Hydrogen atoms.</li>
    <li>Common aromatization and explicit Hydrogen addition/removal options for
	molecule export modules: a, +a, -a, H, +H, -H</li>
    <li>Incompatibilities:
	<ul>
	<li>In PdbExport, Hydrogens are added with the common &quot;H&quot; option
	instead of &quot;h&quot;.</li>
	<li>MolExportModule.getOptions() became protected</li>
	</ul>
	</li>
    </ul>

<h3>December 20, 2001: Marvin 2.9.8</h3>
    <ul>
    <li>Apache Batik 1.1.1 classes needed for SVG export are included with
	Marvin Beans and Applications</li>
    </ul>

<h3>December 19, 2001: Marvin 2.9.7</h3>
    <ul>
    <li>Image export:
	<ul>
	<li><a HREF="../formats/svg-doc.html">Scalable Vector Graphics</a> (svg) format.</li>
	<li><a NAME="v2907H" HREF="../formats/images-doc.html#H_off">Implicit
	    Hydrogen display options</a>
	    can be specified for the
	    <a HREF="../applications/molconvert.html">MolConverter</a> utility and the
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#toObject(java.lang.String)">toObject</a>
	    and
	    <a HREF="beans/api/chemaxon/struc/Molecule.html#toBinFormat(java.lang.String)">toBinFormat</a>
	    methods.</li>
	</ul>
	</li>
    <li>MViewPane.applyRotationMatrix, applyRotationMatrixes: methods to
	apply the viewing transformation on the atomic
	coordinates appearing in the molfile</li>
    </ul>

<h3>November 26, 2001: Marvin 2.9.6</h3>
    <ul>
    <li>No autoscale is the default in the sketcher.</li>
    </ul>

<h3>November 12, 2001: Marvin 2.9.3</h3>
    <ul>
    <li>MView applet: atom sets can be selected for different coloring, using
	the <a HREF="viewman.html#parameters.atomSet">set<em>N</em>.<em>M</em></a>
	parameters.</li>
	<li>MolPanel changes:
	<ul>
		<li>autoScale property was added, it can be accessed via
		<em>setAutoScale()</em> and <em>getAutoScale()</em> methods.
		</li>
	</ul>
	<li>SketchPanel improvements:
	<ul>
		<li>
		Autoscale is avaible both in AWT and Swing versions.</li>
		<li>
		depending on the autoScale property automatic scaling
		is done when loading molecules</li>
		<li>
		The <em>select all</em> function can be triggered by Ctrl+A. </li>
		<li> Bug fixes.
	</ul>
	</li>

    </ul>

<h3>October 13, 2001: Marvin 2.9.2</h3>
    <ul>
    <li>New applet and bean methods:
	<ul>
	<li><code>getTabScale(i)</code> to query the magnification in a cell</li>
	<li><code>getBestTabScale(i)</code> to query the best magnification value for a
	    cell</li>
	<li><code>getBestTabScale()</code> to query the smallest best scale value</li>
	</ul>
	</li>
    <li>MViewPane bean only:
	<ul>
	<li><a HREF="viewman.html#parameters.autoTabScale">autoTabScale</a>
	    property enables automatic uniform scaling of cells.</li>
	</ul>
	</li>
    </ul>

<h3>September 21, 2001: Marvin 2.9.1</h3>
    <ul>
    <li><a NAME="v2901mview">MarvinView improvements</a>
	<ul>
	<li>JavaScript code can be called at image click in the applet
	    using the &quot;js:<em>javascript</em>&quot; syntax.</li>
	<li>Use <a HREF="viewman.html#parameters.tabScale">tabScale</a> to set
	    the magnification in the molecule cells (instead of automatic
	    scaling), use
	    <a HREF="viewman.html#parameters.winScale">winScale</a> to set
	    the magnification in the zoom windows (same as the old <code>mag</code>
	    parameter).</li>
	<li>Many molecules in one cell. Molecules coming from multi-molecule
	    files are merged into one molecule object containing
	    <em>atom sets</em> if MULTISET is specified as the first import
	    option in the <a HREF="viewman.html#parameters.mol">mol</a>
	    parameter. To display only the specified sets, use the
	    <a HREF="viewman.html#parameters.showSets">showSets</a> applet
	    parameter, the
	    MView.setSetVisible()
	    applet method or the MarvinPane.setInvisibleSets bean method.</li>
	<li>Atom set colors can be changed using the
	    <a HREF="viewman.html#parameters.atomSetColor">setColor</a> applet
	    parameters, the
	    MView.setSetColor()
	    applet method or the <code>MarvinPane.setSetColor()</code> bean method.
	    </li>
	<li>&quot;<a HREF="shapely-scheme.html">Shapely</a>&quot; and
	    &quot;Group&quot; color schemes (for PDB input).</li>
	</ul>
	</li>
    <li>Class library changes
	<ul>
	<li>MULTISET can also be passed to the MolImporter constructor
	    through the option string</li>
	<li>The <code>newInstance()</code> method of CGraph, Molecule, etc.
	    became public.
	    </li>
	</ul>
    <li><a NAME="v2901pdb" HREF="../formats/pdb-doc.html">PDB</a>
	<ul>
	<li>Residue symbol is imported for standard residues.</li>
	<li>Residue sequence number is imported.</li>
	<li>New export and import options.</li>
	<li>Export does not hydrogenize the molecule automatically, use the
	    <strong>h</strong> option for this.</li>
	</ul>
	</li>
    </ul>

<h3>August 20, 2001: Marvin 2.9</h3>
    <ul>
    <li><a HREF="../formats/mol-csmol-doc.html">Rxnfile, RDfile</a> and
	Reaction <a HREF="../formats/smiles-doc.html">SMILES</a> import/export</li>
    <li><code>Molecule.getComment()</code> and <code>setComment()</code> methods</li>
    <li>New MarvinSketch applet parameter and bean methods:
	<a HREF="sketchman.html#parameters.reactionSupport">reactionSupport</a>,
	<code>getReactionSupport()</code>, <code>setReactionSupport()</code>.</li>
    <li><a HREF="beans/api/chemaxon/marvin/io/MolExportModule.html">MolExportModule</a>
	API changed: the
	<a HREF="beans/api/chemaxon/marvin/io/MolExportModule.html#open(java.lang.String)">open</a>
	method has a return value</li>
    </ul>

<h3>June 25, 2001: Marvin 2.8.4</h3>
    <ul>
    <li>Default value of the &quot;format&quot; property is &quot;DEFAULT&quot;
	instead of null</li>
    </ul>

<h3>June 22, 2001: Marvin 2.8.3</h3>
    <ul>
    <li><a NAME="v2803ini">Beans:</a>
	<ul>
	<li>List of properties to save/load to/from the initialization file
	    (<code>~/.mview</code>, <code>~/.msketch</code>) can be set using the setIniProps method.</li>
	<li>Beans can be used in applets that cannot access to disk files:
	    <ul>
	    <li>Ini file is not loaded
		automatically, only when <code>sketchPane.loadIni()</code> or
		<code>viewPane.loadIni()</code> is called.</li>
	    <li>Ini file is not saved automatically, only if the
		value of the saveIniEnabled property is true.</li>
	    </ul>
	    </li>
	</ul>
	</li>
    <li>The dispopts applet parameter is deprecated, use
	<a HREF="viewman.html#parameters.implicitH">implicitH</a>,
	<a HREF="viewman.html#parameters.explicitH">explicitH</a> or
	<a HREF="viewman.html#parameters.navmode">navmode</a> instead.
	</li>
    </ul>

<h3>June 18, 2001: Marvin 2.8.1</h3>
    <ul>
    <li>New bean methods and applet parameters for customizing 3D rendering:
	<a HREF="viewman.html#3d.stickThickness">stickThickness</a>,
	<a HREF="viewman.html#3d.ballRadius">ballRadius</a>.
	</li>
    <li><a NAME="v2801image">java.awt.Image</a> objects can be created from
	molecules using
	mol.<a HREF="beans/api/chemaxon/struc/Molecule.html#toObject(java.lang.String)">toObject</a>("image");
	</li>
    <li><a HREF="../formats/formats.html#ioapi">API</a> for import module
	creation (MolImportIface).</li>
    <li>Import file format can be specified, by writing
	"filename(format:)" or "filename(format:options)" in the
	<a HREF="viewman.html#parameters.mol">mol</a> applet parameter,
	or in the command line of <a HREF="../applications/molconvert.html">molconvert</a>,
	<a HREF="../applications/msketch.html">msketch</a>
	or <a HREF="../applications/mview.html">mview</a>.
	</li>
    <li>MSketchPane: <code>setMol(File, String)</code> method added, where string can
	contain the import options, in one of the following forms:
	"format:options", "format:", "options". The old <code>setMol(File)</code> method
	removed. MViewPane: <code>setM(int, File, String)</code> added.</li>
    <li><code>MolExportModule.sbuf</code> field renamed to <code>stringBuffer</code>.</li>
    <li><code>MolAtom.getAbbrev()</code> and <code>abbrevOf</code> are deprecated, use <code>getSymbol()</code> and
	<code>symbolOf()</code> instead.</li>
    </ul>

<h3>June 12, 2001: Marvin 2.8</h3>
    <ul>
    <li>New 3D <a HREF="viewman.html#3d.rendering">rendering mode</a>: sticks.
	</li>
    <li>Display quality can be controlled with an
	<a HREF="viewman.html#parameters.dispQuality">applet parameter</a>.
	</li>
    <li>Molecule import/export:
	<ul>
	<li>New XYZ import options:
	    <a HREF="../formats/xyz-doc.html#option_f">bond length cut-off</a> (f...) and
	    <a HREF="../formats/xyz-doc.html#option_Z">maximum number of connections</a>
	    (C4,H1,Cl1)</li>
	<li><a HREF="viewman.html#parameters.importConv">Automatic
	    dearomatization</a> after molecule loading.</li>
	<li>All export modules recognize the
	    <a HREF="../formats/basic-export-opts.html">&quot;a&quot;,
	    &quot;+a&quot; (aromatize) and &quot;-a&quot; (dearomatize)</a>
	    options.
	    Example: &quot;<a HREF="../formats/smiles-doc.html">smiles</a>:a&quot;
	    </li>
	</ul>
	</li>
    <li>Class library, beans
	<ul>
	<li><code>Molecule.aromatize()</code></li>
	<li>Bugfix: <code>MViewPane.getCellCount()</code> returns the total number of cells,
	    not just the number of visible cells.
	    </li>
	<li>PropertyChangeEvents generated when the molecule is changed in the
	    <a HREF="sketchman.html#propchanges.mol">sketcher</a> or
	    <a HREF="viewman.html#propchanges.mols">viewer</a> component.</li>
	<li>Event handling fix: PropertyChangeEvent source is the
	    the bean component, not the internal SketchPanel or ViewPanel.</li>
	</ul>
	</li>
    </ul>

<h3>May 17, 2001: Marvin 2.7.11</h3>
    <ul>
    <li>New <a HREF="viewman.html#3d.rendering">rendering</a> style:
	&quot;ball &amp; stick&quot;.</li>
    <li>Class library, beans:
	<ul>
	<li>New <a HREF="../formats/images-doc.html">image export options</a>:
	    rendering style and color scheme.</li>
	<li>Image export options must be separated by commas in format
	    descriptor strings.</li>
	<li>Molecule.toBinFormat method to convert molecules into binary
	    formats such as JPEG/PNG/PPM.</li>
	<li>The type of the <code>rendering</code>, <code>colorScheme</code>,
	    <code>implicitH</code>, <code>downWedge</code>, <code>navmode</code>
	    properties in
	    <a HREF="viewman.html#propchanges">PropertyChange events</a>
	    is <code>String</code> just like the argument type of their
	    <code>set</code> methods.
	    (Previously, the two types did not match.)
	    </li>
	</ul>
	</li>
    </ul>
<h3>May 4, 2001: Marvin 2.7.9</h3>
    <ul>
    <li>Binary export formats: <a HREF="../formats/gzip-doc.html">GZIP</a>,
	<a HREF="../formats/jpeg-doc.html">JPEG</a>, <a HREF="../formats/png-doc.html">PNG</a>,
	<a HREF="../formats/ppm-doc.html">PPM</a></li>
    <li>User defined export module creation by overriding
	<code>chemaxon/marvin/util/MolExportModule</code>.</li>
    </ul>

<h3>April 1, 2001: Marvin 2.7.6</h3>
    <ul>
    <li>Text field (<code>T</code>) component for MView
	<a HREF="viewman.html#advanced">tables</a>.</li>
    <li><a HREF="viewman.html#parameters.cacheMols">cacheMols</a> applet
	parameter for caching loaded molecules.</li>
    <li><a HREF="viewman.html#parameters.loadMols">loadMols</a> applet
	parameter for preloading molecules.</li>
    <li><code>Molecule.getProperty(key)</code> is not case sensitive.</li>
    </ul>

<h3>March 27, 2001: Marvin 2.7.5:</h3> Optional <a HREF="viewman.html#3d.spin">spin vector</a>.

<h3>March 14, 2001: Marvin 2.7</h3>
    <ul>
    <li>File formats
	<ul>
	<li><em>New:</em> <a HREF="../formats/xyz-doc.html#import">XYZ import</a></li>
	<li><em>New:</em> <a HREF="../formats/mol-csmol-doc.html#molV3">Extended Molfile
	    (V3.0) import.</a></li>
	<li><a HREF="../formats/cml-doc.html">CML export</a> options changed,
	    cml:1 -&gt; cml, cml:0 -&gt; cml:A, cml:A writes three coordinates
	    for each atom even if the molecule is 2D
	    (so <em>Jmol</em> can read the file)
	    </li>
	</ul>
	</li>
    <li>MView applet:
	<ul>
	<li><strong>Animated</strong> XYZ files can be displayed</li>
	<li>New parameters:
	    <a HREF="viewman.html#3d.animFPS">animFPS</a>,
	    <a HREF="viewman.html#3d.animDelay">animDelay</a>,
	    <a HREF="viewman.html#3d.animSync">animSync</a>.
	    </li>
	</ul>
	</li>
    <li>MarvinSketch Applet/Bean:
	<ul>
	<li><em>New:</em> <strong>File</strong>/<strong>New</strong> menu item in the bean.
	    If your application using the bean has a
	    <strong>File</strong>/<strong>New&nbsp;Window</strong>
	    menu item, then <strong>File</strong>/<strong>New</strong> should be moved to
	    <strong>File</strong>/<strong>New</strong>/<strong>Clear&nbsp;current</strong>, and
	    <strong>File</strong>/<strong>New&nbsp;Window</strong> should be moved to
	    <strong>File</strong>/<strong>New</strong>/<strong>New&nbsp;Window</strong>. See the MarvinSketch
	    application source
	    (<code>marvinbeans/examples/sketch/chemaxon/marvin/Sketch.java</code>)
	    for details.
	    </li>
	<li>&quot;Visual fragment placement&quot; can be disabled: use the
	    simpView parameter or the
	    <strong>View</strong>/<strong>Misc</strong>/<strong>Object&nbsp;in&nbsp;Hand</strong>
	    option if you do not like to see what you are doing.
	    </li>
	<li><a HREF="#2607bondlen">Bond length related changes.</a>
	</ul>
	</li>
    <li>Class library:
	<ul>
	<li>Changes related to atomic coordinates and transformations
	    <ul>
	    <li><em>New:</em> CTransform3D class for general 3D transformations
	    (like in Java3D)</li>
	    <li>Molecule.rot(...), tra(...), magnify(...) removed, use
	    transform(CTransform3D T) instead</li>
	    <li>Atom coordinates became absolute</li>
	    <li><code>Molecule.getO()</code> and <code>setO()</code> replaced by <code>getLocation()</code> and
	    <code>setLocation()</code></li>
	    <li><code>Molecule.getCenter()</code> renamed to <code>calcCenter()</code>, and it
		calculates center of mass instead of geometrical center</li>
	    <li><em>New:</em><code>Molecule.moveTo(location)</code></li>
	    </ul>
	    </li>
	<li><code>CGraph.indexOf</code> changes
	    <ul>
	    <li>Splitted into two methods, <code>indexOf(CNode atom)</code>
		and <code>indexOf(CEdge bond)</code></li>
	    <li>Speed improvement.
		CNode and CEdge has an index field that contains the object's
		index in its parent graph.
		Calling the parent graph's indexOf method returns the value
		of this field. The index is only searched (in the old way) when
		the CGraph is not the direct parent.</li>
	    </ul>
	    </li>
	<li>Valence rules
	    <ul>
	    <li><em>New:</em> <code>MolAtom.ionChargeOf(Z)</code></li>
	    <li><code>MolAtom.negoxOf(Z, boolean)</code> removed, <code>negOxOf(Z)</code>, <code>posOxOf(Z)</code>
		created instead</li>
	    </ul>
	    </li>
	<li>SDF properties
	    <ul>
	    <li>&quot;name&quot; and &quot;informat&quot; are no longer stored
		in the properties hashtable, they became fields of Molecule
		</li>
	    <li><code>Molecule.getProperties()</code> removed</li>
	    <li><code>Molecule.clearForImport()</code> -&gt; <code>clearForImport(name)</code></li>
	    <li><em>New</em> methods in Molecule:
		getName, setName, getInputFormat, setInputFormat,
		getPropertyCount(), getPropertyKey(n), getPropertyKeys()</li>
	    </ul>
	    </li>
	<li><a HREF="#2607bondlen">Bond length related changes.</a>
	</ul>
	</li>
    <li><a NAME="2607bondlen">API simplification:</a>
	internal bond length of Marvin fixed to be MolBond.CCLENGTH
	<ul>
	<li>bondlen, rescaling applet/bean parameters, setBondlen, getBondlen,
	    setRescaling, getRescaling methods removed, use
	    <code>MSketch.getMol(&quot;<a HREF="../formats/mol-csmol-doc.html#options">mol:b=XXX</a>&quot;)</code>
	    instead of
	    &lt;param NAME=&quot;bondlen&quot; VALUE=&quot;XXX&quot;&gt;</li>
	<li>The bondlen argument of <code>Molecule.clean(dim, bondlen, opts)</code> removed,
	    use <code>clean(dim, opts)</code></li>
	<li><code>MolBond.DEFAULT_LENGTH</code> renamed to <code>MolBond.CCLENGTH</code></li>
	<li><code>MolBond.getDesiredLengthRatio()</code> removed, use the new
	    dimension dependent <code>Molecule.getDesiredLength(bond)</code> method instead
	    </li>
	<li><code>MolAtom.covalentRadiusOf(Z)</code> -&gt; <code>covalentRadiusOf(Z, bondOrder)</code></li>
	</ul>
	</li>
    </ul>

<h3>December 10, 2000: Marvin 2.6</h3>
    <ul>
    <li>The &quot;style&quot; applet parameter renamed to &quot;
	<a HREF="sketchman.html#3d.rendering">rendering</a> because of
	a conflict with a Netscape keyword. The getStyle, setStyle methods
	of the beans are also renamed to getRendering, setRendering.
	</li>
    <li>New <a HREF="sketchman.html#3d.rendering">rendering</a> style:
	&quot;Wireframe with Knobs&quot;.</li>
    <li>Atoms can be highlighted in the MView/JMView applets by specifying a
	<a HREF="viewman.html#parameters.selection">selection</a>.</li>
    <li>All query atoms and extra bond types can be enabled by omitting the
	<a HREF="sketchman.html#parameters.queryAtoms"><code>queryAtoms</code></a>,
	<a HREF="sketchman.html#parameters.atomStrings"><code>atomStrings</code></a>,
	and <a HREF="sketchman.html#parameters.extraBonds"><code>extraBonds</code></a>
	parameters.
	</li>
    <li>&quot;Cis or Unspecified&quot; and &quot;Trans or Unspecified&quot;
	bond types; &quot;ctu&quot; in
	<a HREF="sketchman.html#parameters.extraBonds"><code>extraBonds</code></a>.
	</li>
    <li>Cleaning options can be specified using the
	<a HREF="sketchman.html#parameters.cleanOpts"><code>cleanOpts</code></a>
	applet parameter.
	</li>
    <li>Optional down wedge bond orientation (MDL or Daylight) using the
	<a HREF="sketchman.html#parameters.downWedge"><code>downWedge</code></a>
	parameter.</li>
    <li>New MView/JMView applet methods:
	<ul>
	<li><code>getAtomCount(moleculeIndex)</code> to query the number of atoms
	    in a molecule cell</li>
	<li><code>isSelected(moleculeIndex, atomIndex)</code> to query whether the specified
	    atom is selected or not</li>
	<li><code>selectAtom(moleculeIndex, atomIndex, select)</code> to (un)select
	    an atom</li>
	<li><code>selectAllAtoms(moleculeIndex, select)</code> to (un)select all
	    atoms</li>
	</ul>
	</li>
    <li>Real scrolling in MView!
	<ul>
	<li>The applet is scrollable if
	    <a HREF="viewman.html#advanced.visibleRows">visibleRows</a>
	    is less than
	    <a HREF="viewman.html#advanced.rows">rows</a> or
	    <a HREF="viewman.html#advanced.visibleCols">visibleCols</a>
	    is less than
	    <a HREF="viewman.html#advanced.cols">cols</a>.
	    </li>
	<li>The names of the layout<em>i</em> and param<em>i</em>
	    <strong>parameters changed</strong> to
	    <a HREF="viewman.html#advanced.layout"><code>layout</code></a> and
	    <a HREF="viewman.html#advanced.param"><code>param</code></a>
	    for the molecule cells, <code>layoutH</code> and <code>paramH</code>
	    for the optional header.
	    </li>
	<li>The <code>scroll</code> parameter ceased to exist.</li>
	</ul>
	</li>
    <li>Class library:
	<ul>
	<li>RgMolecule for R-groups</li>
	<li>Thread safe API for molecules</li>
	<li>New methods in CGraph: <code>getCtab()</code>, <code>getBtab()</code>, <code>fragments()</code>,
	    <code>findFrag()</code>, <code>getFragIds()</code>, <code>getLock()</code>, <code>getParent()</code>, etc.</li>
	<li>New methods in CNode: <code>getLigand(i)</code>, <code>getEdge(i)</code>,
	    <code>getEdgeCount()</code>
	    </li>
	<li><code>CNode.findFrag()</code> and <code>CGraph.fuseFrag()</code> removed</li>
	<li><code>CGraph.getEdge(i)</code>, <code>CGraph.getNode(i)</code>, <code>Molecule.getAtomArray()</code>
	    created;
	    <code>CGraph.getEdges()</code>, <code>CGraph.getNodes()</code>, <code>Molecule.getAtoms()</code>,
	    <code>Molecule.getBonds()</code> removed</li>
	<li><code>Molecule.reuseAtom(Z, i)</code> and <code>Molecule.endReuse(na)</code> created,
	    <code>MolAtom.reuse(Z, mol, i)</code> removed</li>
	<li>The two-argument <code>MolAtom.setCharge</code> method removed. Instead of
	    <code>a.setCharge(charge, false)</code>, use <code>a.setCharge(charge);
	    a.setFlags(0, MolAtom.FIX_CHARGE);</code></li>
	</ul>
	</li>
    </ul>

<h3>July 31, 2000: Marvin 2.5</h3>
    <ul>
    <li><a HREF="../formats/smiles-doc.html">SMILES</a> import</li>
    <li>Class library:
	<ul>
	<li><code>CGraph.fuseFrag(CNode a)</code> has only one argument.</li>
	<li>CGraph.removeNode and removeEdge instead of remove and removeRef;
	    removeEdge leaves edge.node1 and edge.node2 unchanged
	    (they were set to <code>null</code> in removeRef).</li>
	<li><code>MolBond.setFlags(int flags, int mask)</code> method introduced.</li>
	<li>Stereochemistry: double bonds can also be UP/DOWN
	    (not just CIS/TRANS);
	    CIS and TRANS information can also be stored (not just EITHER).
	    The MolBond.getStereo and setStereo methods and the UP, DOWN,
	    EITHER constants ceased to exists, the
	    STEREO1_UP, STEREO1_DOWN,
	    STEREO1_EITHER, STEREO2_CIS, STEREO2_TRANS,
	    STEREO2_EITHER, STEREO_CARE flags introduced instead.</li>
	<li>MolBond.getTopology/setTopology ceased to exist, the
	    TOPOLOGY_RING, TOPOLOGY_CHAIN flags introduced instead.</li>
	</ul>
	</li>
    </ul>

<h3>June 21, 2000: Marvin 2.4.2</h3>
    <ul>
    <li><a NAME="v2402scroll">Scrolling</a> in the MView and JMView applets.
	See the <a HREF="viewman.html#advanced.visibleRows">visibleRows</a>
	parameter.</li>
    </ul>

<h3>May 22, 2000: Marvin 2.4</h3>
    <ul>
    <li><a NAME="v2400colors">Structures are colorful by default.</a>
	Colorization can be disabled by setting <code>colors=mono</code>,
	both in the
	<a HREF="sketchman.html#parameters.colorScheme">sketcher</a> and the
	<a HREF="viewman.html#parameters.colorScheme">viewer</a>.</li>
    <li>Spacefill rendering can be enabled instead of wireframe by using
	the <a HREF="viewman.html#3d.rendering">style</a> parameter.</li>
    <li>Atom labels can be hidden with the <code>labels</code> parameter.</li>
    <li>Up/down and cis/trans either
	<a HREF="sketchman.html#parameters.extraBonds">bonds</a></li>
    <li>Classes in <code>chemaxon/beans</code> moved to
	<code>chemaxon/marvin/beans</code>. The MarvinSketch bean is
	<code>chemaxon.marvin.beans.MSketchPane</code>, the MarvinView bean is
	<code>chemaxon.marvin.beans.MViewPane</code>.</li>
    </ul>

<h3>March 20, 2000: Marvin 2.3.1</h3>
    The basic applet tag for MSketch and MView is simplified,
    and also generalized to work with or without Sun's Java Plugin.

<h3>March 4, 2000: Marvin 2.3</h3>
    <ul>
    <li>New file format: <a HREF="../formats/pdb-doc.html">PDB</a> (for simple, non-macro
	molecules)</li>
    <li><a NAME="v2300tmpls">Changes</a> in
	<a HREF="sketchman.html#parameters.tmpls">template</a> handling
	<ul>
	<li>The four template sets that come with Marvin became default.
	    Templates only have to be specified as applet parameter if
	    you need a different template set.</li>
	<li>Templates moved to directory <code>chemaxon/marvin/templates/</code>
	    (from <code>templates/</code>).</li>
	<li>File extension changed to <code>.t</code> (from <code>.cssdf</code>).<br>
	    This change was required because of a Netscape restriction
	    related to the loading of JAR file resources.
	<li>The JAR files marvin.jar and jmarvin.jar contain
	    <code>chemaxon/marvin/templates/generic.t</code>, so the
	    <font COLOR="red">firewall</font> problem ceased for the
	    generic template set.<br>
	    If needed, the additional templates may also be put into the
	    JARs by the user with the JAR utility
	    (part of <a HREF="http://java.sun.com/jdk/">Sun's JDK</a>).
	    However, doing this increases the JAR size with a noticable
	    amount.
	</ul>
	</li>
    <li>The <code>MolImport</code> module moved into marvin.jar because of the
	firewall problem.</li>
    </ul>
<h3>January 15, 2000: Marvin 2.2</h3>
    <ol>
    <li>New
	<a HREF="sketchman.html#parameters.extraBonds">query bond types</a>:
	&quot;single or double&quot;, &quot;single or aromatic&quot;,
	&quot;double or aromatic&quot;, &quot;chain&quot; and
	&quot;ring&quot;.</li>
    <li>SMARTS export handles the heteroatom (Q in molfile) type
	intelligently.</li>
    <li>The heteroatom and the any atom types are specified in the
	<a HREF="sketchman.html#parameters.queryAtoms">queryAtoms</a> parameter.
	The <code>anyatom</code> parameter became deprecated but is
	still present for backward compatibility, with slightly changed
	behaviour. Specifying <code>anyatom</code> with any value
	(empty string also) is equivalent to specifying
	&quot;<code>any,hetero</code>&quot; in <code>queryAtoms</code>.</li>
    <li>Cell selection in MarvinView can be controlled using the
	<a HREF="viewman.html#parameters.selectable">selectable</a>
	parameter.</li>
    <li>New methods in MarvinSketch:
	<code>getBondlen</code>.
	<code>getMag</code>,
	<code>getPiece</code>,
	<code>getRescaling</code>.
	New method in MarvinView:
	<code>setSelectedIndex</code>,
	The <code>setDispopts</code> method ceased to exist.
	Display options can be set using the dispopts applet parameter only.
	</li>
    <li><a NAME="v2200noclasses">In Marvin 2.2 and later, the Java classes come
	only in packaged forms:</a> marvin.jar and marvin.zip.
	It means that support is ceased for those archaic Java-compatible
	browsers that cannot handle the <code>ARCHIVE</code> option in the applet
	tag (Netscape 2 and MS Explorer 3).
	Reasons:
	<ol>
	<li>Under certain circumstances, some Netscape versions try to load the
	class files one by one instead of using <code>marvin.jar</code>. The
	simplest way to keep Netscape from doing so is to remove the class
	files.</li>
	<li>Most of our users don't understand what <code>ARCHIVE</code> is, and
	don't use it properly. The consequence is a significantly increased
	download time.<br>
	From now, a missing <code>ARCHIVE</code> option cannot be left unnoticed,
	because Marvin will simply not run. Much better than turning your
	user's hair gray.</li>
	<li>Marvin is rarely tested in the oldest (and buggiest) browsers.</li>
	</ol>
	<p><small>
	If you are absolutely sure that you want your Marvin page work with
	Netscape 2 and MS Explorer 3 too, you must unpack marvin.zip manually.
	However, we do not recommend this, because you will probably do
	something wrong. For example, once you will upgrade Marvin and
	forget to unpack the new marvin.zip. Mixing two different versions
	will result in malfunction.
	</small></p>
	</li>
    </ol>

<h3>October 4, 1999: Marvin 2.1.5:</h3> Molecules in MarvinView are only editable if the
    <a HREF="viewman.html#parameters.editable">editable applet parameter</a>
    is set.
<h3>September 14, 1999: Marvin 2.1.1</h3>
    <ul>
    <li>getCellCount()
	method in MarvinView.</li>
    <li>The <em>anchor</em> parameter in the
	<a HREF="viewman.html#advanced.layout">layout</a> also sets label
	alignment.</li>
    </ul>

<h3>September 2, 1999: Marvin 2.1</h3>
    <ol>
    <li>CML (XML) export.</li>
    <li>The
	getSelectedIndex()
	method in MarvinView.
	</li>
    <li>Default value of the <code>rescaling</code>
	parameter in MarvinSketch is changed to &quot;<code>mag</code>&quot;
	because generally this value is the most useful.</li>
    <li>The MarvinView-only package ceased to exist, the new Edit/Structure
	function made it irrelevant.</li>
    </ol>

<h3>July 20, 1999: Marvin 2.0</h3>
    <ol>
    <li><a NAME="marvin2000templates"><strong>Templates in MarvinSketch:</strong></a>
	From now on templates are stored in SDfiles (.sdf) or
	compressed SDfiles (.cssdf).
	The template file can be optionally compressed with GZIP, but the
	applet will only work in Java 1.1 compatible browsers in that case.
	The <code>tmplmol</code>, <code>tmplpar</code>, and <code>ntmpls</code> parameters
	<strong>no longer exist</strong> and are <strong>replaced by</strong> the much more easy
	to use <a HREF="sketchman.html#parameters.tmpls">tmpls</a> parameters.
	The unit rotation angle can be specified as a new Marvin-specific
	property <code>M  MRV PHI</code> in the template molecule files
	(instead of the <code>tmplpar</code> parameters).
	</li>
    <li><strong>Applet tags changed:</strong>
	Rewrite your applet tags according to the
	<em>last solution</em> in <em>MarvinSketch Example 1</em>.
	This applet tag can load the AWT and the Swing applets as well.
	<br>
	Note that the file <code>&amp;{marvinjar};</code> is not packaged now
	(its name caused too many problems), so you must rewrite your applet
	tags, otherwise the download time with MS Explorer will not be
	optimal.
	</li>
    <li><strong>New in MarvinSketch:</strong>
	The <a HREF="sketchman.html#parameters.menubar">menubar</a> parameter
	enables or disables the menu bar in the Swing sketcher.
	</li>
    <li><a NAME="marvin2000animate"><strong>New in MarvinView:</strong></a>
	Molecules start rotating in 3D automatically if you set the
	<a HREF="viewman.html#3d.animate">animate</a>
	parameter in MarvinView.
	</li>
    <li><a NAME="marvin2000border"><strong>New in MarvinView:</strong></a>
	<a HREF="viewman.html#advanced.border">Border</a> between cells in
	molecule tables.
	</li>
    <li><strong>Change in MarvinView:</strong>
	From now the colors can be specified in the same way as in
	MarvinSketch.
	Molecule background is <a HREF="viewman.html#parameters.molbg">molbg</a>,
	normal table background is
	<a HREF="viewman.html#parameters.background">bgcolor</a>.
	(Previously, bgcolor was also the molecule background.)
	</li>
    <li><a NAME="marvin2000javascripter"><strong>JavaScripter</strong></a>
	applet ceased to exist.<br>
	Its functionality is moved into a MarvinView module that is
	automatically loaded at the first <code>js:</code> action.<br>
	<blockquote>
	<small>
	In the past, JavaScripter was required because scripting applets are
	not cached by older browsers (namely Netscape 3). An applet that has
	the MAYSCRIPT attribute is loaded from the net for each page that
	contains it. In Netscape 4 and later, there is no such problem. On the
	other hand, a bug (or feature?) in Netscape 4.6 makes the use of
	JavaScripter impossible as a separate applet. That's why we merged the
	two applets now.
	</small>
	</blockquote>
	</li>
    <li><a NAME="marvin2000formats"><strong>New:</strong></a>
	Three new molecule file formats:
	<a HREF="../formats/sybyl-doc.html">&quot;sybyl&quot;</a>
	(the <em>SybylImport</em> and <em>SybylExport</em> modules),
	<a HREF="../formats/xyz-doc.html">&quot;xyz&quot;</a> (<em>XyzExport</em>),
	and <a HREF="../formats/pov-doc.html">&quot;pov&quot;</a> (<em>PovExport</em>).
	</li>
    <li><strong>New and changed:</strong>
	The &quot;<code>implicitH</code>&quot; option in the dispopts applet
	parameter instead of the <code>showH</code> parameter which ceased to exist.
	<ul>
	<li>&quot;<code>off</code>&quot; -&gt; &quot;<code>implicitH=off</code>&quot;</li>
	<li>&quot;<code>term</code>&quot; -&gt; &quot;<code>implicitH=heteroterm</code>&quot;
	    (because &quot;<code>term</code>&quot; ceased to exist)</li>
	<li>&quot;<code>hetero</code>&quot; -&gt;
	    &quot;<code>implicitH=hetero</code>&quot;</li>
	<li>&quot;<code>heteroterm</code>&quot; -&gt;
	    &quot;<code>implicitH=heteroterm</code>&quot; (default)</li>
	<li>&quot;<code>all</code>&quot; -&gt;
	    &quot;<code>implicitH=all</code>&quot;</li>
	</ul>
	New features: if you want the explicit H atoms to be invisible, use
	&quot;<code>explicitH=off</code>&quot; (default: &quot;<code>all</code>&quot;).
	<br>
	If you have 3D molecules, use &quot;dim=3&quot; for MarvinView, to
	let him know that you want 3D rotation as the default mouse drag
	action.
	</li>
    </ol>

<h3>January 4, 1999: Marvin 1.3</h3>
    <ol>
    <li><strong>New:</strong>
	The <a HREF="sketchman.html#parameters.atomStrings">atomStrings</a>
	parameter enables the usage of atom aliases and SMARTS strings in the
	sketcher.
	</li>
    <li><strong>Incompatible change:</strong>
	The <code>setAtoms</code>, <code>setNoatoms</code>,
	<code>setNobonds</code> methods, and the <code>atoms</code>,
	<code>noatoms</code>, <code>nobonds</code> 
	applet parameters ceased to exist and replaced by
	<a HREF="sketchman.html#parameters.elements"><code>elements</code></a>,
	<code>anyatom</code>,
	<a HREF="sketchman.html#parameters.queryAtoms"><code>queryAtoms</code></a>,
	and
	<a HREF="sketchman.html#parameters.extraBonds"><code>extraBonds</code></a>.
	</li>
    <li><strong>New:</strong>
	The new <a HREF="sketchman.html#parameters.detach">detach</a>
	parameter makes it possible to detach the sketcher from the web page
	immediately when the applet is loaded.
	</li>
    <li><strong>Recommended:</strong>
	In molfiles and compressed molfiles written directly in HTML, you
	should end all the molfile lines with backslash <strong>and</strong> also a real
	newline character like here:
	<blockquote>
	<pre>
...
000Wun+V70\
iuzV000W60\
iuzVGS2W60\
K72WGS2W60\
...
	</pre>
	</blockquote>
	Omitting the real newlines like in
	&quot;<code>000Wun+V70\iuzV000W60\iuzVGS2W60\K72WGS2W60\</code>&quot;,
	seemed to be safe so far, while the
	Marvin applets were tested only in Sun, Netscape, Symantec, and
	Microsoft JVM's.
	The reason for discontinuing this practice is that the
	AppletViewer in Kaffe 1.0b3
	has problems if you write more than one molfile lines in one HTML line.
	</li>
    <li><strong>Removed:</strong>
	Backward compatibility with the old style (1.0-1.1) usage of
	<code>getMol()</code> and <code>getM()</code> removed.
	It didn't work with MSIE anyway.
	</li>
    </ol>

<h3>November 29, 1998: Marvin 1.2</h3>
    <ol>
    <li><strong>Incompatible change:</strong>
	MSketch.getMol(x) and
	MView.getM(n,x).
	<p>
	In Marvin 1.1.4 and before, <code>x</code> was a boolean variable
	specifying the format of the generated molfile: MDL mol
	(<code>false</code>) or compressed mol (<code>true</code>).
	<p>
	From version 1.2, <code>x</code> is a <em>format descriptor string</em>
	to ease the introduction of new molecule file formats as Marvin evolves.
	MDL molfile format is denoted by the string
	&quot;<code>mol</code>&quot;,
	compressed mol is &quot;<code>csmol</code>&quot;,
	SMILES is &quot;<code>smiles</code>&quot;.
	</li>
    <li><strong>New:</strong>
	The <a HREF="sketchman.html#parameters.preload">preload</a>
	applet parameter.
	<p>
	&quot;Extra features&quot; are planned to be available as external
	modules in future releases of Marvin.
	External modules are downloaded only when needed.
	In Marvin 1.2.3, MDL mol, compressed mol and SMILES export are
	external modules.
	<p>
	The problem is that older browsers such as Netscape 3, cannot
	load the external modules when the module is needed by a public method
	which is called from JavaScript.
	So if you want your web page containing Marvin to work perfectly with
	earlier releases of Netscape than 4, then you should preload all
	the modules which may be needed by JavaScript calls.
	<p>
	For example, if you are using
	<code>MSketch.getMol(&quot;smiles&quot;)</code> on your page,
	then you should also have the following applet parameter:<br>
	<code>&lt;param NAME=&quot;preload&quot; VALUE=&quot;SmilesExport&quot;&gt;</code>.
	</li>
    </ol>

</body>
</html>
