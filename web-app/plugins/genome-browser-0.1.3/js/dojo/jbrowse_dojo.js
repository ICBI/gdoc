/*
	Copyright (c) 2004-2008, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_5,_6){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _7=dojo.date.stamp._isoRegExp.exec(_5);var _8=null;if(_7){_7.shift();if(_7[1]){_7[1]--;}if(_7[6]){_7[6]*=1000;}if(_6){_6=new Date(_6);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_9){return _6["get"+_9]();}).forEach(function(_a,_b){if(_7[_b]===undefined){_7[_b]=_a;}});}_8=new Date(_7[0]||1970,_7[1]||0,_7[2]||1,_7[3]||0,_7[4]||0,_7[5]||0,_7[6]||0);var _c=0;var _d=_7[7]&&_7[7].charAt(0);if(_d!="Z"){_c=((_7[8]||0)*60)+(Number(_7[9])||0);if(_d!="-"){_c*=-1;}}if(_d){_c-=_8.getTimezoneOffset();}if(_c){_8.setTime(_8.getTime()+_c*60000);}}return _8;};dojo.date.stamp.toISOString=function(_e,_f){var _=function(n){return (n<10)?"0"+n:n;};_f=_f||{};var _12=[];var _13=_f.zulu?"getUTC":"get";var _14="";if(_f.selector!="time"){var _15=_e[_13+"FullYear"]();_14=["0000".substr((_15+"").length)+_15,_(_e[_13+"Month"]()+1),_(_e[_13+"Date"]())].join("-");}_12.push(_14);if(_f.selector!="date"){var _16=[_(_e[_13+"Hours"]()),_(_e[_13+"Minutes"]()),_(_e[_13+"Seconds"]())].join(":");var _17=_e[_13+"Milliseconds"]();if(_f.milliseconds){_16+="."+(_17<100?"0":"")+_(_17);}if(_f.zulu){_16+="Z";}else{if(_f.selector!="time"){var _18=_e.getTimezoneOffset();var _19=Math.abs(_18);_16+=(_18>0?"-":"+")+_(Math.floor(_19/60))+":"+_(_19%60);}}_12.push(_16);}return _12.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _1b=d._scopeName+"Type";var qry="["+_1b+"]";function val2type(_1d){if(d.isString(_1d)){return "string";}if(typeof _1d=="number"){return "number";}if(typeof _1d=="boolean"){return "boolean";}if(d.isFunction(_1d)){return "function";}if(d.isArray(_1d)){return "array";}if(_1d instanceof Date){return "date";}if(_1d instanceof d._Url){return "url";}return "object";};function str2obj(_1e,_1f){switch(_1f){case "string":return _1e;case "number":return _1e.length?Number(_1e):NaN;case "boolean":return typeof _1e=="boolean"?_1e:!(_1e.toLowerCase()=="false");case "function":if(d.isFunction(_1e)){_1e=_1e.toString();_1e=d.trim(_1e.substring(_1e.indexOf("{")+1,_1e.length-1));}try{if(_1e.search(/[^\w\.]+/i)!=-1){_1e=d.parser._nameAnonFunc(new Function(_1e),this);}return d.getObject(_1e,false);}catch(e){return new Function();}case "array":return _1e?_1e.split(/\s*,\s*/):[];case "date":switch(_1e){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_1e);}case "url":return d.baseUrl+_1e;default:return d.fromJson(_1e);}};var _20={};function getClassInfo(_21){if(!_20[_21]){var cls=d.getObject(_21);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_21+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _23=cls.prototype;var _24={};for(var _25 in _23){if(_25.charAt(0)=="_"){continue;}var _26=_23[_25];_24[_25]=val2type(_26);}_20[_21]={cls:cls,params:_24};}return _20[_21];};this._functionFromScript=function(_27){var _28="";var _29="";var _2a=_27.getAttribute("args");if(_2a){d.forEach(_2a.split(/\s*,\s*/),function(_2b,idx){_28+="var "+_2b+" = arguments["+idx+"]; ";});}var _2d=_27.getAttribute("with");if(_2d&&_2d.length){d.forEach(_2d.split(/\s*,\s*/),function(_2e){_28+="with("+_2e+"){";_29+="}";});}return new Function(_28+_27.innerHTML+_29);};this.instantiate=function(_2f){var _30=[];d.forEach(_2f,function(_31){if(!_31){return;}var _32=_31.getAttribute(_1b);if((!_32)||(!_32.length)){return;}var _33=getClassInfo(_32);var _34=_33.cls;var ps=_34._noScript||_34.prototype._noScript;var _36={};var _37=_31.attributes;for(var _38 in _33.params){var _39=_37.getNamedItem(_38);if(!_39||(!_39.specified&&(!dojo.isIE||_38.toLowerCase()!="value"))){continue;}var _3a=_39.value;switch(_38){case "class":_3a=_31.className;break;case "style":_3a=_31.style&&_31.style.cssText;}var _3b=_33.params[_38];_36[_38]=str2obj(_3a,_3b);}if(!ps){var _3c=[],_3d=[];d.query("> script[type^='dojo/']",_31).orphan().forEach(function(_3e){var _3f=_3e.getAttribute("event"),_32=_3e.getAttribute("type"),nf=d.parser._functionFromScript(_3e);if(_3f){if(_32=="dojo/connect"){_3c.push({event:_3f,func:nf});}else{_36[_3f]=nf;}}else{_3d.push(nf);}});}var _41=_34["markupFactory"];if(!_41&&_34["prototype"]){_41=_34.prototype["markupFactory"];}var _42=_41?_41(_36,_31,_34):new _34(_36,_31);_30.push(_42);var _43=_31.getAttribute("jsId");if(_43){d.setObject(_43,_42);}if(!ps){d.forEach(_3c,function(_44){d.connect(_42,_44.event,null,_44.func);});d.forEach(_3d,function(_45){_45.call(_42);});}});d.forEach(_30,function(_46){if(_46&&_46.startup&&!_46._started&&(!_46.getParent||!_46.getParent())){_46.startup();}});return _30;};this.parse=function(_47){var _48=d.query(qry,_47);var _49=this.instantiate(_48);return _49;};}();(function(){var _4a=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_4a);}else{dojo._loaders.unshift(_4a);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_4b,_4c){var jpn="$joinpoint";var nso=(_4c||dojo.parser._anon);if(dojo.isIE){var cn=_4b["__dojoNameCache"];if(cn&&nso[cn]===_4b){return _4b["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_4b;return ret;};}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(_51,_52){this.node=dojo.byId(_51);if(!_52){_52={};}this.creator=_52.creator||null;this.skipForm=_52.skipForm;this.parent=_52.dropParent&&dojo.byId(_52.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_52&&_52._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,_55){this.map[key]=_55;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(_5d){if(_5d.id){var _5e=this.getItem(_5d.id);if(_5e){map[_5d.id]=_5e;return;}}else{_5d.id=dojo.dnd.getUniqueId();}var _5f=_5d.getAttribute("dndType"),_60=_5d.getAttribute("dndData");map[_5d.id]={data:_60||_5d.innerHTML,type:_5f?_5f.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(_61,_62,_63){if(!this.parent.firstChild){_63=null;}else{if(_62){if(!_63){_63=this.parent.firstChild;}}else{if(_63){_63=_63.nextSibling;}}}if(_63){for(var i=0;i<_61.length;++i){var t=this._normalizedCreator(_61[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_63);}}else{for(var i=0;i<_61.length;++i){var t=this._normalizedCreator(_61[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_66,_67){_66._skipStartup=true;return new dojo.dnd.Container(_67,_66);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(_6e,_6f){var _70="dojoDnd"+_6e;var _71=_6e.toLowerCase()+"State";dojo.removeClass(this.node,_70+this[_71]);dojo.addClass(this.node,_70+_6f);this[_71]=_6f;},_addItemClass:function(_72,_73){dojo.addClass(_72,"dojoDndItem"+_73);},_removeItemClass:function(_74,_75){dojo.removeClass(_74,"dojoDndItem"+_75);},_getChildByEvent:function(e){var _77=e.target;if(_77){for(var _78=_77.parentNode;_78;_77=_78,_78=_77.parentNode){if(_78==this.parent&&dojo.hasClass(_77,"dojoDndItem")){return _77;}}}return null;},_normalizedCreator:function(_79,_7a){var t=(this.creator||this.defaultCreator).call(this,_79,_7a);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(_7d){var n=dojo.doc.createElement(tag);n.innerHTML=_7d;return n;};};dojo.dnd._createTrTd=function(_7f){var tr=dojo.doc.createElement("tr");var td=dojo.doc.createElement("td");td.innerHTML=_7f;tr.appendChild(td);return tr;};dojo.dnd._createSpan=function(_82){var n=dojo.doc.createElement("span");n.innerHTML=_82;return n;};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(_84){var tag=_84.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(_87,_88){var _89=_87&&dojo.isObject(_87),_8a,_8b,n;if(_89&&_87.tagName&&_87.nodeType&&_87.getAttribute){_8a=_87.getAttribute("dndData")||_87.innerHTML;_8b=_87.getAttribute("dndType");_8b=_8b?_8b.split(/\s*,\s*/):["text"];n=_87;}else{_8a=(_89&&_87.data)?_87.data:_87;_8b=(_89&&_87.type)?_87.type:["text"];n=(_88=="avatar"?dojo.dnd._createSpan:c)(String(_8a));}n.id=dojo.dnd.getUniqueId();return {node:n,data:_8a,type:_8b};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(_8d,_8e){if(!_8e){_8e={};}this.singular=_8e.singular;this.autoSync=_8e.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(_92,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo._destroyElement(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_a0,_a1,_a2,_a3){var _a4=this._normalizedCreator;this._normalizedCreator=function(_a5,_a6){var t=_a4.call(this,_a5,_a6);if(_a0){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,_a1,_a2,_a3);this._normalizedCreator=_a4;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_a8,_a9){_a8._skipStartup=true;return new dojo.dnd.Selector(_a9,_a8);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;dojo.stopEvent(e);return;}if(!this.singular&&e.shiftKey){if(!dojo.dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var _ad=c[i];if(_ad==this.anchor||_ad==this.current){break;}}for(++i;i<c.length;++i){var _ad=c[i];if(_ad==this.anchor||_ad==this.current){break;}this._addItemClass(_ad,"Selected");this.selection[_ad.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var _b2=dojo.byId(i);if(_b2){this._removeItemClass(_b2,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isSafari||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _c6=n.scrollLeft,_c7=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_c6!=n.scrollLeft||_c7!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_c8){this.manager=_c8;this.construct();},construct:function(){var a=dojo.doc.createElement("table");a.className="dojoDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dojo.doc.createElement("tbody");var tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarHeader";var td=dojo.doc.createElement("td");td.innerHTML=this._generateText();tr.appendChild(td);dojo.style(tr,"opacity",0.9);b.appendChild(tr);var k=Math.min(5,this.manager.nodes.length);var _ce=this.manager.source,_cf;for(var i=0;i<k;++i){tr=dojo.doc.createElement("tr");tr.className="dojoDndAvatarItem";td=dojo.doc.createElement("td");if(_ce.creator){_cf=_ce._normalizedCreator(_ce.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{_cf=this.manager.nodes[i].cloneNode(true);if(_cf.tagName.toLowerCase()=="tr"){var _d1=dojo.doc.createElement("table"),_d2=dojo.doc.createElement("tbody");_d2.appendChild(_cf);_d1.appendChild(_d2);_cf=_d1;}}_cf.id="";td.appendChild(_cf);tr.appendChild(td);dojo.style(tr,"opacity",(9-i)/10);b.appendChild(tr);}a.appendChild(b);this.node=a;},destroy:function(){dojo._destroyElement(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");dojo.query("tr.dojoDndAvatarHeader td",this.node).forEach(function(_d3){_d3.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_d4){if(this.avatar){this.target=(_d4&&_d4.targetState!="Disabled")?_d4:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_d4]);},outSource:function(_d5){if(this.avatar){if(this.target==_d5){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_d6,_d7,_d8){this.source=_d6;this.nodes=_d7;this.copy=Boolean(_d8);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_d6,_d7,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(_d8?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(_da){var _db=Boolean(this.target&&_da);if(this.canDropFlag!=_db){this.canDropFlag=_db;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var _df=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e)));if(this.copy!=_df){this._setCopyStatus(_df);}}},onMouseUp:function(e){if(this.avatar&&(!("mouseButton" in this.source)||(dojo.isSafari&&dojo.dnd._isMac&&this.source.mouseButton==2?e.button==0:this.source.mouseButton==e.button))){if(this.target&&this.canDropFlag){var _e1=Boolean(this.source.copyState(dojo.dnd.getCopyKeyState(e))),_e2=[this.source,this.nodes,_e1,this.target];dojo.publish("/dnd/drop/before",_e2);dojo.publish("/dnd/drop",_e2);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var _e4=Boolean(this.source.copyState(true));if(this.copy!=_e4){this._setCopyStatus(_e4);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var _e6=Boolean(this.source.copyState(false));if(this.copy!=_e6){this._setCopyStatus(_e6);}}},_setCopyStatus:function(_e7){this.copy=_e7;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],constructor:function(_e8,_e9){dojo.mixin(this,dojo.mixin({},_e9));var _ea=this.accept;if(_ea.length){this.accept={};for(var i=0;i<_ea.length;++i){this.accept[_ea[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_ec,_ed){if(this==_ec){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_ed.length;++i){var _ef=_ec.getItem(_ed[i].id).type;var _f0=false;for(var j=0;j<_ef.length;++j){if(_ef[j] in this.accept){_f0=true;break;}}if(!_f0){return false;}}return true;},copyState:function(_f2,_f3){if(_f2){return true;}if(arguments.length<2){_f3=this==dojo.dnd.manager().target;}if(_f3){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_f4,_f5){_f4._skipStartup=true;return new dojo.dnd.Source(_f5,_f4);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _f8=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox={xy:dojo.coords(this.current,true),w:this.current.offsetWidth,h:this.current.offsetHeight};}if(this.horizontal){_f8=(e.pageX-this.targetBox.xy.x)<(this.targetBox.w/2);}else{_f8=(e.pageY-this.targetBox.xy.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_f8!=this.before){this._markTargetAnchor(_f8);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _f9=this.getSelectedNodes();if(_f9.length){m.startDrag(this,_f9,this.copyState(dojo.dnd.getCopyKeyState(e),true));}}}},onMouseDown:function(e){if(this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this.mouseButton=e.button;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_fc){if(this!=_fc){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_fe,_ff,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_fe?(copy?"Copied":"Moved"):"");}var _101=this.accept&&this.checkAcceptance(_fe,_ff);this._changeState("Target",_101?"":"Disabled");if(this==_fe){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_102,_103,copy,_105){if(this==_105){this.onDrop(_102,_103,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_106,_107,copy){if(this!=_106){this.onDropExternal(_106,_107,copy);}else{this.onDropInternal(_107,copy);}},onDropExternal:function(_109,_10a,copy){var _10c=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _10c.call(this,_109.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_109.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_109.getItem(node.id);_109.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_109.selectNone();}this.insertNodes(true,_10a,this.before,this.current);if(!copy&&this.creator){_109.deleteSelectedNodes();}this._normalizedCreator=_10c;},onDropInternal:function(_116,copy){var _118=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _118.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_116,this.before,this.current);this._normalizedCreator=_118;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_122){if(this.current==this.targetAnchor&&this.before==_122){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_122;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!this.withHandles){return true;}for(var node=e.target;node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_127){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_128,node){_128._skipStartup=true;return new dojo.dnd.Target(node,_128);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_12b){this.autoSync=true;},markupFactory:function(_12c,node){_12c._skipStartup=true;return new dojo.dnd.AutoSource(node,_12c);}});}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_133=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_133];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isSafari&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_142){this.node=dojo.byId(node);if(!_142){_142={};}this.handle=_142.handle?dojo.byId(_142.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_142.delay>0?_142.delay:0;this.skip=_142.skip;this.mover=_142.mover?_142.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_143,node){return new dojo.dnd.Moveable(node,_143);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_14b){dojo.publish("/dnd/move/start",[_14b]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_14c){dojo.publish("/dnd/move/stop",[_14c]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_14d){},onMove:function(_14e,_14f){this.onMoving(_14e,_14f);var s=_14e.node.style;s.left=_14f.l+"px";s.top=_14f.t+"px";this.onMoved(_14e,_14f);},onMoving:function(_151,_152){},onMoved:function(_153,_154){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_155,node){return new dojo.dnd.move.constrainedMoveable(node,_155);},constructor:function(node,_158){if(!_158){_158={};}this.constraints=_158.constraints;this.within=_158.within;},onFirstMove:function(_159){var c=this.constraintBox=this.constraints.call(this,_159);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_159.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_15c,_15d){var c=this.constraintBox,s=_15c.node.style;s.left=(_15d.l<c.l?c.l:c.r<_15d.l?c.r:_15d.l)+"px";s.top=(_15d.t<c.t?c.t:c.b<_15d.t?c.b:_15d.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_160,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_160);},constructor:function(node,_163){var box=_163&&_163.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_165,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_165);},constructor:function(node,_168){var area=_168&&_168.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_16f){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _170=function(node,e,_173){dojo.dnd.Mover.call(this,node,e,_173);};dojo.extend(_170,dojo.dnd.Mover.prototype);dojo.extend(_170,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_16f){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _170;};dojo.dnd.move.boxConstrainedMover=function(box,_17c){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_17c);};dojo.dnd.move.parentConstrainedMover=function(area,_17e){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_17e);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _184=dojo.doc;if(_184.selection){var s=_184.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _186=dojo.global;var _187=_186.getSelection();if(dojo.isString(_187)){return !_187;}else{return _187.isCollapsed||!_187.toString();}}},getBookmark:function(){var _188,_189=dojo.doc.selection;if(_189){var _18a=_189.createRange();if(_189.type.toUpperCase()=="CONTROL"){if(_18a.length){_188=[];var i=0,len=_18a.length;while(i<len){_188.push(_18a.item(i++));}}else{_188=null;}}else{_188=_18a.getBookmark();}}else{if(window.getSelection){_189=dojo.global.getSelection();if(_189){_18a=_189.getRangeAt(0);_188=_18a.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _188;},moveToBookmark:function(_18d){var _18e=dojo.doc;if(_18e.selection){var _18f;if(dojo.isArray(_18d)){_18f=_18e.body.createControlRange();dojo.forEach(_18d,function(n){_18f.addElement(n);});}else{_18f=_18e.selection.createRange();_18f.moveToBookmark(_18d);}_18f.select();}else{var _191=dojo.global.getSelection&&dojo.global.getSelection();if(_191&&_191.removeAllRanges){_191.removeAllRanges();_191.addRange(_18d);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(menu,_193){return {node:menu&&dojo.isDescendant(dijit._curFocus,menu.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_193||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_193||dojo.global,dijit.getBookmark):null,openedForWindow:_193};},focus:function(_194){if(!_194){return;}var node="node" in _194?_194.node:_194,_196=_194.bookmark,_197=_194.openedForWindow;if(node){var _198=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_198&&_198.focus){try{_198.focus();}catch(e){}}dijit._onFocusNode(node);}if(_196&&dojo.withGlobal(_197||dojo.global,dijit.isCollapsed)){if(_197){_197.focus();}try{dojo.withGlobal(_197||dojo.global,dijit.moveToBookmark,null,[_196]);}catch(e){}}},_activeStack:[],registerWin:function(_199){if(!_199){_199=window;}dojo.connect(_199.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var doc=_199.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(evt.target);},true);}}doc=null;},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _1a2=[];try{while(node){if(node.dijitPopupParent){node=dijit.byId(node.dijitPopupParent).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dijit.getDocumentWindow(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId");if(id){_1a2.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_1a2);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(node.nodeType==9){var _1a5=dijit.getDocumentWindow(node).frameElement;if(!_1a5){return;}node=_1a5;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_1a6){var _1a7=dijit._activeStack;dijit._activeStack=_1a6;for(var _1a8=0;_1a8<Math.min(_1a7.length,_1a6.length);_1a8++){if(_1a7[_1a8]!=_1a6[_1a8]){break;}}for(var i=_1a7.length-1;i>=_1a8;i--){var _1aa=dijit.byId(_1a7[i]);if(_1aa){_1aa._focused=false;_1aa._hasBeenBlurred=true;if(_1aa._onBlur){_1aa._onBlur();}if(_1aa._setStateClass){_1aa._setStateClass();}dojo.publish("widgetBlur",[_1aa]);}}for(i=_1a8;i<_1a6.length;i++){_1aa=dijit.byId(_1a6[i]);if(_1aa){_1aa._focused=true;if(_1aa._onFocus){_1aa._onFocus();}if(_1aa._setStateClass){_1aa._setStateClass();}dojo.publish("widgetFocus",[_1aa]);}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_1ab){if(this._hash[_1ab.id]){throw new Error("Tried to register widget with id=="+_1ab.id+" but that id is already registered");}this._hash[_1ab.id]=_1ab;},remove:function(id){delete this._hash[id];},forEach:function(func){for(var id in this._hash){func(this._hash[id]);}},filter:function(_1af){var res=new dijit.WidgetSet();this.forEach(function(_1b1){if(_1af(_1b1)){res.add(_1b1);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_1b4){return _1b4.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_1b5){var id;do{id=_1b5+"_"+(_1b5 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_1b5]:dijit._widgetTypeCtr[_1b5]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.registry.forEach(function(_1b7){_1b7.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(node){return dijit.registry.byId(node.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(node){while(node){if(node.getAttribute&&node.getAttribute("widgetId")){return dijit.registry.byId(node.getAttribute("widgetId"));}node=node.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(elem){var _1bc=dojo.style(elem);return (_1bc.visibility!="hidden")&&(_1bc.visibility!="collapsed")&&(_1bc.display!="none")&&(dojo.attr(elem,"type")!="hidden");};dijit.isTabNavigable=function(elem){if(dojo.hasAttr(elem,"disabled")){return false;}var _1be=dojo.hasAttr(elem,"tabindex");var _1bf=dojo.attr(elem,"tabindex");if(_1be&&_1bf>=0){return true;}var name=elem.nodeName.toLowerCase();if(((name=="a"&&dojo.hasAttr(elem,"href"))||dijit._tabElements[name])&&(!_1be||_1bf>=0)){return true;}return false;};dijit._getTabNavigable=function(root){var _1c2,last,_1c4,_1c5,_1c6,_1c7;var _1c8=function(_1c9){dojo.query("> *",_1c9).forEach(function(_1ca){var _1cb=dijit._isElementShown(_1ca);if(_1cb&&dijit.isTabNavigable(_1ca)){var _1cc=dojo.attr(_1ca,"tabindex");if(!dojo.hasAttr(_1ca,"tabindex")||_1cc==0){if(!_1c2){_1c2=_1ca;}last=_1ca;}else{if(_1cc>0){if(!_1c4||_1cc<_1c5){_1c5=_1cc;_1c4=_1ca;}if(!_1c6||_1cc>=_1c7){_1c7=_1cc;_1c6=_1ca;}}}}if(_1cb&&_1ca.nodeName.toUpperCase()!="SELECT"){_1c8(_1ca);}});};if(dijit._isElementShown(root)){_1c8(root);}return {first:_1c2,last:last,lowest:_1c4,highest:_1c6};};dijit.getFirstInTabbingOrder=function(root){var _1ce=dijit._getTabNavigable(dojo.byId(root));return _1ce.lowest?_1ce.lowest:_1ce.first;};dijit.getLastInTabbingOrder=function(root){var _1d0=dijit._getTabNavigable(dojo.byId(root));return _1d0.last?_1d0.last:_1d0.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_1d1){this.pairs=[];this.returnWrappers=_1d1||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_1d3,wrap,_1d5,_1d6){this.pairs[((_1d6)?"unshift":"push")]([name,_1d3,wrap,_1d5]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _1dc=dojo.global;var _1dd=dojo.doc;var w=0,h=0;var de=_1dd.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(dojo.isMozilla){var minw,minh,maxw,maxh;var dbw=_1dd.body.clientWidth;if(dbw>dew){minw=dew;maxw=dbw;}else{maxw=dew;minw=dbw;}var dbh=_1dd.body.clientHeight;if(dbh>deh){minh=deh;maxh=dbh;}else{maxh=deh;minh=dbh;}w=(maxw>_1dc.innerWidth)?minw:maxw;h=(maxh>_1dc.innerHeight)?minh:maxh;}else{if(!dojo.isOpera&&_1dc.innerWidth){w=_1dc.innerWidth;h=_1dc.innerHeight;}else{if(dojo.isIE&&de&&deh){w=dew;h=deh;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _1e9=dojo._docScroll();return {w:w,h:h,l:_1e9.x,t:_1e9.y};};dijit.placeOnScreen=function(node,pos,_1ec,_1ed){var _1ee=dojo.map(_1ec,function(_1ef){return {corner:_1ef,pos:pos};});return dijit._place(node,_1ee);};dijit._place=function(node,_1f1,_1f2){var view=dijit.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_1f1,function(_1f5){var _1f6=_1f5.corner;var pos=_1f5.pos;if(_1f2){_1f2(node,_1f5.aroundCorner,_1f6);}var _1f8=node.style;var _1f9=_1f8.display;var _1fa=_1f8.visibility;_1f8.visibility="hidden";_1f8.display="";var mb=dojo.marginBox(node);_1f8.display=_1f9;_1f8.visibility=_1fa;var _1fc=(_1f6.charAt(1)=="L"?pos.x:Math.max(view.l,pos.x-mb.w)),_1fd=(_1f6.charAt(0)=="T"?pos.y:Math.max(view.t,pos.y-mb.h)),endX=(_1f6.charAt(1)=="L"?Math.min(view.l+view.w,_1fc+mb.w):pos.x),endY=(_1f6.charAt(0)=="T"?Math.min(view.t+view.h,_1fd+mb.h):pos.y),_200=endX-_1fc,_201=endY-_1fd,_202=(mb.w-_200)+(mb.h-_201);if(best==null||_202<best.overflow){best={corner:_1f6,aroundCorner:_1f5.aroundCorner,x:_1fc,y:_1fd,w:_200,h:_201,overflow:_202};}return !_202;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_1f2){_1f2(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_204,_205,_206){_204=dojo.byId(_204);var _207=_204.style.display;_204.style.display="";var _208=_204.offsetWidth;var _209=_204.offsetHeight;var _20a=dojo.coords(_204,true);_204.style.display=_207;return dijit._placeOnScreenAroundRect(node,_20a.x,_20a.y,_208,_209,_205,_206);};dijit.placeOnScreenAroundRectangle=function(node,_20c,_20d,_20e){return dijit._placeOnScreenAroundRect(node,_20c.x,_20c.y,_20c.width,_20c.height,_20d,_20e);};dijit._placeOnScreenAroundRect=function(node,x,y,_212,_213,_214,_215){var _216=[];for(var _217 in _214){_216.push({aroundCorner:_217,corner:_214[_217],pos:{x:x+(_217.charAt(1)=="L"?0:_212),y:y+(_217.charAt(0)=="T"?0:_213)}});}return dijit._place(node,_216,_215);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_21d,_21e,_21f){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _222=[],_223=1000,_224=1;this.prepare=function(node){dojo.body().appendChild(node);var s=node.style;if(s.display=="none"){s.display="";}s.visibility="hidden";s.position="absolute";s.top="-9999px";};this.open=function(args){var _228=args.popup,_229=args.orient||{"BL":"TL","TL":"BL"},_22a=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_224++);var _22c=dojo.doc.createElement("div");dijit.setWaiRole(_22c,"presentation");_22c.id=id;_22c.className="dijitPopup";_22c.style.zIndex=_223+_222.length;_22c.style.left=_22c.style.top="0px";_22c.style.visibility="hidden";if(args.parent){_22c.dijitPopupParent=args.parent.id;}dojo.body().appendChild(_22c);var s=_228.domNode.style;s.display="";s.visibility="";s.position="";_22c.appendChild(_228.domNode);var _22e=new dijit.BackgroundIframe(_22c);var best=_22a?dijit.placeOnScreenAroundElement(_22c,_22a,_229,_228.orient?dojo.hitch(_228,"orient"):null):dijit.placeOnScreen(_22c,args,_229=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_22c.style.visibility="visible";var _230=[];var _231=function(){for(var pi=_222.length-1;pi>0&&_222[pi].parent===_222[pi-1].widget;pi--){}return _222[pi];};_230.push(dojo.connect(_22c,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _234=_231();if(_234&&_234.onCancel){_234.onCancel();}}}}));if(_228.onCancel){_230.push(dojo.connect(_228,"onCancel",null,args.onCancel));}_230.push(dojo.connect(_228,_228.onExecute?"onExecute":"onChange",null,function(){var _235=_231();if(_235&&_235.onExecute){_235.onExecute();}}));_222.push({wrapper:_22c,iframe:_22e,widget:_228,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_230});if(_228.onOpen){_228.onOpen(best);}return best;};this.close=function(_236){while(dojo.some(_222,function(elem){return elem.widget==_236;})){var top=_222.pop(),_239=top.wrapper,_23a=top.iframe,_23b=top.widget,_23c=top.onClose;if(_23b.onClose){_23b.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_23b||!_23b.domNode){return;}this.prepare(_23b.domNode);_23a.destroy();dojo._destroyElement(_239);if(_23c){_23c();}}};}();dijit._frames=new function(){var _23d=[];this.pop=function(){var _23e;if(_23d.length){_23e=_23d.pop();_23e.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_23e=dojo.doc.createElement(html);}else{_23e=dojo.doc.createElement("iframe");_23e.src="javascript:\"\"";_23e.className="dijitBackgroundIframe";}_23e.tabIndex=-1;dojo.body().appendChild(_23e);}return _23e;};this.push=function(_241){_241.style.display="";if(dojo.isIE){_241.style.removeExpression("width");_241.style.removeExpression("height");}_23d.push(_241);};}();if(dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _244=dijit._frames.pop();node.appendChild(_244);if(dojo.isIE){_244.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetWidth");_244.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+node.id+"').offsetHeight");}this.iframe=_244;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node){node=dojo.byId(node);var body=node.ownerDocument.body;var html=body.parentNode;if(dojo.isFF==2||node==body||node==html){node.scrollIntoView(false);return;}var rtl=!dojo._isBodyLtr();var _249=dojo.doc.compatMode!="BackCompat";var _24a=(_249&&!dojo.isSafari)?html:body;function addPseudoAttrs(_24b){var _24c=_24b.parentNode;var _24d=_24b.offsetParent;if(_24d==null){_24b=_24a;_24d=html;_24c=null;}_24b._offsetParent=(_24d==body)?_24a:_24d;_24b._parent=(_24c==body)?_24a:_24c;_24b._start={H:_24b.offsetLeft,V:_24b.offsetTop};_24b._scroll={H:_24b.scrollLeft,V:_24b.scrollTop};_24b._renderedSize={H:_24b.offsetWidth,V:_24b.offsetHeight};var bp=dojo._getBorderExtents(_24b);_24b._borderStart={H:bp.l,V:bp.t};_24b._borderSize={H:bp.w,V:bp.h};_24b._clientSize=(_24b._offsetParent==html&&dojo.isSafari&&_249)?{H:html.clientWidth,V:html.clientHeight}:{H:_24b.clientWidth,V:_24b.clientHeight};_24b._scrollBarSize={V:null,H:null};for(var dir in _24b._scrollBarSize){var _250=_24b._renderedSize[dir]-_24b._clientSize[dir]-_24b._borderSize[dir];_24b._scrollBarSize[dir]=(_24b._clientSize[dir]>0&&_250>=15&&_250<=17)?_250:0;}_24b._isScrollable={V:null,H:null};for(dir in _24b._isScrollable){var _251=dir=="H"?"V":"H";_24b._isScrollable[dir]=_24b==_24a||_24b._scroll[dir]||_24b._scrollBarSize[_251];}};var _252=node;while(_252!=null){addPseudoAttrs(_252);var next=_252._parent;if(next){next._child=_252;}_252=next;}for(var dir in _24a._renderedSize){_24a._renderedSize[dir]=Math.min(_24a._clientSize[dir],_24a._renderedSize[dir]);}var _255=node;while(_255!=_24a){_252=_255._parent;if(_252.tagName=="TD"){var _256=_252._parent._parent._parent;if(_256._offsetParent==_255._offsetParent&&_252._offsetParent!=_255._offsetParent){_252=_256;}}var _257=_255==_24a||(_252._offsetParent!=_255._offsetParent);for(dir in _255._start){var _258=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(dojo.isSafari||dojo.isIE)&&_252._clientSize.H>0){var _259=_252.scrollWidth-_252._clientSize.H;if(_259>0){_252._scroll.H-=_259;}}if(dojo.isIE&&_252._offsetParent.tagName=="TABLE"){_252._start[dir]-=_252._offsetParent._borderStart[dir];_252._borderStart[dir]=_252._borderSize[dir]=0;}if(_252._clientSize[dir]==0){_252._renderedSize[dir]=_252._clientSize[dir]=_252._child._clientSize[dir];if(rtl&&dir=="H"){_252._start[dir]-=_252._renderedSize[dir];}}else{_252._renderedSize[dir]-=_252._borderSize[dir]+_252._scrollBarSize[dir];}_252._start[dir]+=_252._borderStart[dir];var _25a=_255._start[dir]-(_257?0:_252._start[dir])-_252._scroll[dir];var _25b=_25a+_255._renderedSize[dir]-_252._renderedSize[dir];var _25c,_25d=(dir=="H")?"scrollLeft":"scrollTop";var _25e=(dir=="H"&&rtl);var _25f=_25e?-_25b:_25a;var _260=_25e?-_25a:_25b;if(_25f<=0){_25c=_25f;}else{if(_260<=0){_25c=0;}else{if(_25f<_260){_25c=_25f;}else{_25c=_260;}}}var _261=0;if(_25c!=0){var _262=_252[_25d];_252[_25d]+=_25e?-_25c:_25c;_261=_252[_25d]-_262;_25a-=_261;_260-=_25e?-_261:_261;}_252._renderedSize[dir]=_255._renderedSize[dir]+_252._scrollBarSize[dir]-((_252._isScrollable[dir]&&_260>0)?_260:0);_252._start[dir]+=(_25a>=0||!_252._isScrollable[dir])?_25a:0;}_255=_252;}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _265=d.isOpera;var maj=Math.floor;var ff=d.isFF;var _268=d.boxModel.replace(/-/,"");var _269={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_265,dj_opera8:maj(_265)==8,dj_opera9:maj(_265)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_269["dj_"+_268]=true;var html=dojo.doc.documentElement;for(var p in _269){if(_269[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _269){if(_269[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_26e,node,_270,obj,_272,_273){if(obj!=this._obj){this.stop();this._initialDelay=_273||500;this._subsequentDelay=_272||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_26e,_270);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_275,_276,_277,_278,_279){if(_275.keyCode){_275.charOrCode=_275.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_275.charCode){_275.charOrCode=String.fromCharCode(_275.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_275.charOrCode&&(_275.ctrlKey===undefined||_275.ctrlKey==evt.ctrlKey)&&(_275.altKey===undefined||_275.altKey==evt.ctrlKey)&&(_275.shiftKey===undefined||_275.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_275,_276,node,_277,_275,_278,_279);}else{if(dijit.typematic._obj==_275){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_275){dijit.typematic.stop();}})];},addMouseListener:function(node,_27d,_27e,_27f,_280){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_27d,node,_27e,node,_27f,_280);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_27d,node,_27e,node,_27f,_280);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_287,_288,_289,_28a,_28b,_28c,_28d){return this.addKeyListener(_288,_289,_28a,_28b,_28c,_28d).concat(this.addMouseListener(_287,_28a,_28b,_28c,_28d));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.doc.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");";dojo.body().appendChild(div);var cs=dojo.getComputedStyle(div);if(cs){var _290=cs.backgroundImage;var _291=(cs.borderTopColor==cs.borderRightColor)||(_290!=null&&(_290=="none"||_290=="url(invalid-url:)"));dojo[_291?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _294=this.getWaiRole(elem);if(role){return (_294.indexOf(role)>-1);}else{return (_294.length>0);}},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _298=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_298)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_298+" ").indexOf(" "+role+" ")<0){var _299=dojo.trim(_298.replace(this._XhtmlRoles,""));var _29a=dojo.trim(_298.replace(_299,""));dojo.attr(elem,"role",_29a+(_29a?" ":"")+role);}}},removeWaiRole:function(elem,role){var _29d=dojo.attr(elem,"role");if(!_29d){return;}if(role){var _29e=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_29d+" ").replace(" "+_29e+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_2a1){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_2a1);}else{return elem.hasAttribute?elem.hasAttribute("aria-"+_2a1):!!elem.getAttribute("aria-"+_2a1);}},getWaiState:function(elem,_2a3){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_2a3);}else{var _2a4=elem.getAttribute("aria-"+_2a3);return _2a4?_2a4:"";}},setWaiState:function(elem,_2a6,_2a7){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_2a6,_2a7);}else{elem.setAttribute("aria-"+_2a6,_2a7);}},removeWaiState:function(elem,_2a9){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_2a9);}else{elem.removeAttribute("aria-"+_2a9);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_2aa,_2ab){if(_2aa&&dojo.isFunction(_2aa._onConnect)){_2aa._onConnect(_2ab);}});dijit._connectOnUseEventHandler=function(_2ac){};(function(){var _2ad={};var _2ae=function(dc){if(!_2ad[dc]){var r=[];var _2b1;var _2b2=dojo.getObject(dc).prototype;for(var _2b3 in _2b2){if(dojo.isFunction(_2b2[_2b3])&&(_2b1=_2b3.match(/^_set([a-zA-Z]*)Attr$/))&&_2b1[1]){r.push(_2b1[1].charAt(0).toLowerCase()+_2b1[1].substr(1));}}_2ad[dc]=r;}return _2ad[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function(_2b4,_2b5){this.create(_2b4,_2b5);},create:function(_2b6,_2b7){this.srcNodeRef=dojo.byId(_2b7);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_2b6){this.params=_2b6;dojo.mixin(this,_2b6);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _2b9=function(attr,_2bb){if((_2bb.params&&attr in _2bb.params)||_2bb[attr]){_2bb.attr(attr,_2bb[attr]);}};for(var attr in this.attributeMap){_2b9(attr,this);}dojo.forEach(_2ae(this.declaredClass),function(a){if(!(a in this.attributeMap)){_2b9(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.doc.createElement("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_2be){this.destroyDescendants(_2be);this.destroy(_2be);},destroy:function(_2bf){this.uninitialize();dojo.forEach(this._connects,function(_2c0){dojo.forEach(_2c0,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_2bf);dijit.registry.remove(this.id);},destroyRendering:function(_2c2){if(this.bgIframe){this.bgIframe.destroy(_2c2);delete this.bgIframe;}if(this.domNode){if(!_2c2){dojo._destroyElement(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_2c2){dojo._destroyElement(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_2c3){dojo.forEach(this.getDescendants(),function(_2c4){if(_2c4.destroy){_2c4.destroy(_2c3);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_2c6){if(_2c6 in this._deferredConnects){var _2c7=this[this._deferredConnects[_2c6]||"domNode"];this.connect(_2c7,_2c6.toLowerCase(),this[_2c6]);delete this._deferredConnects[_2c6];}},_setClassAttr:function(_2c8){var _2c9=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_2c9,this["class"]);this["class"]=_2c8;dojo.addClass(_2c9,_2c8);},_setStyleAttr:function(_2ca){var _2cb=this[this.attributeMap["style"]||"domNode"];if(_2cb.style.cssText){_2cb.style.cssText+="; "+_2ca;}else{_2cb.style.cssText=_2ca;}this["style"]=_2ca;},setAttribute:function(attr,_2cd){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_2cd);},_attrToDom:function(attr,_2cf){var _2d0=this.attributeMap[attr];dojo.forEach(dojo.isArray(_2d0)?_2d0:[_2d0],function(_2d1){var _2d2=this[_2d1.node||_2d1||"domNode"];var type=_2d1.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_2cf)){_2cf=dojo.hitch(this,_2cf);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_2d2,attr,_2cf);break;case "innerHTML":_2d2.innerHTML=_2cf;break;case "class":dojo.removeClass(_2d2,this[attr]);dojo.addClass(_2d2,_2cf);break;}},this);this[attr]=_2cf;},attr:function(name,_2d5){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _2d8=this._getAttrNames(name);if(args==2){if(this[_2d8.s]){return this[_2d8.s](_2d5)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_2d5);}this[name]=_2d5;}return this;}else{if(this[_2d8.g]){return this[_2d8.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_2de,_2df){var d=dojo;var dco=d.hitch(d,"connect",obj);var _2e2=[];if(_2de=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_2df);_2e2.push(dco("onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dco("onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE){return m(e);}}));if(d.isFF){_2e2.push(dco("onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER){return m(e);}}));}}_2de="onclick";}_2e2.push(dco(_2de,this,_2df));this._connects.push(_2e2);return _2e2;},disconnect:function(_2e7){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_2e7){dojo.forEach(_2e7,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_2e9,_2ea){if(_2e9["declaredClass"]&&_2e9["addChild"]){_2e9.addChild(this,_2ea);}else{dojo.place(this.domNode,_2e9,_2ea);}return this;}});})();}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _2ed=dijit.byId(id);return _2ed.isContainer?_2ed:null;}}return null;},_getSibling:function(_2ee){var node=this.domNode;do{node=node[_2ee+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_2f2,_2f3){var _2f4=this.containerNode;if(_2f3&&typeof _2f3=="number"){var _2f5=dojo.query("> [widgetId]",_2f4);if(_2f5&&_2f5.length>=_2f3){_2f4=_2f5[_2f3-1];_2f3="after";}}dojo.place(_2f2.domNode,_2f4,_2f3);if(this._started&&!_2f2._started){_2f2.startup();}},removeChild:function(_2f6){if(typeof _2f6=="number"&&_2f6>0){_2f6=this.getChildren()[_2f6];}if(!_2f6||!_2f6.domNode){return;}var node=_2f6.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return !!this._firstElement(this.containerNode);},destroyDescendants:function(_2fa){dojo.forEach(this.getChildren(),function(_2fb){_2fb.destroyRecursive(_2fa);});},_getSiblingOfChild:function(_2fc,dir){var node=_2fc.domNode;var _2ff=(dir>0?"nextSibling":"previousSibling");do{node=node[_2ff];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function(_300){var _301=this.getChildren();for(var i=0,c;c=_301[i];i++){if(c==_300){return i;}}return -1;}});dojo.declare("dijit._KeyNavContainer",[dijit._Container],{_keyNavCodes:{},connectKeyNavHandlers:function(_304,_305){var _306=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_304,function(code){_306[code]=prev;});dojo.forEach(_305,function(code){_306[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_30b,_30c){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_30b);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _30d=this._getNextFocusableChild(this.focusedChild,1);if(_30d.getFocalNodes){this.focusChild(_30d,_30d.getFocalNodes()[0]);}else{this.focusChild(_30d);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _30e=this._getNextFocusableChild(this.focusedChild,-1);if(_30e.getFocalNodes){var _30f=_30e.getFocalNodes();this.focusChild(_30e,_30f[_30f.length-1]);}else{this.focusChild(_30e);}},focusChild:function(_310,node){if(_310){if(this.focusedChild&&_310!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_310;if(node&&_310.focusFocalNode){_310.focusFocalNode(node);}else{_310.focus();}}},_startupChild:function(_312){if(_312.getFocalNodes){dojo.forEach(_312.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_312.focusNode||_312.domNode;if(_312.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target===this.domNode){this.focusFirstChild();}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){dojo.attr(this.domNode,"tabindex",-1);var _31a=dijit.getEnclosingWidget(evt.target);if(_31a&&_31a.isFocusable()){this.focusedChild=_31a;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}dojo.stopEvent(evt);},_onChildBlur:function(_31c){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_31d,dir){if(_31d){_31d=this._getSiblingOfChild(_31d,dir);}var _31f=this.getChildren();for(var i=0;i<_31f.length;i++){if(!_31d){_31d=_31f[(dir>0)?0:(_31f.length-1)];}if(_31d.isFocusable()){return _31d;}_31d=this._getSiblingOfChild(_31d,dir);}return null;}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_321){_321.startup();});if(!this.getParent||!this.getParent()){this.resize();this.connect(dojo.global,"onresize","resize");}this.inherited(arguments);},resize:function(_322,_323){var node=this.domNode;if(_322){dojo.marginBox(node,_322);if(_322.t){node.style.top=_322.t+"px";}if(_322.l){node.style.left=_322.l+"px";}}var mb=_323||{};dojo.mixin(mb,_322||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)};var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_32b){if(_32b.baseClass){dojo.addClass(_32b.domNode,this.baseClass+"-"+_32b.baseClass);}},addChild:function(_32c,_32d){this.inherited(arguments);if(this._started){this._setupChild(_32c);}},removeChild:function(_32e){if(_32e.baseClass){dojo.removeClass(_32e.domNode,this.baseClass+"-"+_32e.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _334=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_337,dim){_337.resize?_337.resize(dim):dojo.marginBox(_337.domNode,dim);dojo.mixin(_337,dojo.marginBox(_337.domNode));dojo.mixin(_337,dim);};dijit.layout.layoutChildren=function(_339,dim,_33b){dim=dojo.mixin({},dim);dojo.addClass(_339,"dijitLayoutContainer");_33b=dojo.filter(_33b,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_33b,function(item){return item.layoutAlign=="client";}));dojo.forEach(_33b,function(_33e){var elm=_33e.domNode,pos=_33e.layoutAlign;var _341=elm.style;_341.left=dim.l+"px";_341.top=dim.t+"px";_341.bottom=_341.right="auto";dojo.addClass(elm,"dijitAlign"+_334(pos));if(pos=="top"||pos=="bottom"){size(_33e,{w:dim.w});dim.h-=_33e.h;if(pos=="top"){dim.t+=_33e.h;}else{_341.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_33e,{h:dim.h});dim.w-=_33e.w;if(pos=="left"){dim.l+=_33e.w;}else{_341.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_33e,dim);}}}});};})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_34b,map,_34d,_34e){_34e=_34e||dojo.global;_34d=(!_34d)?function(v){return v;}:dojo.hitch(_34e,_34d);return _34b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_350,key,_352){var _353=dojo.getObject(key,false,map);if(_352){_353=dojo.getObject(_352,false,_34e).call(_34e,_353,key);}return _34d(_353,key).toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var _356=0;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=function(node){while(node.firstChild){dojo._destroyElement(node.firstChild);}};dojo.html._setNodeContent=function(node,cont,_35b){if(_35b){dojo.html._emptyNode(node);}if(typeof cont=="string"){var pre="",post="",walk=0,name=node.nodeName.toLowerCase();switch(name){case "tr":pre="<tr>";post="</tr>";walk+=1;case "tbody":case "thead":pre="<tbody>"+pre;post+="</tbody>";walk+=1;case "table":pre="<table>"+pre;post+="</table>";walk+=1;break;}if(walk){var n=node.ownerDocument.createElement("div");n.innerHTML=pre+cont+post;do{n=n.firstChild;}while(--walk);dojo.forEach(n.childNodes,function(n){node.appendChild(n.cloneNode(true));});}else{node.innerHTML=cont;}}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(_363,node){dojo.mixin(this,_363||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_356++].join("_");}if(!(this.node||node)){new Error(this.declaredClass+": no node provided to "+this.id);}},set:function(cont,_366){if(undefined!==cont){this.content=cont;}if(_366){this._mixin(_366);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){console.error("setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _368=this.onContentError(e);try{node.innerHTML=_368;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _36b=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_36b){cont=_36b[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_36d){var _36e={},key;for(key in _36d){if(key in _36e){continue;}this[key]=_36d[key];}},_parse:function(){var _370=this.node;try{this.parseResults=dojo.parser.parse(_370,true);}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_373){var _374=this["on"+type+"Error"].call(this,err);if(_373){console.error(_373,err);}else{if(_374){dojo.html._setNodeContent(this.node,_374,true);}}}});dojo.html.set=function(node,cont,_377){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_377){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_377,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_379,_37a,_37b){_37b=dojo.i18n.normalizeLocale(_37b);var _37c=_37b.split("-");var _37d=[_379,"nls",_37a].join(".");var _37e=dojo._loadedModules[_37d];if(_37e){var _37f;for(var i=_37c.length;i>0;i--){var loc=_37c.slice(0,i).join("_");if(_37e[loc]){_37f=_37e[loc];break;}}if(!_37f){_37f=_37e.ROOT;}if(_37f){var _382=function(){};_382.prototype=_37f;return new _382();}}throw new Error("Bundle not found: "+_37a+" in "+_379+" , locale="+_37b);};dojo.i18n.normalizeLocale=function(_383){var _384=_383?_383.toLowerCase():dojo.locale;if(_384=="root"){_384="ROOT";}return _384;};dojo.i18n._requireLocalization=function(_385,_386,_387,_388){var _389=dojo.i18n.normalizeLocale(_387);var _38a=[_385,"nls",_386].join(".");var _38b="";if(_388){var _38c=_388.split(",");for(var i=0;i<_38c.length;i++){if(_389["indexOf"](_38c[i])==0){if(_38c[i].length>_38b.length){_38b=_38c[i];}}}if(!_38b){_38b="ROOT";}}var _38e=_388?_38b:_389;var _38f=dojo._loadedModules[_38a];var _390=null;if(_38f){if(dojo.config.localizationComplete&&_38f._built){return;}var _391=_38e.replace(/-/g,"_");var _392=_38a+"."+_391;_390=dojo._loadedModules[_392];}if(!_390){_38f=dojo["provide"](_38a);var syms=dojo._getModuleSymbols(_385);var _394=syms.concat("nls").join("/");var _395;dojo.i18n._searchLocalePath(_38e,_388,function(loc){var _397=loc.replace(/-/g,"_");var _398=_38a+"."+_397;var _399=false;if(!dojo._loadedModules[_398]){dojo["provide"](_398);var _39a=[_394];if(loc!="ROOT"){_39a.push(loc);}_39a.push(_386);var _39b=_39a.join("/")+".js";_399=dojo._loadPath(_39b,null,function(hash){var _39d=function(){};_39d.prototype=_395;_38f[_397]=new _39d();for(var j in hash){_38f[_397][j]=hash[j];}});}else{_399=true;}if(_399&&_38f[_397]){_395=_38f[_397];}else{_38f[_397]=_395;}if(_388){return true;}});}if(_388&&_389!=_38b){_38f[_389.replace(/-/g,"_")]=_38f[_38b.replace(/-/g,"_")];}};(function(){var _39f=dojo.config.extraLocale;if(_39f){if(!_39f instanceof Array){_39f=[_39f];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_3a3,_3a4){req(m,b,_3a3,_3a4);if(_3a3){return;}for(var i=0;i<_39f.length;i++){req(m,b,_39f[i],_3a4);}};}})();dojo.i18n._searchLocalePath=function(_3a6,down,_3a8){_3a6=dojo.i18n.normalizeLocale(_3a6);var _3a9=_3a6.split("-");var _3aa=[];for(var i=_3a9.length;i>0;i--){_3aa.push(_3a9.slice(0,i).join("-"));}_3aa.push(false);if(down){_3aa.reverse();}for(var j=_3aa.length-1;j>=0;j--){var loc=_3aa[j]||"ROOT";var stop=_3a8(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_3af,_3b0){function preload(_3b1){_3b1=dojo.i18n.normalizeLocale(_3b1);dojo.i18n._searchLocalePath(_3b1,true,function(loc){for(var i=0;i<_3b0.length;i++){if(_3b0[i]==loc){dojo["require"](_3af+"_"+loc);return true;}}return false;});};preload();var _3b4=dojo.config.extraLocale||[];for(var i=0;i<_3b4.length;i++){preload(_3b4[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,_isRealContent:true,postMixInProperties:function(){this.inherited(arguments);var _3b6=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_3b6);this.errorMessage=dojo.string.substitute(this.errorMessage,_3b6);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},postCreate:function(){this.domNode.title="";if(!dijit.hasWaiRole(this.domNode)){dijit.setWaiRole(this.domNode,"group");}dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}if(this.doLayout!="false"&&this.doLayout!==false){this._checkIfSingleChild();if(this._singleChild){this._singleChild.startup();}}this._loadCheck();this.inherited(arguments);},_checkIfSingleChild:function(){var _3b7=dojo.query(">",this.containerNode),_3b8=_3b7.filter(function(node){return dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_3ba=dojo.filter(_3b8.map(dijit.byNode),function(_3bb){return _3bb&&_3bb.domNode&&_3bb.resize;});if(_3b7.length==_3b8.length&&_3ba.length==1){this.isContainer=true;this._singleChild=_3ba[0];}else{delete this.isContainer;delete this._singleChild;}},refresh:function(){return this._prepareLoad(true);},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated.\tUse attr('href', ...) instead.","","2.0");return this.attr("href",href);},_setHrefAttr:function(href){this.href=href;if(this._created){return this._prepareLoad();}},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",data);},_setContentAttr:function(data){this.href="";this.cancel();this._setContent(data||"");this._isDownloaded=false;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},destroyRecursive:function(_3c0){if(this._beingDestroyed){return;}this._beingDestroyed=true;this.inherited(arguments);},resize:function(size){dojo.marginBox(this.domNode,size);var node=this.containerNode,mb=dojo.mixin(dojo.marginBox(node),size||{});var cb=this._contentBox=dijit.layout.marginBox2contentBox(node,mb);if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:cb.w,h:cb.h});}},_prepareLoad:function(_3c5){this.cancel();this.isLoaded=false;this._loadCheck(_3c5);},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden");}},_loadCheck:function(_3c7){var _3c8=this._isShown();if(this.href&&(_3c7||(this.preload&&!this.isLoaded&&!this._xhrDfd)||(this.refreshOnShow&&_3c8&&!this._xhrDfd)||(!this.isLoaded&&_3c8&&!this._xhrDfd))){this._downloadExternalContent();}},_downloadExternalContent:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _3ca={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_3ca,this.ioArgs);}var hand=this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_3ca);hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.cancelled){self._onError("Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function(data){this.isLoaded=true;try{this.onLoad(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code");}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code");}},destroyDescendants:function(){if(this._isRealContent){this._onUnloadHandler();}var _3cf=this._contentSetter;if(_3cf){_3cf.empty();}else{this.inherited(arguments);dojo.html._emptyNode(this.containerNode);}},_setContent:function(cont,_3d1){this.destroyDescendants();this._isRealContent=!_3d1;var _3d2=this._contentSetter;if(!(_3d2&&_3d2 instanceof dojo.html._ContentSetter)){_3d2=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _3d4=this.onContentError(e);try{this.containerNode.innerHTML=_3d4;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _3d5=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(_3d2,_3d5);_3d2.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont);delete this._contentSetterParams;if(!_3d1){if(this.doLayout!="false"&&this.doLayout!==false){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.startup();var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}}this._onLoadHandler(cont);}},_onError:function(type,err,_3d9){var _3da=this["on"+type+"Error"].call(this,err);if(_3d9){console.error(_3d9,err);}else{if(_3da){this._setContent(_3da,true);}}},_createSubWidgets:function(){try{dojo.parser.parse(this.containerNode,true);}catch(e){this._onError("Content",e,"Couldn't create widgets in "+this.id+(this.href?" from "+this.href:""));}},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_3dc){},onDownloadError:function(_3dd){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_3df){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_3df&&_3df.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_3e3){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_3e3);};dojo.regexp.group=function(_3e6,_3e7){return "("+(_3e7?"?:":"")+_3e6+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_3e9,_3ea){var c=document.cookie;if(arguments.length==1){var _3ec=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _3ec?decodeURIComponent(_3ec[1]):undefined;}else{_3ea=_3ea||{};var exp=_3ea.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_3ea.expires=d;}if(exp&&exp.toUTCString){_3ea.expires=exp.toUTCString();}_3e9=encodeURIComponent(_3e9);var _3ef=name+"="+_3e9,_3f0;for(_3f0 in _3ea){_3ef+="; "+_3f0;var _3f1=_3ea[_3f0];if(_3f1!==true){_3ef+="="+_3f1;}}document.cookie=_3ef;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function(tmpl){var _3f3=this.declaredClass,_3f4=this;return dojo.string.substitute(tmpl,this,function(_3f5,key){if(key.charAt(0)=="!"){_3f5=_3f4[key.substr(1)];}if(typeof _3f5=="undefined"){throw new Error(_3f3+" template:"+key);}if(_3f5==null){return "";}return key.charAt(0)=="!"?_3f5:_3f5.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _3f7=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_3f7)){node=dijit._Templated._createNodesFromText(this._stringRepl(_3f7))[0];}else{node=_3f7.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);var _3f9=this.srcNodeRef;if(_3f9&&_3f9.parentNode){_3f9.parentNode.replaceChild(node,_3f9);}if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(_3f9);},_fillContent:function(_3fd){var dest=this.containerNode;if(_3fd&&dest){while(_3fd.hasChildNodes()){dest.appendChild(_3fd.firstChild);}}},_attachTemplateNodes:function(_3ff,_400){_400=_400||function(n,p){return n.getAttribute(p);};var _403=dojo.isArray(_3ff)?_3ff:(_3ff.all||_3ff.getElementsByTagName("*"));var x=dojo.isArray(_3ff)?0:-1;var _405={};for(;x<_403.length;x++){var _406=(x==-1)?_3ff:_403[x];if(this.widgetsInTemplate&&_400(_406,"dojoType")){continue;}var _407=_400(_406,"dojoAttachPoint");if(_407){var _408,_409=_407.split(/\s*,\s*/);while((_408=_409.shift())){if(dojo.isArray(this[_408])){this[_408].push(_406);}else{this[_408]=_406;}}}var _40a=_400(_406,"dojoAttachEvent");if(_40a){var _40b,_40c=_40a.split(/\s*,\s*/);var trim=dojo.trim;while((_40b=_40c.shift())){if(_40b){var _40e=null;if(_40b.indexOf(":")!=-1){var _40f=_40b.split(":");_40b=trim(_40f[0]);_40e=trim(_40f[1]);}else{_40b=trim(_40b);}if(!_40e){_40e=_40b;}this.connect(_406,_40b,_40e);}}}var role=_400(_406,"waiRole");if(role){dijit.setWaiRole(_406,role);}var _411=_400(_406,"waiState");if(_411){dojo.forEach(_411.split(/\s*,\s*/),function(_412){if(_412.indexOf("-")!=-1){var pair=_412.split("-");dijit.setWaiState(_406,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_414,_415,_416){var _417=dijit._Templated._templateCache;var key=_415||_414;var _419=_417[key];if(_419){if(!_419.ownerDocument||_419.ownerDocument==dojo.doc){return _419;}dojo._destroyElement(_419);}if(!_415){_415=dijit._Templated._sanitizeTemplateString(dojo._getText(_414));}_415=dojo.string.trim(_415);if(_416||_415.match(/\$\{([^\}]+)\}/g)){return (_417[key]=_415);}else{return (_417[key]=dijit._Templated._createNodesFromText(_415)[0]);}};dijit._Templated._sanitizeTemplateString=function(_41a){if(_41a){_41a=_41a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _41b=_41a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_41b){_41a=_41b[1];}}else{_41a="";}return _41a;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _41c=dijit._Templated._templateCache;for(var key in _41c){var _41e=_41c[key];if(!isNaN(_41e.nodeType)){dojo._destroyElement(_41e);}delete _41c[key];}});}(function(){var _41f={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(tn&&tn.ownerDocument!=dojo.doc){dojo._destroyElement(tn);tn=undefined;}if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _422="none";var _423=text.replace(/^\s+/,"");for(var type in _41f){var map=_41f[type];if(map.re.test(_423)){_422=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_422];var _427=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _428=[];while(_427.firstChild){_428.push(_427.removeChild(_427.firstChild));}tn.innerHTML="";return _428;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_429){var _42a=_429.region;if(_42a){this.inherited(arguments);dojo.addClass(_429.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_42a=="leading"){_42a=ltr?"left":"right";}if(_42a=="trailing"){_42a=ltr?"right":"left";}this["_"+_42a]=_429.domNode;this["_"+_42a+"Widget"]=_429;if((_429.splitter||this.gutters)&&!this._splitters[_42a]){var _42c=dojo.getObject(_429.splitter?this._splitterClass:"dijit.layout._Gutter");var flip={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"};var _42e=new _42c({container:this,child:_429,region:_42a,oppNode:dojo.query("[region="+flip[_429.region]+"]",this.domNode)[0],live:this.liveSplitters});_42e.isSplitter=true;this._splitters[_42a]=_42e.domNode;dojo.place(this._splitters[_42a],_429.domNode,"after");_42e.startup();}_429.region=_42a;}},_computeSplitterThickness:function(_42f){this._splitterThickness[_42f]=this._splitterThickness[_42f]||dojo.marginBox(this._splitters[_42f])[(/top|bottom/.test(_42f)?"h":"w")];},layout:function(){for(var _430 in this._splitters){this._computeSplitterThickness(_430);}this._layoutChildren();},addChild:function(_431,_432){this.inherited(arguments);if(this._started){this._layoutChildren();}},removeChild:function(_433){var _434=_433.region;var _435=this._splitters[_434];if(_435){dijit.byNode(_435).destroy();delete this._splitters[_434];delete this._splitterThickness[_434];}this.inherited(arguments);delete this["_"+_434];delete this["_"+_434+"Widget"];if(this._started){this._layoutChildren(_433.region);}dojo.removeClass(_433.domNode,this.baseClass+"Pane");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(_436){return !_436.isSplitter;});},getSplitter:function(_437){var _438=this._splitters[_437];return _438?dijit.byNode(_438):null;},resize:function(_439,_43a){if(!this.cs||!this.pe){var node=this.domNode;this.cs=dojo.getComputedStyle(node);this.pe=dojo._getPadExtents(node,this.cs);this.pe.r=dojo._toPixelValue(node,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(node,this.cs.paddingBottom);dojo.style(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_43c){var _43d=(this.design=="sidebar");var _43e=0,_43f=0,_440=0,_441=0;var _442={},_443={},_444={},_445={},_446=(this._center&&this._center.style)||{};var _447=/left|right/.test(_43c);var _448=!_43c||(!_447&&!_43d);var _449=!_43c||(_447&&_43d);if(this._top){_442=_449&&this._top.style;_43e=dojo.marginBox(this._top).h;}if(this._left){_443=_448&&this._left.style;_440=dojo.marginBox(this._left).w;}if(this._right){_444=_448&&this._right.style;_441=dojo.marginBox(this._right).w;}if(this._bottom){_445=_449&&this._bottom.style;_43f=dojo.marginBox(this._bottom).h;}var _44a=this._splitters;var _44b=_44a.top,_44c=_44a.bottom,_44d=_44a.left,_44e=_44a.right;var _44f=this._splitterThickness;var _450=_44f.top||0,_451=_44f.left||0,_452=_44f.right||0,_453=_44f.bottom||0;if(_451>50||_452>50){setTimeout(dojo.hitch(this,function(){this._splitterThickness={};for(var _454 in this._splitters){this._computeSplitterThickness(_454);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _456={left:(_43d?_440+_451:0)+pe.l+"px",right:(_43d?_441+_452:0)+pe.r+"px"};if(_44b){dojo.mixin(_44b.style,_456);_44b.style.top=_43e+pe.t+"px";}if(_44c){dojo.mixin(_44c.style,_456);_44c.style.bottom=_43f+pe.b+"px";}_456={top:(_43d?0:_43e+_450)+pe.t+"px",bottom:(_43d?0:_43f+_453)+pe.b+"px"};if(_44d){dojo.mixin(_44d.style,_456);_44d.style.left=_440+pe.l+"px";}if(_44e){dojo.mixin(_44e.style,_456);_44e.style.right=_441+pe.r+"px";}dojo.mixin(_446,{top:pe.t+_43e+_450+"px",left:pe.l+_440+_451+"px",right:pe.r+_441+_452+"px",bottom:pe.b+_43f+_453+"px"});var _457={top:_43d?pe.t+"px":_446.top,bottom:_43d?pe.b+"px":_446.bottom};dojo.mixin(_443,_457);dojo.mixin(_444,_457);_443.left=pe.l+"px";_444.right=pe.r+"px";_442.top=pe.t+"px";_445.bottom=pe.b+"px";if(_43d){_442.left=_445.left=_440+_451+pe.l+"px";_442.right=_445.right=_441+_452+pe.r+"px";}else{_442.left=_445.left=pe.l+"px";_442.right=_445.right=pe.r+"px";}var _458=this._borderBox.h-pe.t-pe.b,_459=_458-(_43e+_450+_43f+_453),_45a=_43d?_458:_459;var _45b=this._borderBox.w-pe.l-pe.r,_45c=_45b-(_440+_451+_441+_452),_45d=_43d?_45c:_45b;var dim={top:{w:_45d,h:_43e},bottom:{w:_45d,h:_43f},left:{w:_440,h:_45a},right:{w:_441,h:_45a},center:{h:_459,w:_45c}};var _45f=dojo.isIE||dojo.some(this.getChildren(),function(_460){return _460.domNode.tagName=="TEXTAREA"||_460.domNode.tagName=="INPUT";});if(_45f){var _461=function(_462,_463,_464){if(_462){(_462.resize?_462.resize(_463,_464):dojo.marginBox(_462.domNode,_463));}};if(_44d){_44d.style.height=_45a;}if(_44e){_44e.style.height=_45a;}_461(this._leftWidget,{h:_45a},dim.left);_461(this._rightWidget,{h:_45a},dim.right);if(_44b){_44b.style.width=_45d;}if(_44c){_44c.style.width=_45d;}_461(this._topWidget,{w:_45d},dim.top);_461(this._bottomWidget,{w:_45d},dim.bottom);_461(this._centerWidget,dim.center);}else{var _465={};if(_43c){_465[_43c]=_465.center=true;if(/top|bottom/.test(_43c)&&this.design!="sidebar"){_465.left=_465.right=true;}else{if(/left|right/.test(_43c)&&this.design=="sidebar"){_465.top=_465.bottom=true;}}}dojo.forEach(this.getChildren(),function(_466){if(_466.resize&&(!_43c||_466.region in _465)){_466.resize(null,dim[_466.region]);}},this);}},destroy:function(){for(region in this._splitters){var _467=this._splitters[region];dijit.byNode(_467).destroy();dojo._destroyElement(_467);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._minSize=this.child.minSize;this.child.domNode._recalc=true;this.connect(this.container,"resize",function(){this.child.domNode._recalc=true;});this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _468=dojo.cookie(this._cookieName);if(_468){this.child.domNode.style[this.horizontal?"height":"width"]=_468;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_46a=this.container._splitterThickness[this.region];var _46b=dojo.contentBox(this.container.domNode)[dim]-(this.oppNode?dojo.marginBox(this.oppNode)[dim]:0)-20-_46a*2;this._maxSize=Math.min(this.child.maxSize,_46b);},_startDrag:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}else{this.cover.style.zIndex=1;}if(this.fake){dojo._destroyElement(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive");var _46d=this._factor,max=this._maxSize,min=this._minSize||20,_470=this.horizontal,axis=_470?"pageY":"pageX",_472=e[axis],_473=this.domNode.style,dim=_470?"h":"w",_475=dojo.marginBox(this.child.domNode)[dim],_476=this.region,_477=parseInt(this.domNode.style[_476],10),_478=this._resize,mb={},_47a=this.child.domNode,_47b=dojo.hitch(this.container,this.container._layoutChildren),de=dojo.doc.body;this._handlers=(this._handlers||[]).concat([dojo.connect(de,"onmousemove",this._drag=function(e,_47e){var _47f=e[axis]-_472,_480=_46d*_47f+_475,_481=Math.max(Math.min(_480,max),min);if(_478||_47e){mb[dim]=_481;dojo.marginBox(_47a,mb);_47b(_476);}_473[_476]=_46d*_47f+_477+(_481-_480)+"px";}),dojo.connect(de,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(e);},_stopDrag:function(e){try{if(this.cover){this.cover.style.zIndex=-1;}if(this.fake){dojo._destroyElement(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive");dojo.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();if(this.oppNode){this.oppNode._recalc=true;}delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(e){if(this.child.domNode._recalc){this._computeMaxSize();this.child.domNode._recalc=false;}this._resize=true;var _484=this.horizontal;var tick=1;var dk=dojo.keys;switch(e.charOrCode){case _484?dk.UP_ARROW:dk.LEFT_ARROW:tick*=-1;case _484?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _487=dojo.marginBox(this.child.domNode)[_484?"h":"w"]+this._factor*tick;var mb={};mb[this.horizontal?"h":"w"]=Math.max(Math.min(_487,this._maxSize),this._minSize);dojo.marginBox(this.child.domNode,mb);if(this.oppNode){this.oppNode._recalc=true;}this.container._layoutChildren(this.region);dojo.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}dojo.i18n._preloadLocalizations("dojo.nls.jbrowse_dojo",["he","nl","tr","no","ko","el","en","en-gb","ROOT","zh-cn","hu","es","fi-fi","pt-br","ca","fi","he-il","xx","ru","it","fr","cs","de-de","fr-fr","it-it","es-es","ja","sk","da","sl","pl","de","sv","pt","pt-pt","nl-nl","zh-tw","ko-kr","ar","en-us","zh","th","ja-jp"]);
